var LA=Object.defineProperty;var VA=(n,e,t)=>e in n?LA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Xr=(n,e,t)=>VA(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Ji(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sf={exports:{}},Il={},Cf={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function MA(){if(c_)return Oe;c_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=A&&z[A]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,L={};function j(z,Y,ce){this.props=z,this.context=Y,this.refs=L,this.updater=ce||R}j.prototype.isReactComponent={},j.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=j.prototype;function b(z,Y,ce){this.props=z,this.context=Y,this.refs=L,this.updater=ce||R}var $=b.prototype=new O;$.constructor=b,P($,j.prototype),$.isPureReactComponent=!0;var K=Array.isArray,J=Object.prototype.hasOwnProperty,se={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function x(z,Y,ce){var we,Ce={},be=null,De=null;if(Y!=null)for(we in Y.ref!==void 0&&(De=Y.ref),Y.key!==void 0&&(be=""+Y.key),Y)J.call(Y,we)&&!C.hasOwnProperty(we)&&(Ce[we]=Y[we]);var Ve=arguments.length-2;if(Ve===1)Ce.children=ce;else if(1<Ve){for(var qe=Array(Ve),nt=0;nt<Ve;nt++)qe[nt]=arguments[nt+2];Ce.children=qe}if(z&&z.defaultProps)for(we in Ve=z.defaultProps,Ve)Ce[we]===void 0&&(Ce[we]=Ve[we]);return{$$typeof:n,type:z,key:be,ref:De,props:Ce,_owner:se.current}}function k(z,Y){return{$$typeof:n,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function F(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return Y[ce]})}var B=/\/+/g;function D(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):Y.toString(36)}function Ne(z,Y,ce,we,Ce){var be=typeof z;(be==="undefined"||be==="boolean")&&(z=null);var De=!1;if(z===null)De=!0;else switch(be){case"string":case"number":De=!0;break;case"object":switch(z.$$typeof){case n:case e:De=!0}}if(De)return De=z,Ce=Ce(De),z=we===""?"."+D(De,0):we,K(Ce)?(ce="",z!=null&&(ce=z.replace(B,"$&/")+"/"),Ne(Ce,Y,ce,"",function(nt){return nt})):Ce!=null&&(V(Ce)&&(Ce=k(Ce,ce+(!Ce.key||De&&De.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+z)),Y.push(Ce)),1;if(De=0,we=we===""?".":we+":",K(z))for(var Ve=0;Ve<z.length;Ve++){be=z[Ve];var qe=we+D(be,Ve);De+=Ne(be,Y,ce,qe,Ce)}else if(qe=w(z),typeof qe=="function")for(z=qe.call(z),Ve=0;!(be=z.next()).done;)be=be.value,qe=we+D(be,Ve++),De+=Ne(be,Y,ce,qe,Ce);else if(be==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return De}function $e(z,Y,ce){if(z==null)return z;var we=[],Ce=0;return Ne(z,we,"","",function(be){return Y.call(ce,be,Ce++)}),we}function Ye(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var Pe={current:null},te={transition:null},ge={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:te,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:$e,forEach:function(z,Y,ce){$e(z,function(){Y.apply(this,arguments)},ce)},count:function(z){var Y=0;return $e(z,function(){Y++}),Y},toArray:function(z){return $e(z,function(Y){return Y})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Oe.Component=j,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=b,Oe.StrictMode=s,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Oe.act=ae,Oe.cloneElement=function(z,Y,ce){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var we=P({},z.props),Ce=z.key,be=z.ref,De=z._owner;if(Y!=null){if(Y.ref!==void 0&&(be=Y.ref,De=se.current),Y.key!==void 0&&(Ce=""+Y.key),z.type&&z.type.defaultProps)var Ve=z.type.defaultProps;for(qe in Y)J.call(Y,qe)&&!C.hasOwnProperty(qe)&&(we[qe]=Y[qe]===void 0&&Ve!==void 0?Ve[qe]:Y[qe])}var qe=arguments.length-2;if(qe===1)we.children=ce;else if(1<qe){Ve=Array(qe);for(var nt=0;nt<qe;nt++)Ve[nt]=arguments[nt+2];we.children=Ve}return{$$typeof:n,type:z.type,key:Ce,ref:be,props:we,_owner:De}},Oe.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Oe.createElement=x,Oe.createFactory=function(z){var Y=x.bind(null,z);return Y.type=z,Y},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(z){return{$$typeof:h,render:z}},Oe.isValidElement=V,Oe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:Ye}},Oe.memo=function(z,Y){return{$$typeof:g,type:z,compare:Y===void 0?null:Y}},Oe.startTransition=function(z){var Y=te.transition;te.transition={};try{z()}finally{te.transition=Y}},Oe.unstable_act=ae,Oe.useCallback=function(z,Y){return Pe.current.useCallback(z,Y)},Oe.useContext=function(z){return Pe.current.useContext(z)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(z){return Pe.current.useDeferredValue(z)},Oe.useEffect=function(z,Y){return Pe.current.useEffect(z,Y)},Oe.useId=function(){return Pe.current.useId()},Oe.useImperativeHandle=function(z,Y,ce){return Pe.current.useImperativeHandle(z,Y,ce)},Oe.useInsertionEffect=function(z,Y){return Pe.current.useInsertionEffect(z,Y)},Oe.useLayoutEffect=function(z,Y){return Pe.current.useLayoutEffect(z,Y)},Oe.useMemo=function(z,Y){return Pe.current.useMemo(z,Y)},Oe.useReducer=function(z,Y,ce){return Pe.current.useReducer(z,Y,ce)},Oe.useRef=function(z){return Pe.current.useRef(z)},Oe.useState=function(z){return Pe.current.useState(z)},Oe.useSyncExternalStore=function(z,Y,ce){return Pe.current.useSyncExternalStore(z,Y,ce)},Oe.useTransition=function(){return Pe.current.useTransition()},Oe.version="18.3.1",Oe}var d_;function Yp(){return d_||(d_=1,Cf.exports=MA()),Cf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function FA(){if(h_)return Il;h_=1;var n=Yp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,g){var v,A={},w=null,R=null;g!==void 0&&(w=""+g),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(R=f.ref);for(v in f)s.call(f,v)&&!a.hasOwnProperty(v)&&(A[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)A[v]===void 0&&(A[v]=f[v]);return{$$typeof:e,type:h,key:w,ref:R,props:A,_owner:o.current}}return Il.Fragment=t,Il.jsx=u,Il.jsxs=u,Il}var f_;function UA(){return f_||(f_=1,Sf.exports=FA()),Sf.exports}var p=UA(),S=Yp();const ke=Ji(S);var Rc={},Rf={exports:{}},dn={},kf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function BA(){return p_||(p_=1,function(n){function e(te,ge){var ae=te.length;te.push(ge);e:for(;0<ae;){var z=ae-1>>>1,Y=te[z];if(0<o(Y,ge))te[z]=ge,te[ae]=Y,ae=z;else break e}}function t(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var ge=te[0],ae=te.pop();if(ae!==ge){te[0]=ae;e:for(var z=0,Y=te.length,ce=Y>>>1;z<ce;){var we=2*(z+1)-1,Ce=te[we],be=we+1,De=te[be];if(0>o(Ce,ae))be<Y&&0>o(De,Ce)?(te[z]=De,te[be]=ae,z=be):(te[z]=Ce,te[we]=ae,z=we);else if(be<Y&&0>o(De,ae))te[z]=De,te[be]=ae,z=be;else break e}}return ge}function o(te,ge){var ae=te.sortIndex-ge.sortIndex;return ae!==0?ae:te.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],g=[],v=1,A=null,w=3,R=!1,P=!1,L=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(te){for(var ge=t(g);ge!==null;){if(ge.callback===null)s(g);else if(ge.startTime<=te)s(g),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=t(g)}}function K(te){if(L=!1,$(te),!P)if(t(f)!==null)P=!0,Ye(J);else{var ge=t(g);ge!==null&&Pe(K,ge.startTime-te)}}function J(te,ge){P=!1,L&&(L=!1,O(x),x=-1),R=!0;var ae=w;try{for($(ge),A=t(f);A!==null&&(!(A.expirationTime>ge)||te&&!F());){var z=A.callback;if(typeof z=="function"){A.callback=null,w=A.priorityLevel;var Y=z(A.expirationTime<=ge);ge=n.unstable_now(),typeof Y=="function"?A.callback=Y:A===t(f)&&s(f),$(ge)}else s(f);A=t(f)}if(A!==null)var ce=!0;else{var we=t(g);we!==null&&Pe(K,we.startTime-ge),ce=!1}return ce}finally{A=null,w=ae,R=!1}}var se=!1,C=null,x=-1,k=5,V=-1;function F(){return!(n.unstable_now()-V<k)}function B(){if(C!==null){var te=n.unstable_now();V=te;var ge=!0;try{ge=C(!0,te)}finally{ge?D():(se=!1,C=null)}}else se=!1}var D;if(typeof b=="function")D=function(){b(B)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,$e=Ne.port2;Ne.port1.onmessage=B,D=function(){$e.postMessage(null)}}else D=function(){j(B,0)};function Ye(te){C=te,se||(se=!0,D())}function Pe(te,ge){x=j(function(){te(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){P||R||(P=!0,Ye(J))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(te){switch(w){case 1:case 2:case 3:var ge=3;break;default:ge=w}var ae=w;w=ge;try{return te()}finally{w=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,ge){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ae=w;w=te;try{return ge()}finally{w=ae}},n.unstable_scheduleCallback=function(te,ge,ae){var z=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?z+ae:z):ae=z,te){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,te={id:v++,callback:ge,priorityLevel:te,startTime:ae,expirationTime:Y,sortIndex:-1},ae>z?(te.sortIndex=ae,e(g,te),t(f)===null&&te===t(g)&&(L?(O(x),x=-1):L=!0,Pe(K,ae-z))):(te.sortIndex=Y,e(f,te),P||R||(P=!0,Ye(J))),te},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(te){var ge=w;return function(){var ae=w;w=ge;try{return te.apply(this,arguments)}finally{w=ae}}}}(Pf)),Pf}var m_;function zA(){return m_||(m_=1,kf.exports=BA()),kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function $A(){if(g_)return dn;g_=1;var n=Yp(),e=zA();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},A={};function w(r){return f.call(A,r)?!0:f.call(v,r)?!1:g.test(r)?A[r]=!0:(v[r]=!0,!1)}function R(r,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,i,l,d){if(i===null||typeof i>"u"||R(r,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function L(r,i,l,d,m,_,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=_,this.removeEmptyString=T}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];j[i]=new L(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function b(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(O,b);j[i]=new L(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(O,b);j[i]=new L(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(O,b);j[i]=new L(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function $(r,i,l,d){var m=j.hasOwnProperty(i)?j[i]:null;(m!==null?m.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,l,m,d)&&(l=null),d||m===null?w(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(i=m.attributeName,d=m.attributeNamespace,l===null?r.removeAttribute(i):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?r.setAttributeNS(d,i,l):r.setAttribute(i,l))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),se=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),te=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,z;function Y(r){if(z===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);z=i&&i[1]||""}return`
`+z+r}var ce=!1;function we(r,i){if(!r||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(G){var d=G}Reflect.construct(r,[],i)}else{try{i.call()}catch(G){d=G}r.call(i.prototype)}else{try{throw Error()}catch(G){d=G}r()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),_=d.stack.split(`
`),T=m.length-1,N=_.length-1;1<=T&&0<=N&&m[T]!==_[N];)N--;for(;1<=T&&0<=N;T--,N--)if(m[T]!==_[N]){if(T!==1||N!==1)do if(T--,N--,0>N||m[T]!==_[N]){var M=`
`+m[T].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=T&&0<=N);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Ce(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=we(r.type,!1),r;case 11:return r=we(r.type.render,!1),r;case 1:return r=we(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case se:return"Portal";case k:return"Profiler";case x:return"StrictMode";case D:return"Suspense";case Ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case F:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case B:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $e:return i=r.displayName||null,i!==null?i:be(r.type)||"Memo";case Ye:i=r._payload,r=r._init;try{return be(r(i))}catch{}}return null}function De(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ve(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nt(r){var i=qe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,_=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,_.call(this,T)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function en(r){r._valueTracker||(r._valueTracker=nt(r))}function mn(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return r&&(d=qe(r)?r.checked?"true":"false":r.value),r=d,r!==l?(i.setValue(r),!0):!1}function tn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function nn(r,i){var l=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ke(r,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Ve(i.value!=null?i.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function pr(r,i){i=i.checked,i!=null&&$(r,"checked",i,!1)}function qn(r,i){pr(r,i);var l=Ve(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?hs(r,i.type,l):i.hasOwnProperty("defaultValue")&&hs(r,i.type,Ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function io(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function hs(r,i,l){(i!=="number"||tn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Hn=Array.isArray;function Wn(r,i,l,d){if(r=r.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=i.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Ve(l),i=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}i!==null||r[m].disabled||(i=r[m])}i!==null&&(i.selected=!0)}}function ai(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function fs(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(Hn(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:Ve(l)}}function Lr(r,i){var l=Ve(i.value),d=Ve(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function li(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Ee(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Ee(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var xn,Da=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,m){MSApp.execUnsafeLocalFunction(function(){return r(i,l,d,m)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(xn=xn||document.createElement("div"),xn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=xn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function ps(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ci=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(r){ci.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),ui[i]=ui[r]})});function ja(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ui.hasOwnProperty(r)&&ui[r]?(""+i).trim():i+"px"}function La(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=ja(l,i[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,m):r[l]=m}}var Va=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(r,i){if(i){if(Va[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Fa(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=null;function oo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ao=null,Sn=null,mr=null;function lo(r){if(r=ul(r)){if(typeof ao!="function")throw Error(t(280));var i=r.stateNode;i&&(i=$u(i),ao(r.stateNode,r.type,i))}}function gr(r){Sn?mr?mr.push(r):mr=[r]:Sn=r}function Ua(){if(Sn){var r=Sn,i=mr;if(mr=Sn=null,lo(r),i)for(r=0;r<i.length;r++)lo(i[r])}}function hi(r,i){return r(i)}function Ba(){}var Vr=!1;function za(r,i,l){if(Vr)return r(i,l);Vr=!0;try{return hi(r,i,l)}finally{Vr=!1,(Sn!==null||mr!==null)&&(Ba(),Ua())}}function mt(r,i){var l=r.stateNode;if(l===null)return null;var d=$u(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var uo=!1;if(h)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{uo=!1}function fi(r,i,l,d,m,_,T,N,M){var G=Array.prototype.slice.call(arguments,3);try{i.apply(l,G)}catch(ne){this.onError(ne)}}var pi=!1,co=null,Gn=!1,$a=null,Zd={onError:function(r){pi=!0,co=r}};function ho(r,i,l,d,m,_,T,N,M){pi=!1,co=null,fi.apply(Zd,arguments)}function pu(r,i,l,d,m,_,T,N,M){if(ho.apply(this,arguments),pi){if(pi){var G=co;pi=!1,co=null}else throw Error(t(198));Gn||(Gn=!0,$a=G)}}function Qn(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function mi(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Yn(r){if(Qn(r)!==r)throw Error(t(188))}function mu(r){var i=r.alternate;if(!i){if(i=Qn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var l=r,d=i;;){var m=l.return;if(m===null)break;var _=m.alternate;if(_===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===l)return Yn(m),r;if(_===d)return Yn(m),i;_=_.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=_;else{for(var T=!1,N=m.child;N;){if(N===l){T=!0,l=m,d=_;break}if(N===d){T=!0,d=m,l=_;break}N=N.sibling}if(!T){for(N=_.child;N;){if(N===l){T=!0,l=_,d=m;break}if(N===d){T=!0,d=_,l=m;break}N=N.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:i}function qa(r){return r=mu(r),r!==null?fo(r):null}function fo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=fo(r);if(i!==null)return i;r=r.sibling}return null}var po=e.unstable_scheduleCallback,Ha=e.unstable_cancelCallback,gu=e.unstable_shouldYield,eh=e.unstable_requestPaint,et=e.unstable_now,yu=e.unstable_getCurrentPriorityLevel,gi=e.unstable_ImmediatePriority,ms=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,Wa=e.unstable_LowPriority,_u=e.unstable_IdlePriority,yi=null,gn=null;function vu(r){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(yi,r,void 0,(r.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:wu,Ka=Math.log,Eu=Math.LN2;function wu(r){return r>>>=0,r===0?32:31-(Ka(r)/Eu|0)|0}var mo=64,go=4194304;function gs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function _i(r,i){var l=r.pendingLanes;if(l===0)return 0;var d=0,m=r.suspendedLanes,_=r.pingedLanes,T=l&268435455;if(T!==0){var N=T&~m;N!==0?d=gs(N):(_&=T,_!==0&&(d=gs(_)))}else T=l&~m,T!==0?d=gs(T):_!==0&&(d=gs(_));if(d===0)return 0;if(i!==0&&i!==d&&!(i&m)&&(m=d&-d,_=i&-i,m>=_||m===16&&(_&4194240)!==0))return i;if(d&4&&(d|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)l=31-Gt(i),m=1<<l,d|=r[l],i&=~m;return d}function th(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(r,i){for(var l=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,_=r.pendingLanes;0<_;){var T=31-Gt(_),N=1<<T,M=m[T];M===-1?(!(N&l)||N&d)&&(m[T]=th(N,i)):M<=i&&(r.expiredLanes|=N),_&=~N}}function yn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function vi(){var r=mo;return mo<<=1,!(mo&4194240)&&(mo=64),r}function ys(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function _s(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Gt(i),r[i]=l}function Xe(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-Gt(l),_=1<<m;i[m]=0,d[m]=-1,r[m]=-1,l&=~_}}function vs(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var d=31-Gt(l),m=1<<d;m&i|r[d]&i&&(r[d]|=i),l&=~m}}var Me=0;function Es(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Tu,yo,Au,Iu,xu,Ga=!1,yr=[],bt=null,Xn=null,Jn=null,ws=new Map,Rn=new Map,_r=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Su(r,i){switch(r){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":ws.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(i.pointerId)}}function rn(r,i,l,d,m,_){return r===null||r.nativeEvent!==_?(r={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:_,targetContainers:[m]},i!==null&&(i=ul(i),i!==null&&yo(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),r)}function rh(r,i,l,d,m){switch(i){case"focusin":return bt=rn(bt,r,i,l,d,m),!0;case"dragenter":return Xn=rn(Xn,r,i,l,d,m),!0;case"mouseover":return Jn=rn(Jn,r,i,l,d,m),!0;case"pointerover":var _=m.pointerId;return ws.set(_,rn(ws.get(_)||null,r,i,l,d,m)),!0;case"gotpointercapture":return _=m.pointerId,Rn.set(_,rn(Rn.get(_)||null,r,i,l,d,m)),!0}return!1}function Cu(r){var i=Ii(r.target);if(i!==null){var l=Qn(i);if(l!==null){if(i=l.tag,i===13){if(i=mi(l),i!==null){r.blockedOn=i,xu(r.priority,function(){Au(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=_o(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);di=d,l.target.dispatchEvent(d),di=null}else return i=ul(l),i!==null&&yo(i),r.blockedOn=l,!1;i.shift()}return!0}function Ei(r,i,l){Fr(r)&&l.delete(i)}function Ru(){Ga=!1,bt!==null&&Fr(bt)&&(bt=null),Xn!==null&&Fr(Xn)&&(Xn=null),Jn!==null&&Fr(Jn)&&(Jn=null),ws.forEach(Ei),Rn.forEach(Ei)}function Zn(r,i){r.blockedOn===i&&(r.blockedOn=null,Ga||(Ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ru)))}function er(r){function i(m){return Zn(m,r)}if(0<yr.length){Zn(yr[0],r);for(var l=1;l<yr.length;l++){var d=yr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(bt!==null&&Zn(bt,r),Xn!==null&&Zn(Xn,r),Jn!==null&&Zn(Jn,r),ws.forEach(i),Rn.forEach(i),l=0;l<_r.length;l++)d=_r[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<_r.length&&(l=_r[0],l.blockedOn===null);)Cu(l),l.blockedOn===null&&_r.shift()}var Ur=K.ReactCurrentBatchConfig,Ts=!0;function ot(r,i,l,d){var m=Me,_=Ur.transition;Ur.transition=null;try{Me=1,Qa(r,i,l,d)}finally{Me=m,Ur.transition=_}}function sh(r,i,l,d){var m=Me,_=Ur.transition;Ur.transition=null;try{Me=4,Qa(r,i,l,d)}finally{Me=m,Ur.transition=_}}function Qa(r,i,l,d){if(Ts){var m=_o(r,i,l,d);if(m===null)mh(r,i,d,wi,l),Su(r,d);else if(rh(m,r,i,l,d))d.stopPropagation();else if(Su(r,d),i&4&&-1<nh.indexOf(r)){for(;m!==null;){var _=ul(m);if(_!==null&&Tu(_),_=_o(r,i,l,d),_===null&&mh(r,i,d,wi,l),_===m)break;m=_}m!==null&&d.stopPropagation()}else mh(r,i,d,null,l)}}var wi=null;function _o(r,i,l,d){if(wi=null,r=oo(d),r=Ii(r),r!==null)if(i=Qn(r),i===null)r=null;else if(l=i.tag,l===13){if(r=mi(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return wi=r,null}function Ya(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yu()){case gi:return 1;case ms:return 4;case Cn:case Wa:return 16;case _u:return 536870912;default:return 16}default:return 16}}var _n=null,vo=null,sn=null;function Xa(){if(sn)return sn;var r,i=vo,l=i.length,d,m="value"in _n?_n.value:_n.textContent,_=m.length;for(r=0;r<l&&i[r]===m[r];r++);var T=l-r;for(d=1;d<=T&&i[l-d]===m[_-d];d++);return sn=m.slice(r,1<d?1-d:void 0)}function Eo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function vr(){return!0}function Ja(){return!1}function Ot(r){function i(l,d,m,_,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(l=r[N],this[N]=l?l(_):_[N]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?vr:Ja,this.isPropagationStopped=Ja,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),i}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Ot(tr),Er=ae({},tr,{view:0,detail:0}),ih=Ot(Er),To,Br,As,Ti=ae({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==As&&(As&&r.type==="mousemove"?(To=r.screenX-As.screenX,Br=r.screenY-As.screenY):Br=To=0,As=r),To)},movementY:function(r){return"movementY"in r?r.movementY:Br}}),Ao=Ot(Ti),Za=ae({},Ti,{dataTransfer:0}),ku=Ot(Za),Io=ae({},Er,{relatedTarget:0}),xo=Ot(Io),Pu=ae({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Ot(Pu),Nu=ae({},tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),bu=Ot(Nu),Ou=ae({},tr,{data:0}),el=Ot(Ou),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Du[r])?!!i[r]:!1}function wr(){return ju}var c=ae({},Er,{key:function(r){if(r.key){var i=So[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Eo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(r){return r.type==="keypress"?Eo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Eo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),y=Ot(c),E=ae({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Ot(E),q=ae({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),Q=Ot(q),oe=ae({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Ot(oe),Tt=ae({},Ti,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Ot(Tt),Ct=[9,13,27,32],_t=h&&"CompositionEvent"in window,kn=null;h&&"documentMode"in document&&(kn=document.documentMode);var vn=h&&"TextEvent"in window&&!kn,Ai=h&&(!_t||kn&&8<kn&&11>=kn),Co=" ",sg=!1;function ig(r,i){switch(r){case"keyup":return Ct.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ro=!1;function D0(r,i){switch(r){case"compositionend":return og(i);case"keypress":return i.which!==32?null:(sg=!0,Co);case"textInput":return r=i.data,r===Co&&sg?null:r;default:return null}}function j0(r,i){if(Ro)return r==="compositionend"||!_t&&ig(r,i)?(r=Xa(),sn=vo=_n=null,Ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var L0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!L0[r.type]:i==="textarea"}function lg(r,i,l,d){gr(d),i=Uu(i,"onChange"),0<i.length&&(l=new wo("onChange","change",null,l,d),r.push({event:l,listeners:i}))}var tl=null,nl=null;function V0(r){Sg(r,0)}function Lu(r){var i=Oo(r);if(mn(i))return r}function M0(r,i){if(r==="change")return i}var ug=!1;if(h){var oh;if(h){var ah="oninput"in document;if(!ah){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),ah=typeof cg.oninput=="function"}oh=ah}else oh=!1;ug=oh&&(!document.documentMode||9<document.documentMode)}function dg(){tl&&(tl.detachEvent("onpropertychange",hg),nl=tl=null)}function hg(r){if(r.propertyName==="value"&&Lu(nl)){var i=[];lg(i,nl,r,oo(r)),za(V0,i)}}function F0(r,i,l){r==="focusin"?(dg(),tl=i,nl=l,tl.attachEvent("onpropertychange",hg)):r==="focusout"&&dg()}function U0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lu(nl)}function B0(r,i){if(r==="click")return Lu(i)}function z0(r,i){if(r==="input"||r==="change")return Lu(i)}function $0(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var nr=typeof Object.is=="function"?Object.is:$0;function rl(r,i){if(nr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(i,m)||!nr(r[m],i[m]))return!1}return!0}function fg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pg(r,i){var l=fg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=i&&d>=i)return{node:l,offset:i-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=fg(l)}}function mg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?mg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function gg(){for(var r=window,i=tn();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=tn(r.document)}return i}function lh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function q0(r){var i=gg(),l=r.focusedElem,d=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&mg(l.ownerDocument.documentElement,l)){if(d!==null&&lh(l)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,_=Math.min(d.start,m);d=d.end===void 0?_:Math.min(d.end,m),!r.extend&&_>d&&(m=d,d=_,_=m),m=pg(l,_);var T=pg(l,d);m&&T&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),r.removeAllRanges(),_>d?(r.addRange(i),r.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var H0=h&&"documentMode"in document&&11>=document.documentMode,ko=null,uh=null,sl=null,ch=!1;function yg(r,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ch||ko==null||ko!==tn(d)||(d=ko,"selectionStart"in d&&lh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),sl&&rl(sl,d)||(sl=d,d=Uu(uh,"onSelect"),0<d.length&&(i=new wo("onSelect","select",null,i,l),r.push({event:i,listeners:d}),i.target=ko)))}function Vu(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Po={animationend:Vu("Animation","AnimationEnd"),animationiteration:Vu("Animation","AnimationIteration"),animationstart:Vu("Animation","AnimationStart"),transitionend:Vu("Transition","TransitionEnd")},dh={},_g={};h&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Mu(r){if(dh[r])return dh[r];if(!Po[r])return r;var i=Po[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in _g)return dh[r]=i[l];return r}var vg=Mu("animationend"),Eg=Mu("animationiteration"),wg=Mu("animationstart"),Tg=Mu("transitionend"),Ag=new Map,Ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(r,i){Ag.set(r,i),a(i,[r])}for(var hh=0;hh<Ig.length;hh++){var fh=Ig[hh],W0=fh.toLowerCase(),K0=fh[0].toUpperCase()+fh.slice(1);Is(W0,"on"+K0)}Is(vg,"onAnimationEnd"),Is(Eg,"onAnimationIteration"),Is(wg,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(Tg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G0=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function xg(r,i,l){var d=r.type||"unknown-event";r.currentTarget=l,pu(d,i,void 0,r),r.currentTarget=null}function Sg(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],m=d.event;d=d.listeners;e:{var _=void 0;if(i)for(var T=d.length-1;0<=T;T--){var N=d[T],M=N.instance,G=N.currentTarget;if(N=N.listener,M!==_&&m.isPropagationStopped())break e;xg(m,N,G),_=M}else for(T=0;T<d.length;T++){if(N=d[T],M=N.instance,G=N.currentTarget,N=N.listener,M!==_&&m.isPropagationStopped())break e;xg(m,N,G),_=M}}}if(Gn)throw r=$a,Gn=!1,$a=null,r}function rt(r,i){var l=i[wh];l===void 0&&(l=i[wh]=new Set);var d=r+"__bubble";l.has(d)||(Cg(i,r,2,!1),l.add(d))}function ph(r,i,l){var d=0;i&&(d|=4),Cg(l,r,d,i)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function ol(r){if(!r[Fu]){r[Fu]=!0,s.forEach(function(l){l!=="selectionchange"&&(G0.has(l)||ph(l,!1,r),ph(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Fu]||(i[Fu]=!0,ph("selectionchange",!1,i))}}function Cg(r,i,l,d){switch(Ya(i)){case 1:var m=ot;break;case 4:m=sh;break;default:m=Qa}l=m.bind(null,i,l,r),m=void 0,!uo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(i,l,{capture:!0,passive:m}):r.addEventListener(i,l,!0):m!==void 0?r.addEventListener(i,l,{passive:m}):r.addEventListener(i,l,!1)}function mh(r,i,l,d,m){var _=d;if(!(i&1)&&!(i&2)&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var N=d.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;N!==null;){if(T=Ii(N),T===null)return;if(M=T.tag,M===5||M===6){d=_=T;continue e}N=N.parentNode}}d=d.return}za(function(){var G=_,ne=oo(l),re=[];e:{var ee=Ag.get(r);if(ee!==void 0){var le=wo,he=r;switch(r){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":le=y;break;case"focusin":he="focus",le=xo;break;case"focusout":he="blur",le=xo;break;case"beforeblur":case"afterblur":le=xo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Q;break;case vg:case Eg:case wg:le=zr;break;case Tg:le=Qe;break;case"scroll":le=ih;break;case"wheel":le=Ue;break;case"copy":case"cut":case"paste":le=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=I}var pe=(i&4)!==0,gt=!pe&&r==="scroll",H=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var U=G,W;U!==null;){W=U;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,H!==null&&(ie=mt(U,H),ie!=null&&pe.push(al(U,ie,W)))),gt)break;U=U.return}0<pe.length&&(ee=new le(ee,he,null,l,ne),re.push({event:ee,listeners:pe}))}}if(!(i&7)){e:{if(ee=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",ee&&l!==di&&(he=l.relatedTarget||l.fromElement)&&(Ii(he)||he[$r]))break e;if((le||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,le?(he=l.relatedTarget||l.toElement,le=G,he=he?Ii(he):null,he!==null&&(gt=Qn(he),he!==gt||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=G),le!==he)){if(pe=Ao,ie="onMouseLeave",H="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(pe=I,ie="onPointerLeave",H="onPointerEnter",U="pointer"),gt=le==null?ee:Oo(le),W=he==null?ee:Oo(he),ee=new pe(ie,U+"leave",le,l,ne),ee.target=gt,ee.relatedTarget=W,ie=null,Ii(ne)===G&&(pe=new pe(H,U+"enter",he,l,ne),pe.target=W,pe.relatedTarget=gt,ie=pe),gt=ie,le&&he)t:{for(pe=le,H=he,U=0,W=pe;W;W=No(W))U++;for(W=0,ie=H;ie;ie=No(ie))W++;for(;0<U-W;)pe=No(pe),U--;for(;0<W-U;)H=No(H),W--;for(;U--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=No(pe),H=No(H)}pe=null}else pe=null;le!==null&&Rg(re,ee,le,pe,!1),he!==null&&gt!==null&&Rg(re,gt,he,pe,!0)}}e:{if(ee=G?Oo(G):window,le=ee.nodeName&&ee.nodeName.toLowerCase(),le==="select"||le==="input"&&ee.type==="file")var me=M0;else if(ag(ee))if(ug)me=z0;else{me=U0;var _e=F0}else(le=ee.nodeName)&&le.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(me=B0);if(me&&(me=me(r,G))){lg(re,me,l,ne);break e}_e&&_e(r,ee,G),r==="focusout"&&(_e=ee._wrapperState)&&_e.controlled&&ee.type==="number"&&hs(ee,"number",ee.value)}switch(_e=G?Oo(G):window,r){case"focusin":(ag(_e)||_e.contentEditable==="true")&&(ko=_e,uh=G,sl=null);break;case"focusout":sl=uh=ko=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,yg(re,l,ne);break;case"selectionchange":if(H0)break;case"keydown":case"keyup":yg(re,l,ne)}var ve;if(_t)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ro?ig(r,l)&&(Ae="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(Ai&&l.locale!=="ko"&&(Ro||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ro&&(ve=Xa()):(_n=ne,vo="value"in _n?_n.value:_n.textContent,Ro=!0)),_e=Uu(G,Ae),0<_e.length&&(Ae=new el(Ae,r,null,l,ne),re.push({event:Ae,listeners:_e}),ve?Ae.data=ve:(ve=og(l),ve!==null&&(Ae.data=ve)))),(ve=vn?D0(r,l):j0(r,l))&&(G=Uu(G,"onBeforeInput"),0<G.length&&(ne=new el("onBeforeInput","beforeinput",null,l,ne),re.push({event:ne,listeners:G}),ne.data=ve))}Sg(re,i)})}function al(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Uu(r,i){for(var l=i+"Capture",d=[];r!==null;){var m=r,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=mt(r,l),_!=null&&d.unshift(al(r,_,m)),_=mt(r,i),_!=null&&d.push(al(r,_,m))),r=r.return}return d}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Rg(r,i,l,d,m){for(var _=i._reactName,T=[];l!==null&&l!==d;){var N=l,M=N.alternate,G=N.stateNode;if(M!==null&&M===d)break;N.tag===5&&G!==null&&(N=G,m?(M=mt(l,_),M!=null&&T.unshift(al(l,M,N))):m||(M=mt(l,_),M!=null&&T.push(al(l,M,N)))),l=l.return}T.length!==0&&r.push({event:i,listeners:T})}var Q0=/\r\n?/g,Y0=/\u0000|\uFFFD/g;function kg(r){return(typeof r=="string"?r:""+r).replace(Q0,`
`).replace(Y0,"")}function Bu(r,i,l){if(i=kg(i),kg(r)!==i&&l)throw Error(t(425))}function zu(){}var gh=null,yh=null;function _h(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,X0=typeof clearTimeout=="function"?clearTimeout:void 0,Pg=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pg<"u"?function(r){return Pg.resolve(null).then(r).catch(Z0)}:vh;function Z0(r){setTimeout(function(){throw r})}function Eh(r,i){var l=i,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){r.removeChild(m),er(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);er(i)}function xs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Ng(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Tr="__reactFiber$"+bo,ll="__reactProps$"+bo,$r="__reactContainer$"+bo,wh="__reactEvents$"+bo,eA="__reactListeners$"+bo,tA="__reactHandles$"+bo;function Ii(r){var i=r[Tr];if(i)return i;for(var l=r.parentNode;l;){if(i=l[$r]||l[Tr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Ng(r);r!==null;){if(l=r[Tr])return l;r=Ng(r)}return i}r=l,l=r.parentNode}return null}function ul(r){return r=r[Tr]||r[$r],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Oo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function $u(r){return r[ll]||null}var Th=[],Do=-1;function Ss(r){return{current:r}}function st(r){0>Do||(r.current=Th[Do],Th[Do]=null,Do--)}function tt(r,i){Do++,Th[Do]=r.current,r.current=i}var Cs={},Ut=Ss(Cs),on=Ss(!1),xi=Cs;function jo(r,i){var l=r.type.contextTypes;if(!l)return Cs;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in l)m[_]=i[_];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=m),m}function an(r){return r=r.childContextTypes,r!=null}function qu(){st(on),st(Ut)}function bg(r,i,l){if(Ut.current!==Cs)throw Error(t(168));tt(Ut,i),tt(on,l)}function Og(r,i,l){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in i))throw Error(t(108,De(r)||"Unknown",m));return ae({},l,d)}function Hu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Cs,xi=Ut.current,tt(Ut,r),tt(on,on.current),!0}function Dg(r,i,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Og(r,i,xi),d.__reactInternalMemoizedMergedChildContext=r,st(on),st(Ut),tt(Ut,r)):st(on),tt(on,l)}var qr=null,Wu=!1,Ah=!1;function jg(r){qr===null?qr=[r]:qr.push(r)}function nA(r){Wu=!0,jg(r)}function Rs(){if(!Ah&&qr!==null){Ah=!0;var r=0,i=Me;try{var l=qr;for(Me=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}qr=null,Wu=!1}catch(m){throw qr!==null&&(qr=qr.slice(r+1)),po(gi,Rs),m}finally{Me=i,Ah=!1}}return null}var Lo=[],Vo=0,Ku=null,Gu=0,Pn=[],Nn=0,Si=null,Hr=1,Wr="";function Ci(r,i){Lo[Vo++]=Gu,Lo[Vo++]=Ku,Ku=r,Gu=i}function Lg(r,i,l){Pn[Nn++]=Hr,Pn[Nn++]=Wr,Pn[Nn++]=Si,Si=r;var d=Hr;r=Wr;var m=32-Gt(d)-1;d&=~(1<<m),l+=1;var _=32-Gt(i)+m;if(30<_){var T=m-m%5;_=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Hr=1<<32-Gt(i)+m|l<<m|d,Wr=_+r}else Hr=1<<_|l<<m|d,Wr=r}function Ih(r){r.return!==null&&(Ci(r,1),Lg(r,1,0))}function xh(r){for(;r===Ku;)Ku=Lo[--Vo],Lo[Vo]=null,Gu=Lo[--Vo],Lo[Vo]=null;for(;r===Si;)Si=Pn[--Nn],Pn[Nn]=null,Wr=Pn[--Nn],Pn[Nn]=null,Hr=Pn[--Nn],Pn[Nn]=null}var En=null,wn=null,at=!1,rr=null;function Vg(r,i){var l=jn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Mg(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,En=r,wn=xs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,En=r,wn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Si!==null?{id:Hr,overflow:Wr}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=jn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,En=r,wn=null,!0):!1;default:return!1}}function Sh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ch(r){if(at){var i=wn;if(i){var l=i;if(!Mg(r,i)){if(Sh(r))throw Error(t(418));i=xs(l.nextSibling);var d=En;i&&Mg(r,i)?Vg(d,l):(r.flags=r.flags&-4097|2,at=!1,En=r)}}else{if(Sh(r))throw Error(t(418));r.flags=r.flags&-4097|2,at=!1,En=r}}}function Fg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;En=r}function Qu(r){if(r!==En)return!1;if(!at)return Fg(r),at=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!_h(r.type,r.memoizedProps)),i&&(i=wn)){if(Sh(r))throw Ug(),Error(t(418));for(;i;)Vg(r,i),i=xs(i.nextSibling)}if(Fg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){wn=xs(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}wn=null}}else wn=En?xs(r.stateNode.nextSibling):null;return!0}function Ug(){for(var r=wn;r;)r=xs(r.nextSibling)}function Mo(){wn=En=null,at=!1}function Rh(r){rr===null?rr=[r]:rr.push(r)}var rA=K.ReactCurrentBatchConfig;function cl(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var m=d,_=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===_?i.ref:(i=function(T){var N=m.refs;T===null?delete N[_]:N[_]=T},i._stringRef=_,i)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Yu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Bg(r){var i=r._init;return i(r._payload)}function zg(r){function i(H,U){if(r){var W=H.deletions;W===null?(H.deletions=[U],H.flags|=16):W.push(U)}}function l(H,U){if(!r)return null;for(;U!==null;)i(H,U),U=U.sibling;return null}function d(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(H,U){return H=Ls(H,U),H.index=0,H.sibling=null,H}function _(H,U,W){return H.index=W,r?(W=H.alternate,W!==null?(W=W.index,W<U?(H.flags|=2,U):W):(H.flags|=2,U)):(H.flags|=1048576,U)}function T(H){return r&&H.alternate===null&&(H.flags|=2),H}function N(H,U,W,ie){return U===null||U.tag!==6?(U=Ef(W,H.mode,ie),U.return=H,U):(U=m(U,W),U.return=H,U)}function M(H,U,W,ie){var me=W.type;return me===C?ne(H,U,W.props.children,ie,W.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ye&&Bg(me)===U.type)?(ie=m(U,W.props),ie.ref=cl(H,U,W),ie.return=H,ie):(ie=Ec(W.type,W.key,W.props,null,H.mode,ie),ie.ref=cl(H,U,W),ie.return=H,ie)}function G(H,U,W,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==W.containerInfo||U.stateNode.implementation!==W.implementation?(U=wf(W,H.mode,ie),U.return=H,U):(U=m(U,W.children||[]),U.return=H,U)}function ne(H,U,W,ie,me){return U===null||U.tag!==7?(U=ji(W,H.mode,ie,me),U.return=H,U):(U=m(U,W),U.return=H,U)}function re(H,U,W){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Ef(""+U,H.mode,W),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case J:return W=Ec(U.type,U.key,U.props,null,H.mode,W),W.ref=cl(H,null,U),W.return=H,W;case se:return U=wf(U,H.mode,W),U.return=H,U;case Ye:var ie=U._init;return re(H,ie(U._payload),W)}if(Hn(U)||ge(U))return U=ji(U,H.mode,W,null),U.return=H,U;Yu(H,U)}return null}function ee(H,U,W,ie){var me=U!==null?U.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return me!==null?null:N(H,U,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case J:return W.key===me?M(H,U,W,ie):null;case se:return W.key===me?G(H,U,W,ie):null;case Ye:return me=W._init,ee(H,U,me(W._payload),ie)}if(Hn(W)||ge(W))return me!==null?null:ne(H,U,W,ie,null);Yu(H,W)}return null}function le(H,U,W,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(W)||null,N(U,H,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case J:return H=H.get(ie.key===null?W:ie.key)||null,M(U,H,ie,me);case se:return H=H.get(ie.key===null?W:ie.key)||null,G(U,H,ie,me);case Ye:var _e=ie._init;return le(H,U,W,_e(ie._payload),me)}if(Hn(ie)||ge(ie))return H=H.get(W)||null,ne(U,H,ie,me,null);Yu(U,ie)}return null}function he(H,U,W,ie){for(var me=null,_e=null,ve=U,Ae=U=0,Pt=null;ve!==null&&Ae<W.length;Ae++){ve.index>Ae?(Pt=ve,ve=null):Pt=ve.sibling;var He=ee(H,ve,W[Ae],ie);if(He===null){ve===null&&(ve=Pt);break}r&&ve&&He.alternate===null&&i(H,ve),U=_(He,U,Ae),_e===null?me=He:_e.sibling=He,_e=He,ve=Pt}if(Ae===W.length)return l(H,ve),at&&Ci(H,Ae),me;if(ve===null){for(;Ae<W.length;Ae++)ve=re(H,W[Ae],ie),ve!==null&&(U=_(ve,U,Ae),_e===null?me=ve:_e.sibling=ve,_e=ve);return at&&Ci(H,Ae),me}for(ve=d(H,ve);Ae<W.length;Ae++)Pt=le(ve,H,Ae,W[Ae],ie),Pt!==null&&(r&&Pt.alternate!==null&&ve.delete(Pt.key===null?Ae:Pt.key),U=_(Pt,U,Ae),_e===null?me=Pt:_e.sibling=Pt,_e=Pt);return r&&ve.forEach(function(Vs){return i(H,Vs)}),at&&Ci(H,Ae),me}function pe(H,U,W,ie){var me=ge(W);if(typeof me!="function")throw Error(t(150));if(W=me.call(W),W==null)throw Error(t(151));for(var _e=me=null,ve=U,Ae=U=0,Pt=null,He=W.next();ve!==null&&!He.done;Ae++,He=W.next()){ve.index>Ae?(Pt=ve,ve=null):Pt=ve.sibling;var Vs=ee(H,ve,He.value,ie);if(Vs===null){ve===null&&(ve=Pt);break}r&&ve&&Vs.alternate===null&&i(H,ve),U=_(Vs,U,Ae),_e===null?me=Vs:_e.sibling=Vs,_e=Vs,ve=Pt}if(He.done)return l(H,ve),at&&Ci(H,Ae),me;if(ve===null){for(;!He.done;Ae++,He=W.next())He=re(H,He.value,ie),He!==null&&(U=_(He,U,Ae),_e===null?me=He:_e.sibling=He,_e=He);return at&&Ci(H,Ae),me}for(ve=d(H,ve);!He.done;Ae++,He=W.next())He=le(ve,H,Ae,He.value,ie),He!==null&&(r&&He.alternate!==null&&ve.delete(He.key===null?Ae:He.key),U=_(He,U,Ae),_e===null?me=He:_e.sibling=He,_e=He);return r&&ve.forEach(function(jA){return i(H,jA)}),at&&Ci(H,Ae),me}function gt(H,U,W,ie){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case J:e:{for(var me=W.key,_e=U;_e!==null;){if(_e.key===me){if(me=W.type,me===C){if(_e.tag===7){l(H,_e.sibling),U=m(_e,W.props.children),U.return=H,H=U;break e}}else if(_e.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ye&&Bg(me)===_e.type){l(H,_e.sibling),U=m(_e,W.props),U.ref=cl(H,_e,W),U.return=H,H=U;break e}l(H,_e);break}else i(H,_e);_e=_e.sibling}W.type===C?(U=ji(W.props.children,H.mode,ie,W.key),U.return=H,H=U):(ie=Ec(W.type,W.key,W.props,null,H.mode,ie),ie.ref=cl(H,U,W),ie.return=H,H=ie)}return T(H);case se:e:{for(_e=W.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===W.containerInfo&&U.stateNode.implementation===W.implementation){l(H,U.sibling),U=m(U,W.children||[]),U.return=H,H=U;break e}else{l(H,U);break}else i(H,U);U=U.sibling}U=wf(W,H.mode,ie),U.return=H,H=U}return T(H);case Ye:return _e=W._init,gt(H,U,_e(W._payload),ie)}if(Hn(W))return he(H,U,W,ie);if(ge(W))return pe(H,U,W,ie);Yu(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,U!==null&&U.tag===6?(l(H,U.sibling),U=m(U,W),U.return=H,H=U):(l(H,U),U=Ef(W,H.mode,ie),U.return=H,H=U),T(H)):l(H,U)}return gt}var Fo=zg(!0),$g=zg(!1),Xu=Ss(null),Ju=null,Uo=null,kh=null;function Ph(){kh=Uo=Ju=null}function Nh(r){var i=Xu.current;st(Xu),r._currentValue=i}function bh(r,i,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===l)break;r=r.return}}function Bo(r,i){Ju=r,kh=Uo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(ln=!0),r.firstContext=null)}function bn(r){var i=r._currentValue;if(kh!==r)if(r={context:r,memoizedValue:i,next:null},Uo===null){if(Ju===null)throw Error(t(308));Uo=r,Ju.dependencies={lanes:0,firstContext:r}}else Uo=Uo.next=r;return i}var Ri=null;function Oh(r){Ri===null?Ri=[r]:Ri.push(r)}function qg(r,i,l,d){var m=i.interleaved;return m===null?(l.next=l,Oh(i)):(l.next=m.next,m.next=l),i.interleaved=l,Kr(r,d)}function Kr(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ks=!1;function Dh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Gr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Ps(r,i,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,ze&2){var m=d.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i,Kr(r,l)}return m=d.interleaved,m===null?(i.next=i,Oh(d)):(i.next=m.next,m.next=i),d.interleaved=i,Kr(r,l)}function Zu(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,vs(r,l)}}function Wg(r,i){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?m=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?m=_=i:_=_.next=i}else m=_=i;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function ec(r,i,l,d){var m=r.updateQueue;ks=!1;var _=m.firstBaseUpdate,T=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var M=N,G=M.next;M.next=null,T===null?_=G:T.next=G,T=M;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==T&&(N===null?ne.firstBaseUpdate=G:N.next=G,ne.lastBaseUpdate=M))}if(_!==null){var re=m.baseState;T=0,ne=G=M=null,N=_;do{var ee=N.lane,le=N.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:le,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var he=r,pe=N;switch(ee=i,le=l,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){re=he.call(le,re,ee);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,ee=typeof he=="function"?he.call(le,re,ee):he,ee==null)break e;re=ae({},re,ee);break e;case 2:ks=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,ee=m.effects,ee===null?m.effects=[N]:ee.push(N))}else le={eventTime:le,lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(G=ne=le,M=re):ne=ne.next=le,T|=ee;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ee=N,N=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(ne===null&&(M=re),m.baseState=M,m.firstBaseUpdate=G,m.lastBaseUpdate=ne,i=m.shared.interleaved,i!==null){m=i;do T|=m.lane,m=m.next;while(m!==i)}else _===null&&(m.shared.lanes=0);Ni|=T,r.lanes=T,r.memoizedState=re}}function Kg(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var dl={},Ar=Ss(dl),hl=Ss(dl),fl=Ss(dl);function ki(r){if(r===dl)throw Error(t(174));return r}function jh(r,i){switch(tt(fl,i),tt(hl,r),tt(Ar,dl),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ze(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ze(i,r)}st(Ar),tt(Ar,i)}function zo(){st(Ar),st(hl),st(fl)}function Gg(r){ki(fl.current);var i=ki(Ar.current),l=Ze(i,r.type);i!==l&&(tt(hl,r),tt(Ar,l))}function Lh(r){hl.current===r&&(st(Ar),st(hl))}var ut=Ss(0);function tc(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vh=[];function Mh(){for(var r=0;r<Vh.length;r++)Vh[r]._workInProgressVersionPrimary=null;Vh.length=0}var nc=K.ReactCurrentDispatcher,Fh=K.ReactCurrentBatchConfig,Pi=0,ct=null,At=null,Rt=null,rc=!1,pl=!1,ml=0,sA=0;function Bt(){throw Error(t(321))}function Uh(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!nr(r[l],i[l]))return!1;return!0}function Bh(r,i,l,d,m,_){if(Pi=_,ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,nc.current=r===null||r.memoizedState===null?lA:uA,r=l(d,m),pl){_=0;do{if(pl=!1,ml=0,25<=_)throw Error(t(301));_+=1,Rt=At=null,i.updateQueue=null,nc.current=cA,r=l(d,m)}while(pl)}if(nc.current=oc,i=At!==null&&At.next!==null,Pi=0,Rt=At=ct=null,rc=!1,i)throw Error(t(300));return r}function zh(){var r=ml!==0;return ml=0,r}function Ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ct.memoizedState=Rt=r:Rt=Rt.next=r,Rt}function On(){if(At===null){var r=ct.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var i=Rt===null?ct.memoizedState:Rt.next;if(i!==null)Rt=i,At=r;else{if(r===null)throw Error(t(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Rt===null?ct.memoizedState=Rt=r:Rt=Rt.next=r}return Rt}function gl(r,i){return typeof i=="function"?i(r):i}function $h(r){var i=On(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=At,m=d.baseQueue,_=l.pending;if(_!==null){if(m!==null){var T=m.next;m.next=_.next,_.next=T}d.baseQueue=m=_,l.pending=null}if(m!==null){_=m.next,d=d.baseState;var N=T=null,M=null,G=_;do{var ne=G.lane;if((Pi&ne)===ne)M!==null&&(M=M.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:r(d,G.action);else{var re={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};M===null?(N=M=re,T=d):M=M.next=re,ct.lanes|=ne,Ni|=ne}G=G.next}while(G!==null&&G!==_);M===null?T=d:M.next=N,nr(d,i.memoizedState)||(ln=!0),i.memoizedState=d,i.baseState=T,i.baseQueue=M,l.lastRenderedState=d}if(r=l.interleaved,r!==null){m=r;do _=m.lane,ct.lanes|=_,Ni|=_,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function qh(r){var i=On(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,m=l.pending,_=i.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do _=r(_,T.action),T=T.next;while(T!==m);nr(_,i.memoizedState)||(ln=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),l.lastRenderedState=_}return[_,d]}function Qg(){}function Yg(r,i){var l=ct,d=On(),m=i(),_=!nr(d.memoizedState,m);if(_&&(d.memoizedState=m,ln=!0),d=d.queue,Hh(Zg.bind(null,l,d,r),[r]),d.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,yl(9,Jg.bind(null,l,d,m,i),void 0,null),kt===null)throw Error(t(349));Pi&30||Xg(l,i,m)}return m}function Xg(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=ct.updateQueue,i===null?(i={lastEffect:null,stores:null},ct.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function Jg(r,i,l,d){i.value=l,i.getSnapshot=d,ey(i)&&ty(r)}function Zg(r,i,l){return l(function(){ey(i)&&ty(r)})}function ey(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!nr(r,l)}catch{return!0}}function ty(r){var i=Kr(r,1);i!==null&&ar(i,r,1,-1)}function ny(r){var i=Ir();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:r},i.queue=r,r=r.dispatch=aA.bind(null,ct,r),[i.memoizedState,r]}function yl(r,i,l,d){return r={tag:r,create:i,destroy:l,deps:d,next:null},i=ct.updateQueue,i===null?(i={lastEffect:null,stores:null},ct.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,i.lastEffect=r)),r}function ry(){return On().memoizedState}function sc(r,i,l,d){var m=Ir();ct.flags|=r,m.memoizedState=yl(1|i,l,void 0,d===void 0?null:d)}function ic(r,i,l,d){var m=On();d=d===void 0?null:d;var _=void 0;if(At!==null){var T=At.memoizedState;if(_=T.destroy,d!==null&&Uh(d,T.deps)){m.memoizedState=yl(i,l,_,d);return}}ct.flags|=r,m.memoizedState=yl(1|i,l,_,d)}function sy(r,i){return sc(8390656,8,r,i)}function Hh(r,i){return ic(2048,8,r,i)}function iy(r,i){return ic(4,2,r,i)}function oy(r,i){return ic(4,4,r,i)}function ay(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function ly(r,i,l){return l=l!=null?l.concat([r]):null,ic(4,4,ay.bind(null,i,r),l)}function Wh(){}function uy(r,i){var l=On();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Uh(i,d[1])?d[0]:(l.memoizedState=[r,i],r)}function cy(r,i){var l=On();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Uh(i,d[1])?d[0]:(r=r(),l.memoizedState=[r,i],r)}function dy(r,i,l){return Pi&21?(nr(l,i)||(l=vi(),ct.lanes|=l,Ni|=l,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,ln=!0),r.memoizedState=l)}function iA(r,i){var l=Me;Me=l!==0&&4>l?l:4,r(!0);var d=Fh.transition;Fh.transition={};try{r(!1),i()}finally{Me=l,Fh.transition=d}}function hy(){return On().memoizedState}function oA(r,i,l){var d=Ds(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},fy(r))py(i,l);else if(l=qg(r,i,l,d),l!==null){var m=Xt();ar(l,r,d,m),my(l,i,d)}}function aA(r,i,l){var d=Ds(r),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(fy(r))py(i,m);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var T=i.lastRenderedState,N=_(T,l);if(m.hasEagerState=!0,m.eagerState=N,nr(N,T)){var M=i.interleaved;M===null?(m.next=m,Oh(i)):(m.next=M.next,M.next=m),i.interleaved=m;return}}catch{}finally{}l=qg(r,i,m,d),l!==null&&(m=Xt(),ar(l,r,d,m),my(l,i,d))}}function fy(r){var i=r.alternate;return r===ct||i!==null&&i===ct}function py(r,i){pl=rc=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function my(r,i,l){if(l&4194240){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,vs(r,l)}}var oc={readContext:bn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},lA={readContext:bn,useCallback:function(r,i){return Ir().memoizedState=[r,i===void 0?null:i],r},useContext:bn,useEffect:sy,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,sc(4194308,4,ay.bind(null,i,r),l)},useLayoutEffect:function(r,i){return sc(4194308,4,r,i)},useInsertionEffect:function(r,i){return sc(4,2,r,i)},useMemo:function(r,i){var l=Ir();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var d=Ir();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=oA.bind(null,ct,r),[d.memoizedState,r]},useRef:function(r){var i=Ir();return r={current:r},i.memoizedState=r},useState:ny,useDebugValue:Wh,useDeferredValue:function(r){return Ir().memoizedState=r},useTransition:function(){var r=ny(!1),i=r[0];return r=iA.bind(null,r[1]),Ir().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var d=ct,m=Ir();if(at){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),kt===null)throw Error(t(349));Pi&30||Xg(d,i,l)}m.memoizedState=l;var _={value:l,getSnapshot:i};return m.queue=_,sy(Zg.bind(null,d,_,r),[r]),d.flags|=2048,yl(9,Jg.bind(null,d,_,l,i),void 0,null),l},useId:function(){var r=Ir(),i=kt.identifierPrefix;if(at){var l=Wr,d=Hr;l=(d&~(1<<32-Gt(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=ml++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=sA++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},uA={readContext:bn,useCallback:uy,useContext:bn,useEffect:Hh,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:cy,useReducer:$h,useRef:ry,useState:function(){return $h(gl)},useDebugValue:Wh,useDeferredValue:function(r){var i=On();return dy(i,At.memoizedState,r)},useTransition:function(){var r=$h(gl)[0],i=On().memoizedState;return[r,i]},useMutableSource:Qg,useSyncExternalStore:Yg,useId:hy,unstable_isNewReconciler:!1},cA={readContext:bn,useCallback:uy,useContext:bn,useEffect:Hh,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:cy,useReducer:qh,useRef:ry,useState:function(){return qh(gl)},useDebugValue:Wh,useDeferredValue:function(r){var i=On();return At===null?i.memoizedState=r:dy(i,At.memoizedState,r)},useTransition:function(){var r=qh(gl)[0],i=On().memoizedState;return[r,i]},useMutableSource:Qg,useSyncExternalStore:Yg,useId:hy,unstable_isNewReconciler:!1};function sr(r,i){if(r&&r.defaultProps){i=ae({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function Kh(r,i,l,d){i=r.memoizedState,l=l(d,i),l=l==null?i:ae({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ac={isMounted:function(r){return(r=r._reactInternals)?Qn(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var d=Xt(),m=Ds(r),_=Gr(d,m);_.payload=i,l!=null&&(_.callback=l),i=Ps(r,_,m),i!==null&&(ar(i,r,m,d),Zu(i,r,m))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var d=Xt(),m=Ds(r),_=Gr(d,m);_.tag=1,_.payload=i,l!=null&&(_.callback=l),i=Ps(r,_,m),i!==null&&(ar(i,r,m,d),Zu(i,r,m))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Xt(),d=Ds(r),m=Gr(l,d);m.tag=2,i!=null&&(m.callback=i),i=Ps(r,m,d),i!==null&&(ar(i,r,d,l),Zu(i,r,d))}};function gy(r,i,l,d,m,_,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,_,T):i.prototype&&i.prototype.isPureReactComponent?!rl(l,d)||!rl(m,_):!0}function yy(r,i,l){var d=!1,m=Cs,_=i.contextType;return typeof _=="object"&&_!==null?_=bn(_):(m=an(i)?xi:Ut.current,d=i.contextTypes,_=(d=d!=null)?jo(r,m):Cs),i=new i(l,_),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ac,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=_),i}function _y(r,i,l,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==r&&ac.enqueueReplaceState(i,i.state,null)}function Gh(r,i,l,d){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},Dh(r);var _=i.contextType;typeof _=="object"&&_!==null?m.context=bn(_):(_=an(i)?xi:Ut.current,m.context=jo(r,_)),m.state=r.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(Kh(r,i,_,l),m.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&ac.enqueueReplaceState(m,m.state,null),ec(r,l,m,d),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function $o(r,i){try{var l="",d=i;do l+=Ce(d),d=d.return;while(d);var m=l}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:r,source:i,stack:m,digest:null}}function Qh(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Yh(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var dA=typeof WeakMap=="function"?WeakMap:Map;function vy(r,i,l){l=Gr(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){pc||(pc=!0,hf=d),Yh(r,i)},l}function Ey(r,i,l){l=Gr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=i.value;l.payload=function(){return d(m)},l.callback=function(){Yh(r,i)}}var _=r.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){Yh(r,i),typeof d!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),l}function wy(r,i,l){var d=r.pingCache;if(d===null){d=r.pingCache=new dA;var m=new Set;d.set(i,m)}else m=d.get(i),m===void 0&&(m=new Set,d.set(i,m));m.has(l)||(m.add(l),r=xA.bind(null,r,i,l),i.then(r,r))}function Ty(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Ay(r,i,l,d,m){return r.mode&1?(r.flags|=65536,r.lanes=m,r):(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Gr(-1,1),i.tag=2,Ps(l,i,1))),l.lanes|=1),r)}var hA=K.ReactCurrentOwner,ln=!1;function Yt(r,i,l,d){i.child=r===null?$g(i,null,l,d):Fo(i,r.child,l,d)}function Iy(r,i,l,d,m){l=l.render;var _=i.ref;return Bo(i,m),d=Bh(r,i,l,d,_,m),l=zh(),r!==null&&!ln?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~m,Qr(r,i,m)):(at&&l&&Ih(i),i.flags|=1,Yt(r,i,d,m),i.child)}function xy(r,i,l,d,m){if(r===null){var _=l.type;return typeof _=="function"&&!vf(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=_,Sy(r,i,_,d,m)):(r=Ec(l.type,null,d,i,i.mode,m),r.ref=i.ref,r.return=i,i.child=r)}if(_=r.child,!(r.lanes&m)){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:rl,l(T,d)&&r.ref===i.ref)return Qr(r,i,m)}return i.flags|=1,r=Ls(_,d),r.ref=i.ref,r.return=i,i.child=r}function Sy(r,i,l,d,m){if(r!==null){var _=r.memoizedProps;if(rl(_,d)&&r.ref===i.ref)if(ln=!1,i.pendingProps=d=_,(r.lanes&m)!==0)r.flags&131072&&(ln=!0);else return i.lanes=r.lanes,Qr(r,i,m)}return Xh(r,i,l,d,m)}function Cy(r,i,l){var d=i.pendingProps,m=d.children,_=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ho,Tn),Tn|=l;else{if(!(l&1073741824))return r=_!==null?_.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,tt(Ho,Tn),Tn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=_!==null?_.baseLanes:l,tt(Ho,Tn),Tn|=d}else _!==null?(d=_.baseLanes|l,i.memoizedState=null):d=l,tt(Ho,Tn),Tn|=d;return Yt(r,i,m,l),i.child}function Ry(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Xh(r,i,l,d,m){var _=an(l)?xi:Ut.current;return _=jo(i,_),Bo(i,m),l=Bh(r,i,l,d,_,m),d=zh(),r!==null&&!ln?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~m,Qr(r,i,m)):(at&&d&&Ih(i),i.flags|=1,Yt(r,i,l,m),i.child)}function ky(r,i,l,d,m){if(an(l)){var _=!0;Hu(i)}else _=!1;if(Bo(i,m),i.stateNode===null)uc(r,i),yy(i,l,d),Gh(i,l,d,m),d=!0;else if(r===null){var T=i.stateNode,N=i.memoizedProps;T.props=N;var M=T.context,G=l.contextType;typeof G=="object"&&G!==null?G=bn(G):(G=an(l)?xi:Ut.current,G=jo(i,G));var ne=l.getDerivedStateFromProps,re=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==d||M!==G)&&_y(i,T,d,G),ks=!1;var ee=i.memoizedState;T.state=ee,ec(i,d,T,m),M=i.memoizedState,N!==d||ee!==M||on.current||ks?(typeof ne=="function"&&(Kh(i,l,ne,d),M=i.memoizedState),(N=ks||gy(i,l,N,d,ee,M,G))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=M),T.props=d,T.state=M,T.context=G,d=N):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{T=i.stateNode,Hg(r,i),N=i.memoizedProps,G=i.type===i.elementType?N:sr(i.type,N),T.props=G,re=i.pendingProps,ee=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=bn(M):(M=an(l)?xi:Ut.current,M=jo(i,M));var le=l.getDerivedStateFromProps;(ne=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==re||ee!==M)&&_y(i,T,d,M),ks=!1,ee=i.memoizedState,T.state=ee,ec(i,d,T,m);var he=i.memoizedState;N!==re||ee!==he||on.current||ks?(typeof le=="function"&&(Kh(i,l,le,d),he=i.memoizedState),(G=ks||gy(i,l,G,d,ee,he,M)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,he,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,he,M)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=he),T.props=d,T.state=he,T.context=M,d=G):(typeof T.componentDidUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),d=!1)}return Jh(r,i,l,d,_,m)}function Jh(r,i,l,d,m,_){Ry(r,i);var T=(i.flags&128)!==0;if(!d&&!T)return m&&Dg(i,l,!1),Qr(r,i,_);d=i.stateNode,hA.current=i;var N=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&T?(i.child=Fo(i,r.child,null,_),i.child=Fo(i,null,N,_)):Yt(r,i,N,_),i.memoizedState=d.state,m&&Dg(i,l,!0),i.child}function Py(r){var i=r.stateNode;i.pendingContext?bg(r,i.pendingContext,i.pendingContext!==i.context):i.context&&bg(r,i.context,!1),jh(r,i.containerInfo)}function Ny(r,i,l,d,m){return Mo(),Rh(m),i.flags|=256,Yt(r,i,l,d),i.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function ef(r){return{baseLanes:r,cachePool:null,transitions:null}}function by(r,i,l){var d=i.pendingProps,m=ut.current,_=!1,T=(i.flags&128)!==0,N;if((N=T)||(N=r!==null&&r.memoizedState===null?!1:(m&2)!==0),N?(_=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),tt(ut,m&1),r===null)return Ch(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(T=d.children,r=d.fallback,_?(d=i.mode,_=i.child,T={mode:"hidden",children:T},!(d&1)&&_!==null?(_.childLanes=0,_.pendingProps=T):_=wc(T,d,0,null),r=ji(r,d,l,null),_.return=i,r.return=i,_.sibling=r,i.child=_,i.child.memoizedState=ef(l),i.memoizedState=Zh,r):tf(i,T));if(m=r.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return fA(r,i,T,d,N,m,l);if(_){_=d.fallback,T=i.mode,m=r.child,N=m.sibling;var M={mode:"hidden",children:d.children};return!(T&1)&&i.child!==m?(d=i.child,d.childLanes=0,d.pendingProps=M,i.deletions=null):(d=Ls(m,M),d.subtreeFlags=m.subtreeFlags&14680064),N!==null?_=Ls(N,_):(_=ji(_,T,l,null),_.flags|=2),_.return=i,d.return=i,d.sibling=_,i.child=d,d=_,_=i.child,T=r.child.memoizedState,T=T===null?ef(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=r.childLanes&~l,i.memoizedState=Zh,d}return _=r.child,r=_.sibling,d=Ls(_,{mode:"visible",children:d.children}),!(i.mode&1)&&(d.lanes=l),d.return=i,d.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=d,i.memoizedState=null,d}function tf(r,i){return i=wc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function lc(r,i,l,d){return d!==null&&Rh(d),Fo(i,r.child,null,l),r=tf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function fA(r,i,l,d,m,_,T){if(l)return i.flags&256?(i.flags&=-257,d=Qh(Error(t(422))),lc(r,i,T,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(_=d.fallback,m=i.mode,d=wc({mode:"visible",children:d.children},m,0,null),_=ji(_,m,T,null),_.flags|=2,d.return=i,_.return=i,d.sibling=_,i.child=d,i.mode&1&&Fo(i,r.child,null,T),i.child.memoizedState=ef(T),i.memoizedState=Zh,_);if(!(i.mode&1))return lc(r,i,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var N=d.dgst;return d=N,_=Error(t(419)),d=Qh(_,d,void 0),lc(r,i,T,d)}if(N=(T&r.childLanes)!==0,ln||N){if(d=kt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|T)?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Kr(r,m),ar(d,r,m,-1))}return _f(),d=Qh(Error(t(421))),lc(r,i,T,d)}return m.data==="$?"?(i.flags|=128,i.child=r.child,i=SA.bind(null,r),m._reactRetry=i,null):(r=_.treeContext,wn=xs(m.nextSibling),En=i,at=!0,rr=null,r!==null&&(Pn[Nn++]=Hr,Pn[Nn++]=Wr,Pn[Nn++]=Si,Hr=r.id,Wr=r.overflow,Si=i),i=tf(i,d.children),i.flags|=4096,i)}function Oy(r,i,l){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),bh(r.return,i,l)}function nf(r,i,l,d,m){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=l,_.tailMode=m)}function Dy(r,i,l){var d=i.pendingProps,m=d.revealOrder,_=d.tail;if(Yt(r,i,d.children,l),d=ut.current,d&2)d=d&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Oy(r,l,i);else if(r.tag===19)Oy(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(tt(ut,d),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(l=i.child,m=null;l!==null;)r=l.alternate,r!==null&&tc(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),nf(i,!1,m,l,_);break;case"backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(r=m.alternate,r!==null&&tc(r)===null){i.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}nf(i,!0,l,null,_);break;case"together":nf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function uc(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Qr(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Ni|=i.lanes,!(l&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,l=Ls(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Ls(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function pA(r,i,l){switch(i.tag){case 3:Py(i),Mo();break;case 5:Gg(i);break;case 1:an(i.type)&&Hu(i);break;case 4:jh(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,m=i.memoizedProps.value;tt(Xu,d._currentValue),d._currentValue=m;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(tt(ut,ut.current&1),i.flags|=128,null):l&i.child.childLanes?by(r,i,l):(tt(ut,ut.current&1),r=Qr(r,i,l),r!==null?r.sibling:null);tt(ut,ut.current&1);break;case 19:if(d=(l&i.childLanes)!==0,r.flags&128){if(d)return Dy(r,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(ut,ut.current),d)break;return null;case 22:case 23:return i.lanes=0,Cy(r,i,l)}return Qr(r,i,l)}var jy,rf,Ly,Vy;jy=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},rf=function(){},Ly=function(r,i,l,d){var m=r.memoizedProps;if(m!==d){r=i.stateNode,ki(Ar.current);var _=null;switch(l){case"input":m=nn(r,m),d=nn(r,d),_=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),_=[];break;case"textarea":m=ai(r,m),d=ai(r,d),_=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=zu)}Ma(l,d);var T;l=null;for(G in m)if(!d.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var N=m[G];for(T in N)N.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?_||(_=[]):(_=_||[]).push(G,null));for(G in d){var M=d[G];if(N=m!=null?m[G]:void 0,d.hasOwnProperty(G)&&M!==N&&(M!=null||N!=null))if(G==="style")if(N){for(T in N)!N.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&N[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(_||(_=[]),_.push(G,l)),l=M;else G==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,N=N?N.__html:void 0,M!=null&&N!==M&&(_=_||[]).push(G,M)):G==="children"?typeof M!="string"&&typeof M!="number"||(_=_||[]).push(G,""+M):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(M!=null&&G==="onScroll"&&rt("scroll",r),_||N===M||(_=[])):(_=_||[]).push(G,M))}l&&(_=_||[]).push("style",l);var G=_;(i.updateQueue=G)&&(i.flags|=4)}},Vy=function(r,i,l,d){l!==d&&(i.flags|=4)};function _l(r,i){if(!at)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function zt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(i)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=l,i}function mA(r,i,l){var d=i.pendingProps;switch(xh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(i),null;case 1:return an(i.type)&&qu(),zt(i),null;case 3:return d=i.stateNode,zo(),st(on),st(Ut),Mh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Qu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,rr!==null&&(mf(rr),rr=null))),rf(r,i),zt(i),null;case 5:Lh(i);var m=ki(fl.current);if(l=i.type,r!==null&&i.stateNode!=null)Ly(r,i,l,d,m),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return zt(i),null}if(r=ki(Ar.current),Qu(i)){d=i.stateNode,l=i.type;var _=i.memoizedProps;switch(d[Tr]=i,d[ll]=_,r=(i.mode&1)!==0,l){case"dialog":rt("cancel",d),rt("close",d);break;case"iframe":case"object":case"embed":rt("load",d);break;case"video":case"audio":for(m=0;m<il.length;m++)rt(il[m],d);break;case"source":rt("error",d);break;case"img":case"image":case"link":rt("error",d),rt("load",d);break;case"details":rt("toggle",d);break;case"input":Ke(d,_),rt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!_.multiple},rt("invalid",d);break;case"textarea":fs(d,_),rt("invalid",d)}Ma(l,_),m=null;for(var T in _)if(_.hasOwnProperty(T)){var N=_[T];T==="children"?typeof N=="string"?d.textContent!==N&&(_.suppressHydrationWarning!==!0&&Bu(d.textContent,N,r),m=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(_.suppressHydrationWarning!==!0&&Bu(d.textContent,N,r),m=["children",""+N]):o.hasOwnProperty(T)&&N!=null&&T==="onScroll"&&rt("scroll",d)}switch(l){case"input":en(d),io(d,_,!0);break;case"textarea":en(d),li(d);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(d.onclick=zu)}d=m,i.updateQueue=d,d!==null&&(i.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ee(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=T.createElement(l,{is:d.is}):(r=T.createElement(l),l==="select"&&(T=r,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):r=T.createElementNS(r,l),r[Tr]=i,r[ll]=d,jy(r,i,!1,!1),i.stateNode=r;e:{switch(T=Fa(l,d),l){case"dialog":rt("cancel",r),rt("close",r),m=d;break;case"iframe":case"object":case"embed":rt("load",r),m=d;break;case"video":case"audio":for(m=0;m<il.length;m++)rt(il[m],r);m=d;break;case"source":rt("error",r),m=d;break;case"img":case"image":case"link":rt("error",r),rt("load",r),m=d;break;case"details":rt("toggle",r),m=d;break;case"input":Ke(r,d),m=nn(r,d),rt("invalid",r);break;case"option":m=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),rt("invalid",r);break;case"textarea":fs(r,d),m=ai(r,d),rt("invalid",r);break;default:m=d}Ma(l,m),N=m;for(_ in N)if(N.hasOwnProperty(_)){var M=N[_];_==="style"?La(r,M):_==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Da(r,M)):_==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&ps(r,M):typeof M=="number"&&ps(r,""+M):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?M!=null&&_==="onScroll"&&rt("scroll",r):M!=null&&$(r,_,M,T))}switch(l){case"input":en(r),io(r,d,!1);break;case"textarea":en(r),li(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Ve(d.value));break;case"select":r.multiple=!!d.multiple,_=d.value,_!=null?Wn(r,!!d.multiple,_,!1):d.defaultValue!=null&&Wn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=zu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return zt(i),null;case 6:if(r&&i.stateNode!=null)Vy(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(l=ki(fl.current),ki(Ar.current),Qu(i)){if(d=i.stateNode,l=i.memoizedProps,d[Tr]=i,(_=d.nodeValue!==l)&&(r=En,r!==null))switch(r.tag){case 3:Bu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Bu(d.nodeValue,l,(r.mode&1)!==0)}_&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Tr]=i,i.stateNode=d}return zt(i),null;case 13:if(st(ut),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(at&&wn!==null&&i.mode&1&&!(i.flags&128))Ug(),Mo(),i.flags|=98560,_=!1;else if(_=Qu(i),d!==null&&d.dehydrated!==null){if(r===null){if(!_)throw Error(t(318));if(_=i.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Tr]=i}else Mo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;zt(i),_=!1}else rr!==null&&(mf(rr),rr=null),_=!0;if(!_)return i.flags&65536?i:null}return i.flags&128?(i.lanes=l,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,i.mode&1&&(r===null||ut.current&1?It===0&&(It=3):_f())),i.updateQueue!==null&&(i.flags|=4),zt(i),null);case 4:return zo(),rf(r,i),r===null&&ol(i.stateNode.containerInfo),zt(i),null;case 10:return Nh(i.type._context),zt(i),null;case 17:return an(i.type)&&qu(),zt(i),null;case 19:if(st(ut),_=i.memoizedState,_===null)return zt(i),null;if(d=(i.flags&128)!==0,T=_.rendering,T===null)if(d)_l(_,!1);else{if(It!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(T=tc(r),T!==null){for(i.flags|=128,_l(_,!1),d=T.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)_=l,r=d,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=r,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,r=T.dependencies,_.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return tt(ut,ut.current&1|2),i.child}r=r.sibling}_.tail!==null&&et()>Wo&&(i.flags|=128,d=!0,_l(_,!1),i.lanes=4194304)}else{if(!d)if(r=tc(T),r!==null){if(i.flags|=128,d=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),_l(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!at)return zt(i),null}else 2*et()-_.renderingStartTime>Wo&&l!==1073741824&&(i.flags|=128,d=!0,_l(_,!1),i.lanes=4194304);_.isBackwards?(T.sibling=i.child,i.child=T):(l=_.last,l!==null?l.sibling=T:i.child=T,_.last=T)}return _.tail!==null?(i=_.tail,_.rendering=i,_.tail=i.sibling,_.renderingStartTime=et(),i.sibling=null,l=ut.current,tt(ut,d?l&1|2:l&1),i):(zt(i),null);case 22:case 23:return yf(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&i.mode&1?Tn&1073741824&&(zt(i),i.subtreeFlags&6&&(i.flags|=8192)):zt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function gA(r,i){switch(xh(i),i.tag){case 1:return an(i.type)&&qu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return zo(),st(on),st(Ut),Mh(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Lh(i),null;case 13:if(st(ut),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Mo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return st(ut),null;case 4:return zo(),null;case 10:return Nh(i.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var cc=!1,$t=!1,yA=typeof WeakSet=="function"?WeakSet:Set,de=null;function qo(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){pt(r,i,d)}else l.current=null}function sf(r,i,l){try{l()}catch(d){pt(r,i,d)}}var My=!1;function _A(r,i){if(gh=Ts,r=gg(),lh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,N=-1,M=-1,G=0,ne=0,re=r,ee=null;t:for(;;){for(var le;re!==l||m!==0&&re.nodeType!==3||(N=T+m),re!==_||d!==0&&re.nodeType!==3||(M=T+d),re.nodeType===3&&(T+=re.nodeValue.length),(le=re.firstChild)!==null;)ee=re,re=le;for(;;){if(re===r)break t;if(ee===l&&++G===m&&(N=T),ee===_&&++ne===d&&(M=T),(le=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=le}l=N===-1||M===-1?null:{start:N,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(yh={focusedElem:r,selectionRange:l},Ts=!1,de=i;de!==null;)if(i=de,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,de=r;else for(;de!==null;){i=de;try{var he=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,gt=he.memoizedState,H=i.stateNode,U=H.getSnapshotBeforeUpdate(i.elementType===i.type?pe:sr(i.type,pe),gt);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){pt(i,i.return,ie)}if(r=i.sibling,r!==null){r.return=i.return,de=r;break}de=i.return}return he=My,My=!1,he}function vl(r,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&r)===r){var _=m.destroy;m.destroy=void 0,_!==void 0&&sf(i,l,_)}m=m.next}while(m!==d)}}function dc(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function of(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function Fy(r){var i=r.alternate;i!==null&&(r.alternate=null,Fy(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Tr],delete i[ll],delete i[wh],delete i[eA],delete i[tA])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Uy(r){return r.tag===5||r.tag===3||r.tag===4}function By(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Uy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function af(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=zu));else if(d!==4&&(r=r.child,r!==null))for(af(r,i,l),r=r.sibling;r!==null;)af(r,i,l),r=r.sibling}function lf(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(lf(r,i,l),r=r.sibling;r!==null;)lf(r,i,l),r=r.sibling}var Dt=null,ir=!1;function Ns(r,i,l){for(l=l.child;l!==null;)zy(r,i,l),l=l.sibling}function zy(r,i,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(yi,l)}catch{}switch(l.tag){case 5:$t||qo(l,i);case 6:var d=Dt,m=ir;Dt=null,Ns(r,i,l),Dt=d,ir=m,Dt!==null&&(ir?(r=Dt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Dt.removeChild(l.stateNode));break;case 18:Dt!==null&&(ir?(r=Dt,l=l.stateNode,r.nodeType===8?Eh(r.parentNode,l):r.nodeType===1&&Eh(r,l),er(r)):Eh(Dt,l.stateNode));break;case 4:d=Dt,m=ir,Dt=l.stateNode.containerInfo,ir=!0,Ns(r,i,l),Dt=d,ir=m;break;case 0:case 11:case 14:case 15:if(!$t&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var _=m,T=_.destroy;_=_.tag,T!==void 0&&(_&2||_&4)&&sf(l,i,T),m=m.next}while(m!==d)}Ns(r,i,l);break;case 1:if(!$t&&(qo(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){pt(l,i,N)}Ns(r,i,l);break;case 21:Ns(r,i,l);break;case 22:l.mode&1?($t=(d=$t)||l.memoizedState!==null,Ns(r,i,l),$t=d):Ns(r,i,l);break;default:Ns(r,i,l)}}function $y(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new yA),i.forEach(function(d){var m=CA.bind(null,r,d);l.has(d)||(l.add(d),d.then(m,m))})}}function or(r,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var _=r,T=i,N=T;e:for(;N!==null;){switch(N.tag){case 5:Dt=N.stateNode,ir=!1;break e;case 3:Dt=N.stateNode.containerInfo,ir=!0;break e;case 4:Dt=N.stateNode.containerInfo,ir=!0;break e}N=N.return}if(Dt===null)throw Error(t(160));zy(_,T,m),Dt=null,ir=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(G){pt(m,i,G)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)qy(i,r),i=i.sibling}function qy(r,i){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(or(i,r),xr(r),d&4){try{vl(3,r,r.return),dc(3,r)}catch(pe){pt(r,r.return,pe)}try{vl(5,r,r.return)}catch(pe){pt(r,r.return,pe)}}break;case 1:or(i,r),xr(r),d&512&&l!==null&&qo(l,l.return);break;case 5:if(or(i,r),xr(r),d&512&&l!==null&&qo(l,l.return),r.flags&32){var m=r.stateNode;try{ps(m,"")}catch(pe){pt(r,r.return,pe)}}if(d&4&&(m=r.stateNode,m!=null)){var _=r.memoizedProps,T=l!==null?l.memoizedProps:_,N=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{N==="input"&&_.type==="radio"&&_.name!=null&&pr(m,_),Fa(N,T);var G=Fa(N,_);for(T=0;T<M.length;T+=2){var ne=M[T],re=M[T+1];ne==="style"?La(m,re):ne==="dangerouslySetInnerHTML"?Da(m,re):ne==="children"?ps(m,re):$(m,ne,re,G)}switch(N){case"input":qn(m,_);break;case"textarea":Lr(m,_);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var le=_.value;le!=null?Wn(m,!!_.multiple,le,!1):ee!==!!_.multiple&&(_.defaultValue!=null?Wn(m,!!_.multiple,_.defaultValue,!0):Wn(m,!!_.multiple,_.multiple?[]:"",!1))}m[ll]=_}catch(pe){pt(r,r.return,pe)}}break;case 6:if(or(i,r),xr(r),d&4){if(r.stateNode===null)throw Error(t(162));m=r.stateNode,_=r.memoizedProps;try{m.nodeValue=_}catch(pe){pt(r,r.return,pe)}}break;case 3:if(or(i,r),xr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{er(i.containerInfo)}catch(pe){pt(r,r.return,pe)}break;case 4:or(i,r),xr(r);break;case 13:or(i,r),xr(r),m=r.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(df=et())),d&4&&$y(r);break;case 22:if(ne=l!==null&&l.memoizedState!==null,r.mode&1?($t=(G=$t)||ne,or(i,r),$t=G):or(i,r),xr(r),d&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!ne&&r.mode&1)for(de=r,ne=r.child;ne!==null;){for(re=de=ne;de!==null;){switch(ee=de,le=ee.child,ee.tag){case 0:case 11:case 14:case 15:vl(4,ee,ee.return);break;case 1:qo(ee,ee.return);var he=ee.stateNode;if(typeof he.componentWillUnmount=="function"){d=ee,l=ee.return;try{i=d,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(pe){pt(d,l,pe)}}break;case 5:qo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Ky(re);continue}}le!==null?(le.return=ee,de=le):Ky(re)}ne=ne.sibling}e:for(ne=null,re=r;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,G?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(N=re.stateNode,M=re.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,N.style.display=ja("display",T))}catch(pe){pt(r,r.return,pe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(pe){pt(r,r.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:or(i,r),xr(r),d&4&&$y(r);break;case 21:break;default:or(i,r),xr(r)}}function xr(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(Uy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ps(m,""),d.flags&=-33);var _=By(r);lf(r,_,m);break;case 3:case 4:var T=d.stateNode.containerInfo,N=By(r);af(r,N,T);break;default:throw Error(t(161))}}catch(M){pt(r,r.return,M)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function vA(r,i,l){de=r,Hy(r)}function Hy(r,i,l){for(var d=(r.mode&1)!==0;de!==null;){var m=de,_=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||cc;if(!T){var N=m.alternate,M=N!==null&&N.memoizedState!==null||$t;N=cc;var G=$t;if(cc=T,($t=M)&&!G)for(de=m;de!==null;)T=de,M=T.child,T.tag===22&&T.memoizedState!==null?Gy(m):M!==null?(M.return=T,de=M):Gy(m);for(;_!==null;)de=_,Hy(_),_=_.sibling;de=m,cc=N,$t=G}Wy(r)}else m.subtreeFlags&8772&&_!==null?(_.return=m,de=_):Wy(r)}}function Wy(r){for(;de!==null;){var i=de;if(i.flags&8772){var l=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:$t||dc(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!$t)if(l===null)d.componentDidMount();else{var m=i.elementType===i.type?l.memoizedProps:sr(i.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var _=i.updateQueue;_!==null&&Kg(i,_,d);break;case 3:var T=i.updateQueue;if(T!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Kg(i,T,l)}break;case 5:var N=i.stateNode;if(l===null&&i.flags&4){l=N;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var G=i.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&er(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||i.flags&512&&of(i)}catch(ee){pt(i,i.return,ee)}}if(i===r){de=null;break}if(l=i.sibling,l!==null){l.return=i.return,de=l;break}de=i.return}}function Ky(r){for(;de!==null;){var i=de;if(i===r){de=null;break}var l=i.sibling;if(l!==null){l.return=i.return,de=l;break}de=i.return}}function Gy(r){for(;de!==null;){var i=de;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{dc(4,i)}catch(M){pt(i,l,M)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var m=i.return;try{d.componentDidMount()}catch(M){pt(i,m,M)}}var _=i.return;try{of(i)}catch(M){pt(i,_,M)}break;case 5:var T=i.return;try{of(i)}catch(M){pt(i,T,M)}}}catch(M){pt(i,i.return,M)}if(i===r){de=null;break}var N=i.sibling;if(N!==null){N.return=i.return,de=N;break}de=i.return}}var EA=Math.ceil,hc=K.ReactCurrentDispatcher,uf=K.ReactCurrentOwner,Dn=K.ReactCurrentBatchConfig,ze=0,kt=null,vt=null,jt=0,Tn=0,Ho=Ss(0),It=0,El=null,Ni=0,fc=0,cf=0,wl=null,un=null,df=0,Wo=1/0,Yr=null,pc=!1,hf=null,bs=null,mc=!1,Os=null,gc=0,Tl=0,ff=null,yc=-1,_c=0;function Xt(){return ze&6?et():yc!==-1?yc:yc=et()}function Ds(r){return r.mode&1?ze&2&&jt!==0?jt&-jt:rA.transition!==null?(_c===0&&(_c=vi()),_c):(r=Me,r!==0||(r=window.event,r=r===void 0?16:Ya(r.type)),r):1}function ar(r,i,l,d){if(50<Tl)throw Tl=0,ff=null,Error(t(185));_s(r,l,d),(!(ze&2)||r!==kt)&&(r===kt&&(!(ze&2)&&(fc|=l),It===4&&js(r,jt)),cn(r,d),l===1&&ze===0&&!(i.mode&1)&&(Wo=et()+500,Wu&&Rs()))}function cn(r,i){var l=r.callbackNode;Mr(r,i);var d=_i(r,r===kt?jt:0);if(d===0)l!==null&&Ha(l),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(l!=null&&Ha(l),i===1)r.tag===0?nA(Yy.bind(null,r)):jg(Yy.bind(null,r)),J0(function(){!(ze&6)&&Rs()}),l=null;else{switch(Es(d)){case 1:l=gi;break;case 4:l=ms;break;case 16:l=Cn;break;case 536870912:l=_u;break;default:l=Cn}l=s_(l,Qy.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function Qy(r,i){if(yc=-1,_c=0,ze&6)throw Error(t(327));var l=r.callbackNode;if(Ko()&&r.callbackNode!==l)return null;var d=_i(r,r===kt?jt:0);if(d===0)return null;if(d&30||d&r.expiredLanes||i)i=vc(r,d);else{i=d;var m=ze;ze|=2;var _=Jy();(kt!==r||jt!==i)&&(Yr=null,Wo=et()+500,Oi(r,i));do try{AA();break}catch(N){Xy(r,N)}while(!0);Ph(),hc.current=_,ze=m,vt!==null?i=0:(kt=null,jt=0,i=It)}if(i!==0){if(i===2&&(m=yn(r),m!==0&&(d=m,i=pf(r,m))),i===1)throw l=El,Oi(r,0),js(r,d),cn(r,et()),l;if(i===6)js(r,d);else{if(m=r.current.alternate,!(d&30)&&!wA(m)&&(i=vc(r,d),i===2&&(_=yn(r),_!==0&&(d=_,i=pf(r,_))),i===1))throw l=El,Oi(r,0),js(r,d),cn(r,et()),l;switch(r.finishedWork=m,r.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:Di(r,un,Yr);break;case 3:if(js(r,d),(d&130023424)===d&&(i=df+500-et(),10<i)){if(_i(r,0)!==0)break;if(m=r.suspendedLanes,(m&d)!==d){Xt(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=vh(Di.bind(null,r,un,Yr),i);break}Di(r,un,Yr);break;case 4:if(js(r,d),(d&4194240)===d)break;for(i=r.eventTimes,m=-1;0<d;){var T=31-Gt(d);_=1<<T,T=i[T],T>m&&(m=T),d&=~_}if(d=m,d=et()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*EA(d/1960))-d,10<d){r.timeoutHandle=vh(Di.bind(null,r,un,Yr),d);break}Di(r,un,Yr);break;case 5:Di(r,un,Yr);break;default:throw Error(t(329))}}}return cn(r,et()),r.callbackNode===l?Qy.bind(null,r):null}function pf(r,i){var l=wl;return r.current.memoizedState.isDehydrated&&(Oi(r,i).flags|=256),r=vc(r,i),r!==2&&(i=un,un=l,i!==null&&mf(i)),r}function mf(r){un===null?un=r:un.push.apply(un,r)}function wA(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],_=m.getSnapshot;m=m.value;try{if(!nr(_(),m))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function js(r,i){for(i&=~cf,i&=~fc,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-Gt(i),d=1<<l;r[l]=-1,i&=~d}}function Yy(r){if(ze&6)throw Error(t(327));Ko();var i=_i(r,0);if(!(i&1))return cn(r,et()),null;var l=vc(r,i);if(r.tag!==0&&l===2){var d=yn(r);d!==0&&(i=d,l=pf(r,d))}if(l===1)throw l=El,Oi(r,0),js(r,i),cn(r,et()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Di(r,un,Yr),cn(r,et()),null}function gf(r,i){var l=ze;ze|=1;try{return r(i)}finally{ze=l,ze===0&&(Wo=et()+500,Wu&&Rs())}}function bi(r){Os!==null&&Os.tag===0&&!(ze&6)&&Ko();var i=ze;ze|=1;var l=Dn.transition,d=Me;try{if(Dn.transition=null,Me=1,r)return r()}finally{Me=d,Dn.transition=l,ze=i,!(ze&6)&&Rs()}}function yf(){Tn=Ho.current,st(Ho)}function Oi(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,X0(l)),vt!==null)for(l=vt.return;l!==null;){var d=l;switch(xh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&qu();break;case 3:zo(),st(on),st(Ut),Mh();break;case 5:Lh(d);break;case 4:zo();break;case 13:st(ut);break;case 19:st(ut);break;case 10:Nh(d.type._context);break;case 22:case 23:yf()}l=l.return}if(kt=r,vt=r=Ls(r.current,null),jt=Tn=i,It=0,El=null,cf=fc=Ni=0,un=wl=null,Ri!==null){for(i=0;i<Ri.length;i++)if(l=Ri[i],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,_=l.pending;if(_!==null){var T=_.next;_.next=m,d.next=T}l.pending=d}Ri=null}return r}function Xy(r,i){do{var l=vt;try{if(Ph(),nc.current=oc,rc){for(var d=ct.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}rc=!1}if(Pi=0,Rt=At=ct=null,pl=!1,ml=0,uf.current=null,l===null||l.return===null){It=1,El=i,vt=null;break}e:{var _=r,T=l.return,N=l,M=i;if(i=jt,N.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=M,ne=N,re=ne.tag;if(!(ne.mode&1)&&(re===0||re===11||re===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var le=Ty(T);if(le!==null){le.flags&=-257,Ay(le,T,N,_,i),le.mode&1&&wy(_,G,i),i=le,M=G;var he=i.updateQueue;if(he===null){var pe=new Set;pe.add(M),i.updateQueue=pe}else he.add(M);break e}else{if(!(i&1)){wy(_,G,i),_f();break e}M=Error(t(426))}}else if(at&&N.mode&1){var gt=Ty(T);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Ay(gt,T,N,_,i),Rh($o(M,N));break e}}_=M=$o(M,N),It!==4&&(It=2),wl===null?wl=[_]:wl.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,i&=-i,_.lanes|=i;var H=vy(_,M,i);Wg(_,H);break e;case 1:N=M;var U=_.type,W=_.stateNode;if(!(_.flags&128)&&(typeof U.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(bs===null||!bs.has(W)))){_.flags|=65536,i&=-i,_.lanes|=i;var ie=Ey(_,N,i);Wg(_,ie);break e}}_=_.return}while(_!==null)}e_(l)}catch(me){i=me,vt===l&&l!==null&&(vt=l=l.return);continue}break}while(!0)}function Jy(){var r=hc.current;return hc.current=oc,r===null?oc:r}function _f(){(It===0||It===3||It===2)&&(It=4),kt===null||!(Ni&268435455)&&!(fc&268435455)||js(kt,jt)}function vc(r,i){var l=ze;ze|=2;var d=Jy();(kt!==r||jt!==i)&&(Yr=null,Oi(r,i));do try{TA();break}catch(m){Xy(r,m)}while(!0);if(Ph(),ze=l,hc.current=d,vt!==null)throw Error(t(261));return kt=null,jt=0,It}function TA(){for(;vt!==null;)Zy(vt)}function AA(){for(;vt!==null&&!gu();)Zy(vt)}function Zy(r){var i=r_(r.alternate,r,Tn);r.memoizedProps=r.pendingProps,i===null?e_(r):vt=i,uf.current=null}function e_(r){var i=r;do{var l=i.alternate;if(r=i.return,i.flags&32768){if(l=gA(l,i),l!==null){l.flags&=32767,vt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{It=6,vt=null;return}}else if(l=mA(l,i,Tn),l!==null){vt=l;return}if(i=i.sibling,i!==null){vt=i;return}vt=i=r}while(i!==null);It===0&&(It=5)}function Di(r,i,l){var d=Me,m=Dn.transition;try{Dn.transition=null,Me=1,IA(r,i,l,d)}finally{Dn.transition=m,Me=d}return null}function IA(r,i,l,d){do Ko();while(Os!==null);if(ze&6)throw Error(t(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var _=l.lanes|l.childLanes;if(Xe(r,_),r===kt&&(vt=kt=null,jt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||mc||(mc=!0,s_(Cn,function(){return Ko(),null})),_=(l.flags&15990)!==0,l.subtreeFlags&15990||_){_=Dn.transition,Dn.transition=null;var T=Me;Me=1;var N=ze;ze|=4,uf.current=null,_A(r,l),qy(l,r),q0(yh),Ts=!!gh,yh=gh=null,r.current=l,vA(l),eh(),ze=N,Me=T,Dn.transition=_}else r.current=l;if(mc&&(mc=!1,Os=r,gc=m),_=r.pendingLanes,_===0&&(bs=null),vu(l.stateNode),cn(r,et()),i!==null)for(d=r.onRecoverableError,l=0;l<i.length;l++)m=i[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(pc)throw pc=!1,r=hf,hf=null,r;return gc&1&&r.tag!==0&&Ko(),_=r.pendingLanes,_&1?r===ff?Tl++:(Tl=0,ff=r):Tl=0,Rs(),null}function Ko(){if(Os!==null){var r=Es(gc),i=Dn.transition,l=Me;try{if(Dn.transition=null,Me=16>r?16:r,Os===null)var d=!1;else{if(r=Os,Os=null,gc=0,ze&6)throw Error(t(331));var m=ze;for(ze|=4,de=r.current;de!==null;){var _=de,T=_.child;if(de.flags&16){var N=_.deletions;if(N!==null){for(var M=0;M<N.length;M++){var G=N[M];for(de=G;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:vl(8,ne,_)}var re=ne.child;if(re!==null)re.return=ne,de=re;else for(;de!==null;){ne=de;var ee=ne.sibling,le=ne.return;if(Fy(ne),ne===G){de=null;break}if(ee!==null){ee.return=le,de=ee;break}de=le}}}var he=_.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var gt=pe.sibling;pe.sibling=null,pe=gt}while(pe!==null)}}de=_}}if(_.subtreeFlags&2064&&T!==null)T.return=_,de=T;else e:for(;de!==null;){if(_=de,_.flags&2048)switch(_.tag){case 0:case 11:case 15:vl(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,de=H;break e}de=_.return}}var U=r.current;for(de=U;de!==null;){T=de;var W=T.child;if(T.subtreeFlags&2064&&W!==null)W.return=T,de=W;else e:for(T=U;de!==null;){if(N=de,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:dc(9,N)}}catch(me){pt(N,N.return,me)}if(N===T){de=null;break e}var ie=N.sibling;if(ie!==null){ie.return=N.return,de=ie;break e}de=N.return}}if(ze=m,Rs(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(yi,r)}catch{}d=!0}return d}finally{Me=l,Dn.transition=i}}return!1}function t_(r,i,l){i=$o(l,i),i=vy(r,i,1),r=Ps(r,i,1),i=Xt(),r!==null&&(_s(r,1,i),cn(r,i))}function pt(r,i,l){if(r.tag===3)t_(r,r,l);else for(;i!==null;){if(i.tag===3){t_(i,r,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(bs===null||!bs.has(d))){r=$o(l,r),r=Ey(i,r,1),i=Ps(i,r,1),r=Xt(),i!==null&&(_s(i,1,r),cn(i,r));break}}i=i.return}}function xA(r,i,l){var d=r.pingCache;d!==null&&d.delete(i),i=Xt(),r.pingedLanes|=r.suspendedLanes&l,kt===r&&(jt&l)===l&&(It===4||It===3&&(jt&130023424)===jt&&500>et()-df?Oi(r,0):cf|=l),cn(r,i)}function n_(r,i){i===0&&(r.mode&1?(i=go,go<<=1,!(go&130023424)&&(go=4194304)):i=1);var l=Xt();r=Kr(r,i),r!==null&&(_s(r,i,l),cn(r,l))}function SA(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),n_(r,l)}function CA(r,i){var l=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),n_(r,l)}var r_;r_=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||on.current)ln=!0;else{if(!(r.lanes&l)&&!(i.flags&128))return ln=!1,pA(r,i,l);ln=!!(r.flags&131072)}else ln=!1,at&&i.flags&1048576&&Lg(i,Gu,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;uc(r,i),r=i.pendingProps;var m=jo(i,Ut.current);Bo(i,l),m=Bh(null,i,d,r,m,l);var _=zh();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,an(d)?(_=!0,Hu(i)):_=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Dh(i),m.updater=ac,i.stateNode=m,m._reactInternals=i,Gh(i,d,r,l),i=Jh(null,i,d,!0,_,l)):(i.tag=0,at&&_&&Ih(i),Yt(null,i,m,l),i=i.child),i;case 16:d=i.elementType;e:{switch(uc(r,i),r=i.pendingProps,m=d._init,d=m(d._payload),i.type=d,m=i.tag=kA(d),r=sr(d,r),m){case 0:i=Xh(null,i,d,r,l);break e;case 1:i=ky(null,i,d,r,l);break e;case 11:i=Iy(null,i,d,r,l);break e;case 14:i=xy(null,i,d,sr(d.type,r),l);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:sr(d,m),Xh(r,i,d,m,l);case 1:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:sr(d,m),ky(r,i,d,m,l);case 3:e:{if(Py(i),r===null)throw Error(t(387));d=i.pendingProps,_=i.memoizedState,m=_.element,Hg(r,i),ec(i,d,null,l);var T=i.memoizedState;if(d=T.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){m=$o(Error(t(423)),i),i=Ny(r,i,d,l,m);break e}else if(d!==m){m=$o(Error(t(424)),i),i=Ny(r,i,d,l,m);break e}else for(wn=xs(i.stateNode.containerInfo.firstChild),En=i,at=!0,rr=null,l=$g(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Mo(),d===m){i=Qr(r,i,l);break e}Yt(r,i,d,l)}i=i.child}return i;case 5:return Gg(i),r===null&&Ch(i),d=i.type,m=i.pendingProps,_=r!==null?r.memoizedProps:null,T=m.children,_h(d,m)?T=null:_!==null&&_h(d,_)&&(i.flags|=32),Ry(r,i),Yt(r,i,T,l),i.child;case 6:return r===null&&Ch(i),null;case 13:return by(r,i,l);case 4:return jh(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=Fo(i,null,d,l):Yt(r,i,d,l),i.child;case 11:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:sr(d,m),Iy(r,i,d,m,l);case 7:return Yt(r,i,i.pendingProps,l),i.child;case 8:return Yt(r,i,i.pendingProps.children,l),i.child;case 12:return Yt(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,m=i.pendingProps,_=i.memoizedProps,T=m.value,tt(Xu,d._currentValue),d._currentValue=T,_!==null)if(nr(_.value,T)){if(_.children===m.children&&!on.current){i=Qr(r,i,l);break e}}else for(_=i.child,_!==null&&(_.return=i);_!==null;){var N=_.dependencies;if(N!==null){T=_.child;for(var M=N.firstContext;M!==null;){if(M.context===d){if(_.tag===1){M=Gr(-1,l&-l),M.tag=2;var G=_.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),G.pending=M}}_.lanes|=l,M=_.alternate,M!==null&&(M.lanes|=l),bh(_.return,l,i),N.lanes|=l;break}M=M.next}}else if(_.tag===10)T=_.type===i.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=l,N=T.alternate,N!==null&&(N.lanes|=l),bh(T,l,i),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===i){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}Yt(r,i,m.children,l),i=i.child}return i;case 9:return m=i.type,d=i.pendingProps.children,Bo(i,l),m=bn(m),d=d(m),i.flags|=1,Yt(r,i,d,l),i.child;case 14:return d=i.type,m=sr(d,i.pendingProps),m=sr(d.type,m),xy(r,i,d,m,l);case 15:return Sy(r,i,i.type,i.pendingProps,l);case 17:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:sr(d,m),uc(r,i),i.tag=1,an(d)?(r=!0,Hu(i)):r=!1,Bo(i,l),yy(i,d,m),Gh(i,d,m,l),Jh(null,i,d,!0,r,l);case 19:return Dy(r,i,l);case 22:return Cy(r,i,l)}throw Error(t(156,i.tag))};function s_(r,i){return po(r,i)}function RA(r,i,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(r,i,l,d){return new RA(r,i,l,d)}function vf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function kA(r){if(typeof r=="function")return vf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===$e)return 14}return 2}function Ls(r,i){var l=r.alternate;return l===null?(l=jn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Ec(r,i,l,d,m,_){var T=2;if(d=r,typeof r=="function")vf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case C:return ji(l.children,m,_,i);case x:T=8,m|=8;break;case k:return r=jn(12,l,i,m|2),r.elementType=k,r.lanes=_,r;case D:return r=jn(13,l,i,m),r.elementType=D,r.lanes=_,r;case Ne:return r=jn(19,l,i,m),r.elementType=Ne,r.lanes=_,r;case Pe:return wc(l,m,_,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:T=10;break e;case F:T=9;break e;case B:T=11;break e;case $e:T=14;break e;case Ye:T=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=jn(T,l,i,m),i.elementType=r,i.type=d,i.lanes=_,i}function ji(r,i,l,d){return r=jn(7,r,d,i),r.lanes=l,r}function wc(r,i,l,d){return r=jn(22,r,d,i),r.elementType=Pe,r.lanes=l,r.stateNode={isHidden:!1},r}function Ef(r,i,l){return r=jn(6,r,null,i),r.lanes=l,r}function wf(r,i,l){return i=jn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function PA(r,i,l,d,m){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ys(0),this.expirationTimes=ys(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ys(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Tf(r,i,l,d,m,_,T,N,M){return r=new PA(r,i,l,N,M),i===1?(i=1,_===!0&&(i|=8)):i=0,_=jn(3,null,null,i),r.current=_,_.stateNode=r,_.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(_),r}function NA(r,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:r,containerInfo:i,implementation:l}}function i_(r){if(!r)return Cs;r=r._reactInternals;e:{if(Qn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(an(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(an(l))return Og(r,l,i)}return i}function o_(r,i,l,d,m,_,T,N,M){return r=Tf(l,d,!0,r,m,_,T,N,M),r.context=i_(null),l=r.current,d=Xt(),m=Ds(l),_=Gr(d,m),_.callback=i??null,Ps(l,_,m),r.current.lanes=m,_s(r,m,d),cn(r,d),r}function Tc(r,i,l,d){var m=i.current,_=Xt(),T=Ds(m);return l=i_(l),i.context===null?i.context=l:i.pendingContext=l,i=Gr(_,T),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=Ps(m,i,T),r!==null&&(ar(r,m,T,_),Zu(r,m,T)),T}function Ac(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function a_(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Af(r,i){a_(r,i),(r=r.alternate)&&a_(r,i)}var l_=typeof reportError=="function"?reportError:function(r){console.error(r)};function If(r){this._internalRoot=r}Ic.prototype.render=If.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Tc(r,i,null,null)},Ic.prototype.unmount=If.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;bi(function(){Tc(null,r,null,null)}),i[$r]=null}};function Ic(r){this._internalRoot=r}Ic.prototype.unstable_scheduleHydration=function(r){if(r){var i=Iu();r={blockedOn:null,target:r,priority:i};for(var l=0;l<_r.length&&i!==0&&i<_r[l].priority;l++);_r.splice(l,0,r),l===0&&Cu(r)}};function xf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function xc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function u_(){}function bA(r,i,l,d,m){if(m){if(typeof d=="function"){var _=d;d=function(){var G=Ac(T);_.call(G)}}var T=o_(i,d,r,0,null,!1,!1,"",u_);return r._reactRootContainer=T,r[$r]=T.current,ol(r.nodeType===8?r.parentNode:r),bi(),T}for(;m=r.lastChild;)r.removeChild(m);if(typeof d=="function"){var N=d;d=function(){var G=Ac(M);N.call(G)}}var M=Tf(r,0,!1,null,null,!1,!1,"",u_);return r._reactRootContainer=M,r[$r]=M.current,ol(r.nodeType===8?r.parentNode:r),bi(function(){Tc(i,M,l,d)}),M}function Sc(r,i,l,d,m){var _=l._reactRootContainer;if(_){var T=_;if(typeof m=="function"){var N=m;m=function(){var M=Ac(T);N.call(M)}}Tc(i,T,r,m)}else T=bA(l,i,r,m,d);return Ac(T)}Tu=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=gs(i.pendingLanes);l!==0&&(vs(i,l|1),cn(i,et()),!(ze&6)&&(Wo=et()+500,Rs()))}break;case 13:bi(function(){var d=Kr(r,1);if(d!==null){var m=Xt();ar(d,r,1,m)}}),Af(r,1)}},yo=function(r){if(r.tag===13){var i=Kr(r,134217728);if(i!==null){var l=Xt();ar(i,r,134217728,l)}Af(r,134217728)}},Au=function(r){if(r.tag===13){var i=Ds(r),l=Kr(r,i);if(l!==null){var d=Xt();ar(l,r,i,d)}Af(r,i)}},Iu=function(){return Me},xu=function(r,i){var l=Me;try{return Me=r,i()}finally{Me=l}},ao=function(r,i,l){switch(i){case"input":if(qn(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==r&&d.form===r.form){var m=$u(d);if(!m)throw Error(t(90));mn(d),qn(d,m)}}}break;case"textarea":Lr(r,l);break;case"select":i=l.value,i!=null&&Wn(r,!!l.multiple,i,!1)}},hi=gf,Ba=bi;var OA={usingClientEntryPoint:!1,Events:[ul,Oo,$u,gr,Ua,gf]},Al={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DA={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=qa(r),r===null?null:r.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{yi=Cc.inject(DA),gn=Cc}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OA,dn.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(i))throw Error(t(200));return NA(r,i,null,l)},dn.createRoot=function(r,i){if(!xf(r))throw Error(t(299));var l=!1,d="",m=l_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Tf(r,1,!1,null,null,l,!1,d,m),r[$r]=i.current,ol(r.nodeType===8?r.parentNode:r),new If(i)},dn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=qa(i),r=r===null?null:r.stateNode,r},dn.flushSync=function(r){return bi(r)},dn.hydrate=function(r,i,l){if(!xc(i))throw Error(t(200));return Sc(null,r,i,!0,l)},dn.hydrateRoot=function(r,i,l){if(!xf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,_="",T=l_;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),i=o_(i,null,r,1,l??null,m,!1,_,T),r[$r]=i.current,ol(r),d)for(r=0;r<d.length;r++)l=d[r],m=l._getVersion,m=m(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,m]:i.mutableSourceEagerHydrationData.push(l,m);return new Ic(i)},dn.render=function(r,i,l){if(!xc(i))throw Error(t(200));return Sc(null,r,i,!1,l)},dn.unmountComponentAtNode=function(r){if(!xc(r))throw Error(t(40));return r._reactRootContainer?(bi(function(){Sc(null,null,r,!1,function(){r._reactRootContainer=null,r[$r]=null})}),!0):!1},dn.unstable_batchedUpdates=gf,dn.unstable_renderSubtreeIntoContainer=function(r,i,l,d){if(!xc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Sc(r,i,l,!1,d)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var y_;function _E(){if(y_)return Rf.exports;y_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rf.exports=$A(),Rf.exports}var __;function qA(){if(__)return Rc;__=1;var n=_E();return Rc.createRoot=n.createRoot,Rc.hydrateRoot=n.hydrateRoot,Rc}var HA=qA(),xl={},v_;function WA(){if(v_)return xl;v_=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parse=u,xl.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,R){const P=new a,L=w.length;if(L<2)return P;const j=(R==null?void 0:R.decode)||v;let O=0;do{const b=w.indexOf("=",O);if(b===-1)break;const $=w.indexOf(";",O),K=$===-1?L:$;if(b>K){O=w.lastIndexOf(";",b-1)+1;continue}const J=h(w,O,b),se=f(w,b,J),C=w.slice(J,se);if(P[C]===void 0){let x=h(w,b+1,K),k=f(w,K,x);const V=j(w.slice(x,k));P[C]=V}O=K+1}while(O<L);return P}function h(w,R,P){do{const L=w.charCodeAt(R);if(L!==32&&L!==9)return R}while(++R<P);return P}function f(w,R,P){for(;R>P;){const L=w.charCodeAt(--R);if(L!==32&&L!==9)return R+1}return P}function g(w,R,P){const L=(P==null?void 0:P.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const j=L(R);if(!e.test(j))throw new TypeError(`argument val is invalid: ${R}`);let O=w+"="+j;if(!P)return O;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);O+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);O+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);O+="; Path="+P.path}if(P.expires){if(!A(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);O+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(O+="; HttpOnly"),P.secure&&(O+="; Secure"),P.partitioned&&(O+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return O}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return xl}WA();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E_="popstate";function KA(n={}){function e(s,o){let{pathname:a,search:u,hash:h}=s.location;return lp("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Bl(o)}return QA(e,t,null,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GA(){return Math.random().toString(36).substring(2,10)}function w_(n,e){return{usr:n.state,key:n.key,idx:e}}function lp(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wa(e):e,state:t,key:e&&e.key||s||GA()}}function Bl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function QA(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:a=!1}=s,u=o.history,h="POP",f=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function A(){h="POP";let j=v(),O=j==null?null:j-g;g=j,f&&f({action:h,location:L.location,delta:O})}function w(j,O){h="PUSH";let b=lp(L.location,j,O);g=v()+1;let $=w_(b,g),K=L.createHref(b);try{u.pushState($,"",K)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(K)}a&&f&&f({action:h,location:L.location,delta:1})}function R(j,O){h="REPLACE";let b=lp(L.location,j,O);g=v();let $=w_(b,g),K=L.createHref(b);u.replaceState($,"",K),a&&f&&f({action:h,location:L.location,delta:0})}function P(j){let O=o.location.origin!=="null"?o.location.origin:o.location.href,b=typeof j=="string"?j:Bl(j);return b=b.replace(/ $/,"%20"),ht(O,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,O)}let L={get action(){return h},get location(){return n(o,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(E_,A),f=j,()=>{o.removeEventListener(E_,A),f=null}},createHref(j){return e(o,j)},createURL:P,encodeLocation(j){let O=P(j);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:R,go(j){return u.go(j)}};return L}function vE(n,e,t="/"){return YA(n,e,t,!1)}function YA(n,e,t,s){let o=typeof e=="string"?wa(e):e,a=Qs(o.pathname||"/",t);if(a==null)return null;let u=EE(n);XA(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=lI(a);h=oI(u[f],g,s)}return h}function EE(n,e=[],t=[],s=""){let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(ht(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let g=ns([s,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(ht(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),EE(a.children,e,v,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:sI(g,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of wE(a.path))o(a,u,f)}),e}function wE(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let u=wE(s.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function XA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iI(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var JA=/^:[\w-]+$/,ZA=3,eI=2,tI=1,nI=10,rI=-2,T_=n=>n==="*";function sI(n,e){let t=n.split("/"),s=t.length;return t.some(T_)&&(s+=rI),e&&(s+=eI),t.filter(o=>!T_(o)).reduce((o,a)=>o+(JA.test(a)?ZA:a===""?tI:nI),s)}function iI(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function oI(n,e,t=!1){let{routesMeta:s}=n,o={},a="/",u=[];for(let h=0;h<s.length;++h){let f=s[h],g=h===s.length-1,v=a==="/"?e:e.slice(a.length)||"/",A=Zc({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},v),w=f.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=Zc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!A)return null;Object.assign(o,A.params),u.push({params:o,pathname:ns([a,A.pathname]),pathnameBase:hI(ns([a,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(a=ns([a,A.pathnameBase]))}return u}function Zc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=aI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:A},w)=>{if(v==="*"){let P=h[w]||"";u=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const R=h[w];return A&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:u,pattern:n}}function aI(n,e=!1,t=!0){Pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function lI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function uI(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?wa(n):n;return{pathname:t?t.startsWith("/")?t:cI(t,e):e,search:fI(s),hash:pI(o)}}function cI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Nf(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function TE(n){let e=dI(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function AE(n,e,t,s=!1){let o;typeof n=="string"?o=wa(n):(o={...n},ht(!o.pathname||!o.pathname.includes("?"),Nf("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Nf("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Nf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let A=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}h=A>=0?e[A]:"/"}let f=uI(o,h),g=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||v)&&(f.pathname+="/"),f}var ns=n=>n.join("/").replace(/\/\/+/g,"/"),hI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function mI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var gI=["GET",...IE];new Set(gI);var Ta=S.createContext(null);Ta.displayName="DataRouter";var vd=S.createContext(null);vd.displayName="DataRouterState";var xE=S.createContext({isTransitioning:!1});xE.displayName="ViewTransition";var yI=S.createContext(new Map);yI.displayName="Fetchers";var _I=S.createContext(null);_I.displayName="Await";var Or=S.createContext(null);Or.displayName="Navigation";var Yl=S.createContext(null);Yl.displayName="Location";var Dr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var Xp=S.createContext(null);Xp.displayName="RouteError";function vI(n,{relative:e}={}){ht(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=S.useContext(Or),{hash:o,pathname:a,search:u}=Jl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:ns([t,a])),s.createHref({pathname:h,search:u,hash:o})}function Xl(){return S.useContext(Yl)!=null}function jr(){return ht(Xl(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Yl).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CE(n){S.useContext(Or).static||S.useLayoutEffect(n)}function In(){let{isDataRoute:n}=S.useContext(Dr);return n?OI():EI()}function EI(){ht(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(Ta),{basename:e,navigator:t}=S.useContext(Or),{matches:s}=S.useContext(Dr),{pathname:o}=jr(),a=JSON.stringify(TE(s)),u=S.useRef(!1);return CE(()=>{u.current=!0}),S.useCallback((f,g={})=>{if(Pr(u.current,SE),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=AE(f,JSON.parse(a),o,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ns([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,a,o,n])}S.createContext(null);function wI(){let{matches:n}=S.useContext(Dr),e=n[n.length-1];return e?e.params:{}}function Jl(n,{relative:e}={}){let{matches:t}=S.useContext(Dr),{pathname:s}=jr(),o=JSON.stringify(TE(t));return S.useMemo(()=>AE(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function TI(n,e){return RE(n,e)}function RE(n,e,t,s){var O;ht(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(Or),{matches:a}=S.useContext(Dr),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let b=v&&v.path||"";kE(f,!v||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let A=jr(),w;if(e){let b=typeof e=="string"?wa(e):e;ht(g==="/"||((O=b.pathname)==null?void 0:O.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${b.pathname}" was given in the \`location\` prop.`),w=b}else w=A;let R=w.pathname||"/",P=R;if(g!=="/"){let b=g.replace(/^\//,"").split("/");P="/"+R.replace(/^\//,"").split("/").slice(b.length).join("/")}let L=vE(n,{pathname:P});Pr(v||L!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Pr(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=CI(L&&L.map(b=>Object.assign({},b,{params:Object.assign({},h,b.params),pathname:ns([g,o.encodeLocation?o.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?g:ns([g,o.encodeLocation?o.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,s);return e&&j?S.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function AI(){let n=bI(),e=mI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:o},t):null,u)}var II=S.createElement(AI,null),xI=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?S.createElement(Dr.Provider,{value:this.props.routeContext},S.createElement(Xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SI({routeContext:n,match:e,children:t}){let s=S.useContext(Ta);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Dr.Provider,{value:n},t)}function CI(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:v,errors:A}=t,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,g,v)=>{let A,w=!1,R=null,P=null;t&&(A=a&&g.route.id?a[g.route.id]:void 0,R=g.route.errorElement||II,u&&(h<0&&v===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):h===v&&(w=!0,P=g.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,v+1)),j=()=>{let O;return A?O=R:w?O=P:g.route.Component?O=S.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=f,S.createElement(SI,{match:g,routeContext:{outlet:f,matches:L,isDataRoute:t!=null},children:O})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?S.createElement(xI,{location:t.location,revalidation:t.revalidation,component:R,error:A,children:j(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):j()},null)}function Jp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RI(n){let e=S.useContext(Ta);return ht(e,Jp(n)),e}function kI(n){let e=S.useContext(vd);return ht(e,Jp(n)),e}function PI(n){let e=S.useContext(Dr);return ht(e,Jp(n)),e}function Zp(n){let e=PI(n),t=e.matches[e.matches.length-1];return ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function NI(){return Zp("useRouteId")}function bI(){var s;let n=S.useContext(Xp),e=kI("useRouteError"),t=Zp("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function OI(){let{router:n}=RI("useNavigate"),e=Zp("useNavigate"),t=S.useRef(!1);return CE(()=>{t.current=!0}),S.useCallback(async(o,a={})=>{Pr(t.current,SE),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var A_={};function kE(n,e,t){!e&&!A_[n]&&(A_[n]=!0,Pr(!1,t))}S.memo(DI);function DI({routes:n,future:e,state:t}){return RE(n,void 0,t,e)}function Je(n){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jI({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:a=!1}){ht(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=wa(t));let{pathname:f="/",search:g="",hash:v="",state:A=null,key:w="default"}=t,R=S.useMemo(()=>{let P=Qs(f,u);return P==null?null:{location:{pathname:P,search:g,hash:v,state:A,key:w},navigationType:s}},[u,f,g,v,A,w,s]);return Pr(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:S.createElement(Or.Provider,{value:h},S.createElement(Yl.Provider,{children:e,value:R}))}function LI({children:n,location:e}){return TI(up(n),e)}function up(n,e=[]){let t=[];return S.Children.forEach(n,(s,o)=>{if(!S.isValidElement(s))return;let a=[...e,o];if(s.type===S.Fragment){t.push.apply(t,up(s.props.children,a));return}ht(s.type===Je,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=up(s.props.children,a)),t.push(u)}),t}var Uc="get",Bc="application/x-www-form-urlencoded";function Ed(n){return n!=null&&typeof n.tagName=="string"}function VI(n){return Ed(n)&&n.tagName.toLowerCase()==="button"}function MI(n){return Ed(n)&&n.tagName.toLowerCase()==="form"}function FI(n){return Ed(n)&&n.tagName.toLowerCase()==="input"}function UI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function BI(n,e){return n.button===0&&(!e||e==="_self")&&!UI(n)}var kc=null;function zI(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var $I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bf(n){return n!=null&&!$I.has(n)?(Pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):n}function qI(n,e){let t,s,o,a,u;if(MI(n)){let h=n.getAttribute("action");s=h?Qs(h,e):null,t=n.getAttribute("method")||Uc,o=bf(n.getAttribute("enctype"))||Bc,a=new FormData(n)}else if(VI(n)||FI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(s=f?Qs(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Uc,o=bf(n.getAttribute("formenctype"))||bf(h.getAttribute("enctype"))||Bc,a=new FormData(h,n),!zI()){let{name:g,type:v,value:A}=n;if(v==="image"){let w=g?`${g}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else g&&a.append(g,A)}}else{if(Ed(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Uc,s=null,o=Bc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:a,body:u}}function em(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function HI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function KI(n,e,t){let s=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await HI(a,t);return u.links?u.links():[]}return[]}));return XI(s.flat(1).filter(WI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I_(n,e,t,s,o,a){let u=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,h=(f,g)=>{var v;return t[g].pathname!==f.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,g)=>u(f,g)||h(f,g)):a==="data"?e.filter((f,g)=>{var A;let v=s.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function GI(n,e){return QI(n.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function QI(n){return[...new Set(n)]}function YI(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function XI(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let a=JSON.stringify(YI(o));return t.has(a)||(t.add(a),s.push({key:a,link:o})),s},[])}function JI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ZI(){let n=S.useContext(Ta);return em(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ex(){let n=S.useContext(vd);return em(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tm=S.createContext(void 0);tm.displayName="FrameworkContext";function PE(){let n=S.useContext(tm);return em(n,"You must render this element inside a <HydratedRouter> element"),n}function tx(n,e){let t=S.useContext(tm),[s,o]=S.useState(!1),[a,u]=S.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:v,onTouchStart:A}=e,w=S.useRef(null);S.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let L=O=>{O.forEach(b=>{u(b.isIntersecting)})},j=new IntersectionObserver(L,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[n]),S.useEffect(()=>{if(s){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[s]);let R=()=>{o(!0)},P=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,w,{}]:[a,w,{onFocus:Sl(h,R),onBlur:Sl(f,P),onMouseEnter:Sl(g,R),onMouseLeave:Sl(v,P),onTouchStart:Sl(A,R)}]:[!1,w,{}]}function Sl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function nx({page:n,...e}){let{router:t}=ZI(),s=S.useMemo(()=>vE(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?S.createElement(sx,{page:n,matches:s,...e}):null}function rx(n){let{manifest:e,routeModules:t}=PE(),[s,o]=S.useState([]);return S.useEffect(()=>{let a=!1;return KI(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),s}function sx({page:n,matches:e,...t}){let s=jr(),{manifest:o,routeModules:a}=PE(),{loaderData:u,matches:h}=ex(),f=S.useMemo(()=>I_(n,e,h,o,s,"data"),[n,e,h,o,s]),g=S.useMemo(()=>I_(n,e,h,o,s,"assets"),[n,e,h,o,s]),v=S.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let R=new Set,P=!1;if(e.forEach(j=>{var b;let O=o.routes[j.route.id];!O||!O.hasLoader||(!f.some($=>$.route.id===j.route.id)&&j.route.id in u&&((b=a[j.route.id])!=null&&b.shouldRevalidate)||O.hasClientLoader?P=!0:R.add(j.route.id))}),R.size===0)return[];let L=JI(n);return P&&R.size>0&&L.searchParams.set("_routes",e.filter(j=>R.has(j.route.id)).map(j=>j.route.id).join(",")),[L.pathname+L.search]},[u,s,o,f,e,n,a]),A=S.useMemo(()=>GI(g,o),[g,o]),w=rx(g);return S.createElement(S.Fragment,null,v.map(R=>S.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),A.map(R=>S.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),w.map(({key:R,link:P})=>S.createElement("link",{key:R,...P})))}function ix(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NE&&(window.__reactRouterVersion="7.1.1")}catch{}function ox({basename:n,children:e,window:t}){let s=S.useRef();s.current==null&&(s.current=KA({window:t,v5Compat:!0}));let o=s.current,[a,u]=S.useState({action:o.action,location:o.location}),h=S.useCallback(f=>{S.startTransition(()=>u(f))},[u]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(jI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=S.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:g,preventScrollReset:v,viewTransition:A,...w},R){let{basename:P}=S.useContext(Or),L=typeof g=="string"&&bE.test(g),j,O=!1;if(typeof g=="string"&&L&&(j=g,NE))try{let k=new URL(window.location.href),V=g.startsWith("//")?new URL(k.protocol+g):new URL(g),F=Qs(V.pathname,P);V.origin===k.origin&&F!=null?g=F+V.search+V.hash:O=!0}catch{Pr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=vI(g,{relative:o}),[$,K,J]=tx(s,w),se=cx(g,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:A});function C(k){e&&e(k),k.defaultPrevented||se(k)}let x=S.createElement("a",{...w,...J,href:j||b,onClick:O||a?e:C,ref:ix(R,K),target:f,"data-discover":!L&&t==="render"?"true":void 0});return $&&!L?S.createElement(S.Fragment,null,x,S.createElement(nx,{page:b})):x});lt.displayName="Link";var ax=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...g},v){let A=Jl(u,{relative:g.relative}),w=jr(),R=S.useContext(vd),{navigator:P,basename:L}=S.useContext(Or),j=R!=null&&mx(A)&&h===!0,O=P.encodeLocation?P.encodeLocation(A).pathname:A.pathname,b=w.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(b=b.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&L&&($=Qs($,L)||$);const K=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let J=b===O||!o&&b.startsWith(O)&&b.charAt(K)==="/",se=$!=null&&($===O||!o&&$.startsWith(O)&&$.charAt(O.length)==="/"),C={isActive:J,isPending:se,isTransitioning:j},x=J?e:void 0,k;typeof s=="function"?k=s(C):k=[s,J?"active":null,se?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(C):a;return S.createElement(lt,{...g,"aria-current":x,className:k,ref:v,style:V,to:u,viewTransition:h},typeof f=="function"?f(C):f)});ax.displayName="NavLink";var lx=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:a,method:u=Uc,action:h,onSubmit:f,relative:g,preventScrollReset:v,viewTransition:A,...w},R)=>{let P=fx(),L=px(h,{relative:g}),j=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&bE.test(h),b=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let K=$.nativeEvent.submitter,J=(K==null?void 0:K.getAttribute("formmethod"))||u;P(K||$.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:o,state:a,relative:g,preventScrollReset:v,viewTransition:A})};return S.createElement("form",{ref:R,method:j,action:L,onSubmit:s?f:b,...w,"data-discover":!O&&n==="render"?"true":void 0})});lx.displayName="Form";function ux(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OE(n){let e=S.useContext(Ta);return ht(e,ux(n)),e}function cx(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=In(),f=jr(),g=Jl(n,{relative:a});return S.useCallback(v=>{if(BI(v,e)){v.preventDefault();let A=t!==void 0?t:Bl(f)===Bl(g);h(n,{replace:A,state:s,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,g,t,s,e,n,o,a,u])}var dx=0,hx=()=>`__${String(++dx)}__`;function fx(){let{router:n}=OE("useSubmit"),{basename:e}=S.useContext(Or),t=NI();return S.useCallback(async(s,o={})=>{let{action:a,method:u,encType:h,formData:f,body:g}=qI(s,e);if(o.navigate===!1){let v=o.fetcherKey||hx();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:g,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:g,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function px(n,{relative:e}={}){let{basename:t}=S.useContext(Or),s=S.useContext(Dr);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),a={...Jl(n||".",{relative:e})},u=jr();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(A=>A).forEach(A=>h.append("index",A));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ns([t,a.pathname])),Bl(a)}function mx(n,e={}){let t=S.useContext(xE);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OE("useViewTransitionState"),o=Jl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Qs(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=Qs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Zc(o.pathname,u)!=null||Zc(o.pathname,a)!=null}new TextEncoder;var gx=_E();const na=Ji(gx);var x_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},yx=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,f=o+2<n.length,g=f?n[o+2]:0,v=a>>2,A=(a&3)<<4|h>>4;let w=(h&15)<<2|g>>6,R=g&63;f||(R=64,u||(w=64)),s.push(t[v],t[A],t[w],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):yx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const A=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||g==null||A==null)throw new _x;const w=a<<2|h>>4;if(s.push(w),g!==64){const R=h<<4&240|g>>2;if(s.push(R),A!==64){const P=g<<6&192|A;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _x extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vx=function(n){const e=DE(n);return jE.encodeByteArray(e,!0)},ed=function(n){return vx(n).replace(/\./g,"")},LE=function(n){try{return jE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=()=>Ex().__FIREBASE_DEFAULTS__,Tx=()=>{if(typeof process>"u"||typeof x_>"u")return;const n=x_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ax=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&LE(n[1]);return e&&JSON.parse(e)},wd=()=>{try{return wx()||Tx()||Ax()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},VE=n=>{var e,t;return(t=(e=wd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ix=n=>{const e=VE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},ME=()=>{var n;return(n=wd())===null||n===void 0?void 0:n.config},FE=n=>{var e;return(e=wd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ed(JSON.stringify(t)),ed(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function Rx(){var n;const e=(n=wd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Px(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Nx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bx(){const n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ox(){return!Rx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dx(){try{return typeof indexedDB=="object"}catch{return!1}}function jx(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="FirebaseError";class cs extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Lx,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Vx(a,s):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new cs(o,h,s)}}function Vx(n,e){return n.replace(Mx,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Mx=/\{\$([^}]+)}/g;function Fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ua(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const a=n[o],u=e[o];if(S_(a)&&S_(u)){if(!ua(a,u))return!1}else if(a!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function S_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function kl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,a]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Pl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Ux(n,e){const t=new Bx(n,e);return t.subscribe.bind(t)}class Bx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");zx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Of),o.error===void 0&&(o.error=Of),o.complete===void 0&&(o.complete=Of);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n){return n&&n._delegate?n._delegate:n}class Ki{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new xx;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hx(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);s===h&&u.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qx(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qx(n){return n===Li?void 0:n}function Hx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $x(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const Kx={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},Gx=je.INFO,Qx={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},Yx=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=Qx[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nm{constructor(e){this.name=e,this._logLevel=Gx,this._logHandler=Yx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const Xx=(n,e)=>e.some(t=>n instanceof t);let C_,R_;function Jx(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zx(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UE=new WeakMap,cp=new WeakMap,BE=new WeakMap,Df=new WeakMap,rm=new WeakMap;function eS(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(qs(n.result)),o()},u=()=>{s(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&UE.set(t,n)}).catch(()=>{}),rm.set(e,n),e}function tS(n){if(cp.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});cp.set(n,e)}let dp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nS(n){dp=n(dp)}function rS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(jf(this),e,...t);return BE.set(s,e.sort?e.sort():[e]),qs(s)}:Zx().includes(n)?function(...e){return n.apply(jf(this),e),qs(UE.get(this))}:function(...e){return qs(n.apply(jf(this),e))}}function sS(n){return typeof n=="function"?rS(n):(n instanceof IDBTransaction&&tS(n),Xx(n,Jx())?new Proxy(n,dp):n)}function qs(n){if(n instanceof IDBRequest)return eS(n);if(Df.has(n))return Df.get(n);const e=sS(n);return e!==n&&(Df.set(n,e),rm.set(e,n)),e}const jf=n=>rm.get(n);function iS(n,e,{blocked:t,upgrade:s,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=qs(u);return s&&u.addEventListener("upgradeneeded",f=>{s(qs(u.result),f.oldVersion,f.newVersion,qs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const oS=["get","getKey","getAll","getAllKeys","count"],aS=["put","add","delete","clear"],Lf=new Map;function k_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=aS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||oS.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let g=f.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),o&&f.done]))[0]};return Lf.set(e,a),a}nS(n=>({...n,get:(e,t,s)=>k_(e,t)||n.get(e,t,s),has:(e,t)=>!!k_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function uS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hp="@firebase/app",P_="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new nm("@firebase/app"),cS="@firebase/app-compat",dS="@firebase/analytics-compat",hS="@firebase/analytics",fS="@firebase/app-check-compat",pS="@firebase/app-check",mS="@firebase/auth",gS="@firebase/auth-compat",yS="@firebase/database",_S="@firebase/data-connect",vS="@firebase/database-compat",ES="@firebase/functions",wS="@firebase/functions-compat",TS="@firebase/installations",AS="@firebase/installations-compat",IS="@firebase/messaging",xS="@firebase/messaging-compat",SS="@firebase/performance",CS="@firebase/performance-compat",RS="@firebase/remote-config",kS="@firebase/remote-config-compat",PS="@firebase/storage",NS="@firebase/storage-compat",bS="@firebase/firestore",OS="@firebase/vertexai",DS="@firebase/firestore-compat",jS="firebase",LS="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="[DEFAULT]",VS={[hp]:"fire-core",[cS]:"fire-core-compat",[hS]:"fire-analytics",[dS]:"fire-analytics-compat",[pS]:"fire-app-check",[fS]:"fire-app-check-compat",[mS]:"fire-auth",[gS]:"fire-auth-compat",[yS]:"fire-rtdb",[_S]:"fire-data-connect",[vS]:"fire-rtdb-compat",[ES]:"fire-fn",[wS]:"fire-fn-compat",[TS]:"fire-iid",[AS]:"fire-iid-compat",[IS]:"fire-fcm",[xS]:"fire-fcm-compat",[SS]:"fire-perf",[CS]:"fire-perf-compat",[RS]:"fire-rc",[kS]:"fire-rc-compat",[PS]:"fire-gcs",[NS]:"fire-gcs-compat",[bS]:"fire-fst",[DS]:"fire-fst-compat",[OS]:"fire-vertex","fire-js":"fire-js",[jS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,MS=new Map,pp=new Map;function N_(n,e){try{n.container.addComponent(e)}catch(t){is.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ca(n){const e=n.name;if(pp.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,n);for(const t of td.values())N_(t,n);for(const t of MS.values())N_(t,n);return!0}function sm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function lr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Zl("app","Firebase",FS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=LS;function zE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:fp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Hs.create("bad-app-name",{appName:String(o)});if(t||(t=ME()),!t)throw Hs.create("no-options");const a=td.get(o);if(a){if(ua(t,a.options)&&ua(s,a.config))return a;throw Hs.create("duplicate-app",{appName:o})}const u=new Wx(o);for(const f of pp.values())u.addComponent(f);const h=new US(t,s,u);return td.set(o,h),h}function $E(n=fp){const e=td.get(n);if(!e&&n===fp&&ME())return zE();if(!e)throw Hs.create("no-app",{appName:n});return e}function Ws(n,e,t){var s;let o=(s=VS[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(h.join(" "));return}ca(new Ki(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebase-heartbeat-database",zS=1,zl="firebase-heartbeat-store";let Vf=null;function qE(){return Vf||(Vf=iS(BS,zS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hs.create("idb-open",{originalErrorMessage:n.message})})),Vf}async function $S(n){try{const t=(await qE()).transaction(zl),s=await t.objectStore(zl).get(HE(n));return await t.done,s}catch(e){if(e instanceof cs)is.warn(e.message);else{const t=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(t.message)}}}async function b_(n,e){try{const s=(await qE()).transaction(zl,"readwrite");await s.objectStore(zl).put(e,HE(n)),await s.done}catch(t){if(t instanceof cs)is.warn(t.message);else{const s=Hs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});is.warn(s.message)}}}function HE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=1024,HS=30*24*60*60*1e3;class WS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=O_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=HS}),this._storage.overwrite(this._heartbeatsCache))}catch(s){is.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O_(),{heartbeatsToSend:s,unsentEntries:o}=KS(this._heartbeatsCache.heartbeats),a=ed(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return is.warn(t),""}}}function O_(){return new Date().toISOString().substring(0,10)}function KS(n,e=qS){const t=[];let s=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),D_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),D_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class GS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dx()?jx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $S(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return b_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return b_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function D_(n){return ed(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){ca(new Ki("platform-logger",e=>new lS(e),"PRIVATE")),ca(new Ki("heartbeat",e=>new WS(e),"PRIVATE")),Ws(hp,P_,n),Ws(hp,P_,"esm2017"),Ws("fire-js","")}QS("");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,WE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function k(){}k.prototype=x.prototype,C.D=x.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(V,F,B){for(var D=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)D[Ne-2]=arguments[Ne];return x.prototype[F].apply(V,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,k){k||(k=0);var V=Array(16);if(typeof x=="string")for(var F=0;16>F;++F)V[F]=x.charCodeAt(k++)|x.charCodeAt(k++)<<8|x.charCodeAt(k++)<<16|x.charCodeAt(k++)<<24;else for(F=0;16>F;++F)V[F]=x[k++]|x[k++]<<8|x[k++]<<16|x[k++]<<24;x=C.g[0],k=C.g[1],F=C.g[2];var B=C.g[3],D=x+(B^k&(F^B))+V[0]+3614090360&4294967295;x=k+(D<<7&4294967295|D>>>25),D=B+(F^x&(k^F))+V[1]+3905402710&4294967295,B=x+(D<<12&4294967295|D>>>20),D=F+(k^B&(x^k))+V[2]+606105819&4294967295,F=B+(D<<17&4294967295|D>>>15),D=k+(x^F&(B^x))+V[3]+3250441966&4294967295,k=F+(D<<22&4294967295|D>>>10),D=x+(B^k&(F^B))+V[4]+4118548399&4294967295,x=k+(D<<7&4294967295|D>>>25),D=B+(F^x&(k^F))+V[5]+1200080426&4294967295,B=x+(D<<12&4294967295|D>>>20),D=F+(k^B&(x^k))+V[6]+2821735955&4294967295,F=B+(D<<17&4294967295|D>>>15),D=k+(x^F&(B^x))+V[7]+4249261313&4294967295,k=F+(D<<22&4294967295|D>>>10),D=x+(B^k&(F^B))+V[8]+1770035416&4294967295,x=k+(D<<7&4294967295|D>>>25),D=B+(F^x&(k^F))+V[9]+2336552879&4294967295,B=x+(D<<12&4294967295|D>>>20),D=F+(k^B&(x^k))+V[10]+4294925233&4294967295,F=B+(D<<17&4294967295|D>>>15),D=k+(x^F&(B^x))+V[11]+2304563134&4294967295,k=F+(D<<22&4294967295|D>>>10),D=x+(B^k&(F^B))+V[12]+1804603682&4294967295,x=k+(D<<7&4294967295|D>>>25),D=B+(F^x&(k^F))+V[13]+4254626195&4294967295,B=x+(D<<12&4294967295|D>>>20),D=F+(k^B&(x^k))+V[14]+2792965006&4294967295,F=B+(D<<17&4294967295|D>>>15),D=k+(x^F&(B^x))+V[15]+1236535329&4294967295,k=F+(D<<22&4294967295|D>>>10),D=x+(F^B&(k^F))+V[1]+4129170786&4294967295,x=k+(D<<5&4294967295|D>>>27),D=B+(k^F&(x^k))+V[6]+3225465664&4294967295,B=x+(D<<9&4294967295|D>>>23),D=F+(x^k&(B^x))+V[11]+643717713&4294967295,F=B+(D<<14&4294967295|D>>>18),D=k+(B^x&(F^B))+V[0]+3921069994&4294967295,k=F+(D<<20&4294967295|D>>>12),D=x+(F^B&(k^F))+V[5]+3593408605&4294967295,x=k+(D<<5&4294967295|D>>>27),D=B+(k^F&(x^k))+V[10]+38016083&4294967295,B=x+(D<<9&4294967295|D>>>23),D=F+(x^k&(B^x))+V[15]+3634488961&4294967295,F=B+(D<<14&4294967295|D>>>18),D=k+(B^x&(F^B))+V[4]+3889429448&4294967295,k=F+(D<<20&4294967295|D>>>12),D=x+(F^B&(k^F))+V[9]+568446438&4294967295,x=k+(D<<5&4294967295|D>>>27),D=B+(k^F&(x^k))+V[14]+3275163606&4294967295,B=x+(D<<9&4294967295|D>>>23),D=F+(x^k&(B^x))+V[3]+4107603335&4294967295,F=B+(D<<14&4294967295|D>>>18),D=k+(B^x&(F^B))+V[8]+1163531501&4294967295,k=F+(D<<20&4294967295|D>>>12),D=x+(F^B&(k^F))+V[13]+2850285829&4294967295,x=k+(D<<5&4294967295|D>>>27),D=B+(k^F&(x^k))+V[2]+4243563512&4294967295,B=x+(D<<9&4294967295|D>>>23),D=F+(x^k&(B^x))+V[7]+1735328473&4294967295,F=B+(D<<14&4294967295|D>>>18),D=k+(B^x&(F^B))+V[12]+2368359562&4294967295,k=F+(D<<20&4294967295|D>>>12),D=x+(k^F^B)+V[5]+4294588738&4294967295,x=k+(D<<4&4294967295|D>>>28),D=B+(x^k^F)+V[8]+2272392833&4294967295,B=x+(D<<11&4294967295|D>>>21),D=F+(B^x^k)+V[11]+1839030562&4294967295,F=B+(D<<16&4294967295|D>>>16),D=k+(F^B^x)+V[14]+4259657740&4294967295,k=F+(D<<23&4294967295|D>>>9),D=x+(k^F^B)+V[1]+2763975236&4294967295,x=k+(D<<4&4294967295|D>>>28),D=B+(x^k^F)+V[4]+1272893353&4294967295,B=x+(D<<11&4294967295|D>>>21),D=F+(B^x^k)+V[7]+4139469664&4294967295,F=B+(D<<16&4294967295|D>>>16),D=k+(F^B^x)+V[10]+3200236656&4294967295,k=F+(D<<23&4294967295|D>>>9),D=x+(k^F^B)+V[13]+681279174&4294967295,x=k+(D<<4&4294967295|D>>>28),D=B+(x^k^F)+V[0]+3936430074&4294967295,B=x+(D<<11&4294967295|D>>>21),D=F+(B^x^k)+V[3]+3572445317&4294967295,F=B+(D<<16&4294967295|D>>>16),D=k+(F^B^x)+V[6]+76029189&4294967295,k=F+(D<<23&4294967295|D>>>9),D=x+(k^F^B)+V[9]+3654602809&4294967295,x=k+(D<<4&4294967295|D>>>28),D=B+(x^k^F)+V[12]+3873151461&4294967295,B=x+(D<<11&4294967295|D>>>21),D=F+(B^x^k)+V[15]+530742520&4294967295,F=B+(D<<16&4294967295|D>>>16),D=k+(F^B^x)+V[2]+3299628645&4294967295,k=F+(D<<23&4294967295|D>>>9),D=x+(F^(k|~B))+V[0]+4096336452&4294967295,x=k+(D<<6&4294967295|D>>>26),D=B+(k^(x|~F))+V[7]+1126891415&4294967295,B=x+(D<<10&4294967295|D>>>22),D=F+(x^(B|~k))+V[14]+2878612391&4294967295,F=B+(D<<15&4294967295|D>>>17),D=k+(B^(F|~x))+V[5]+4237533241&4294967295,k=F+(D<<21&4294967295|D>>>11),D=x+(F^(k|~B))+V[12]+1700485571&4294967295,x=k+(D<<6&4294967295|D>>>26),D=B+(k^(x|~F))+V[3]+2399980690&4294967295,B=x+(D<<10&4294967295|D>>>22),D=F+(x^(B|~k))+V[10]+4293915773&4294967295,F=B+(D<<15&4294967295|D>>>17),D=k+(B^(F|~x))+V[1]+2240044497&4294967295,k=F+(D<<21&4294967295|D>>>11),D=x+(F^(k|~B))+V[8]+1873313359&4294967295,x=k+(D<<6&4294967295|D>>>26),D=B+(k^(x|~F))+V[15]+4264355552&4294967295,B=x+(D<<10&4294967295|D>>>22),D=F+(x^(B|~k))+V[6]+2734768916&4294967295,F=B+(D<<15&4294967295|D>>>17),D=k+(B^(F|~x))+V[13]+1309151649&4294967295,k=F+(D<<21&4294967295|D>>>11),D=x+(F^(k|~B))+V[4]+4149444226&4294967295,x=k+(D<<6&4294967295|D>>>26),D=B+(k^(x|~F))+V[11]+3174756917&4294967295,B=x+(D<<10&4294967295|D>>>22),D=F+(x^(B|~k))+V[2]+718787259&4294967295,F=B+(D<<15&4294967295|D>>>17),D=k+(B^(F|~x))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(F+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+F&4294967295,C.g[3]=C.g[3]+B&4294967295}s.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var k=x-this.blockSize,V=this.B,F=this.h,B=0;B<x;){if(F==0)for(;B<=k;)o(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<x;)if(V[F++]=C.charCodeAt(B++),F==this.blockSize){o(this,V),F=0;break}}else for(;B<x;)if(V[F++]=C[B++],F==this.blockSize){o(this,V),F=0;break}}this.h=F,this.o+=x},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var k=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=k&255,k/=256;for(this.u(C),C=Array(16),x=k=0;4>x;++x)for(var V=0;32>V;V+=8)C[k++]=this.g[x]>>>V&255;return C};function a(C,x){var k=h;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=x(C)}function u(C,x){this.h=x;for(var k=[],V=!0,F=C.length-1;0<=F;F--){var B=C[F]|0;V&&B==x||(k[F]=B,V=!1)}this.g=k}var h={};function f(C){return-128<=C&&128>C?a(C,function(x){return new u([x|0],0>x?-1:0)}):new u([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return A;if(0>C)return j(g(-C));for(var x=[],k=1,V=0;C>=k;V++)x[V]=C/k|0,k*=4294967296;return new u(x,0)}function v(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return j(v(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=g(Math.pow(x,8)),V=A,F=0;F<C.length;F+=8){var B=Math.min(8,C.length-F),D=parseInt(C.substring(F,F+B),x);8>B?(B=g(Math.pow(x,B)),V=V.j(B).add(g(D))):(V=V.j(k),V=V.add(g(D)))}return V}var A=f(0),w=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(L(this))return-j(this).m();for(var C=0,x=1,k=0;k<this.g.length;k++){var V=this.i(k);C+=(0<=V?V:4294967296+V)*x,x*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(L(this))return"-"+j(this).toString(C);for(var x=g(Math.pow(C,6)),k=this,V="";;){var F=K(k,x).g;k=O(k,F.j(x));var B=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=F,P(k))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function L(C){return C.h==-1}n.l=function(C){return C=O(this,C),L(C)?-1:P(C)?0:1};function j(C){for(var x=C.g.length,k=[],V=0;V<x;V++)k[V]=~C.g[V];return new u(k,~C.h).add(w)}n.abs=function(){return L(this)?j(this):this},n.add=function(C){for(var x=Math.max(this.g.length,C.g.length),k=[],V=0,F=0;F<=x;F++){var B=V+(this.i(F)&65535)+(C.i(F)&65535),D=(B>>>16)+(this.i(F)>>>16)+(C.i(F)>>>16);V=D>>>16,B&=65535,D&=65535,k[F]=D<<16|B}return new u(k,k[k.length-1]&-2147483648?-1:0)};function O(C,x){return C.add(j(x))}n.j=function(C){if(P(this)||P(C))return A;if(L(this))return L(C)?j(this).j(j(C)):j(j(this).j(C));if(L(C))return j(this.j(j(C)));if(0>this.l(R)&&0>C.l(R))return g(this.m()*C.m());for(var x=this.g.length+C.g.length,k=[],V=0;V<2*x;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<C.g.length;F++){var B=this.i(V)>>>16,D=this.i(V)&65535,Ne=C.i(F)>>>16,$e=C.i(F)&65535;k[2*V+2*F]+=D*$e,b(k,2*V+2*F),k[2*V+2*F+1]+=B*$e,b(k,2*V+2*F+1),k[2*V+2*F+1]+=D*Ne,b(k,2*V+2*F+1),k[2*V+2*F+2]+=B*Ne,b(k,2*V+2*F+2)}for(V=0;V<x;V++)k[V]=k[2*V+1]<<16|k[2*V];for(V=x;V<2*x;V++)k[V]=0;return new u(k,0)};function b(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function $(C,x){this.g=C,this.h=x}function K(C,x){if(P(x))throw Error("division by zero");if(P(C))return new $(A,A);if(L(C))return x=K(j(C),x),new $(j(x.g),j(x.h));if(L(x))return x=K(C,j(x)),new $(j(x.g),x.h);if(30<C.g.length){if(L(C)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var k=w,V=x;0>=V.l(C);)k=J(k),V=J(V);var F=se(k,1),B=se(V,1);for(V=se(V,2),k=se(k,2);!P(V);){var D=B.add(V);0>=D.l(C)&&(F=F.add(k),B=D),V=se(V,1),k=se(k,1)}return x=O(C,F.j(x)),new $(F,x)}for(F=A;0<=C.l(x);){for(k=Math.max(1,Math.floor(C.m()/x.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=g(k),D=B.j(x);L(D)||0<D.l(C);)k-=V,B=g(k),D=B.j(x);P(B)&&(B=w),F=F.add(B),C=O(C,D)}return new $(F,C)}n.A=function(C){return K(this,C).h},n.and=function(C){for(var x=Math.max(this.g.length,C.g.length),k=[],V=0;V<x;V++)k[V]=this.i(V)&C.i(V);return new u(k,this.h&C.h)},n.or=function(C){for(var x=Math.max(this.g.length,C.g.length),k=[],V=0;V<x;V++)k[V]=this.i(V)|C.i(V);return new u(k,this.h|C.h)},n.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),k=[],V=0;V<x;V++)k[V]=this.i(V)^C.i(V);return new u(k,this.h^C.h)};function J(C){for(var x=C.g.length+1,k=[],V=0;V<x;V++)k[V]=C.i(V)<<1|C.i(V-1)>>>31;return new u(k,C.h)}function se(C,x){var k=x>>5;x%=32;for(var V=C.g.length-k,F=[],B=0;B<V;B++)F[B]=0<x?C.i(B+k)>>>x|C.i(B+k+1)<<32-x:C.i(B+k);return new u(F,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,WE=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,$i=u}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KE,Nl,GE,zc,mp,QE,YE,XE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var q=c[I];if(!(q in E))break e;E=E[q]}c=c[c.length-1],I=E[c],y=y(I),y!=I&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var E=0,I=!1,q={next:function(){if(!I&&E<c.length){var Q=E++;return{value:y(Q,c[Q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,E){return c.call.apply(c.bind,arguments)}function A(c,y,E){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,I),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function w(c,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:A,w.apply(null,arguments)}function R(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function P(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(I,q,Q){for(var oe=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)oe[Qe-2]=arguments[Qe];return y.prototype[q].apply(I,oe)}}function L(c){const y=c.length;if(0<y){const E=Array(y);for(let I=0;I<y;I++)E[I]=c[I];return E}return[]}function j(c,y){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(f(I)){const q=c.length||0,Q=I.length||0;c.length=q+Q;for(let oe=0;oe<Q;oe++)c[q+oe]=I[oe]}else c.push(I)}}class O{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function b(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var J=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function se(c,y,E){for(const I in c)y.call(E,c[I],I,c)}function C(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function x(c){const y={};for(const E in c)y[E]=c[E];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let E,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(E in I)c[E]=I[E];for(let Q=0;Q<k.length;Q++)E=k[Q],Object.prototype.hasOwnProperty.call(I,E)&&(c[E]=I[E])}}function F(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function B(c){h.setTimeout(()=>{throw c},0)}function D(){var c=ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ne{constructor(){this.h=this.g=null}add(y,E){const I=$e.get();I.set(y,E),this.h?this.h.next=I:this.g=I,this.h=I}}var $e=new O(()=>new Ye,c=>c.reset());class Ye{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,te=!1,ge=new Ne,ae=()=>{const c=h.Promise.resolve(void 0);Pe=()=>{c.then(z)}};var z=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(E){B(E)}var y=$e;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}te=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c}();function Ce(c,y){if(ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(J){e:{try{K(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}P(Ce,ce);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function qe(c,y,E,I,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!I,this.ha=q,this.key=++Ve,this.da=this.fa=!1}function nt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,y,E,I,q){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=tn(c,y,I,q);return-1<oe?(y=c[oe],E||(y.fa=!1)):(y=new qe(y,this.src,Q,!!I,q),y.fa=E,c.push(y)),y};function mn(c,y){var E=y.type;if(E in c.g){var I=c.g[E],q=Array.prototype.indexOf.call(I,y,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(I,q,1),Q&&(nt(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function tn(c,y,E,I){for(var q=0;q<c.length;++q){var Q=c[q];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==I)return q}return-1}var nn="closure_lm_"+(1e6*Math.random()|0),Ke={};function pr(c,y,E,I,q){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)pr(c,y[Q],E,I,q);return null}return E=li(E),c&&c[De]?c.K(y,E,g(I)?!!I.capture:!1,q):qn(c,y,E,!1,I,q)}function qn(c,y,E,I,q,Q){if(!y)throw Error("Invalid event type");var oe=g(q)?!!q.capture:!!q,Qe=fs(c);if(Qe||(c[nn]=Qe=new en(c)),E=Qe.add(y,E,I,oe,Q),E.proxy)return E;if(I=io(),E.proxy=I,I.src=c,I.listener=E,c.addEventListener)we||(q=oe),q===void 0&&(q=!1),c.addEventListener(y.toString(),I,q);else if(c.attachEvent)c.attachEvent(Wn(y.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function io(){function c(E){return y.call(c.src,c.listener,E)}const y=ai;return c}function hs(c,y,E,I,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)hs(c,y[Q],E,I,q);else I=g(I)?!!I.capture:!!I,E=li(E),c&&c[De]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],E=tn(Q,E,I,q),-1<E&&(nt(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=fs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=tn(y,E,I,q)),(E=-1<c?y[c]:null)&&Hn(E))}function Hn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[De])mn(y.i,c);else{var E=c.type,I=c.proxy;y.removeEventListener?y.removeEventListener(E,I,c.capture):y.detachEvent?y.detachEvent(Wn(E),I):y.addListener&&y.removeListener&&y.removeListener(I),(E=fs(y))?(mn(E,c),E.h==0&&(E.src=null,y[nn]=null)):nt(c)}}}function Wn(c){return c in Ke?Ke[c]:Ke[c]="on"+c}function ai(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var E=c.listener,I=c.ha||c.src;c.fa&&Hn(c),c=E.call(I,y)}return c}function fs(c){return c=c[nn],c instanceof en?c:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function li(c){return typeof c=="function"?c:(c[Lr]||(c[Lr]=function(y){return c.handleEvent(y)}),c[Lr])}function Ee(){Y.call(this),this.i=new en(this),this.M=this,this.F=null}P(Ee,Y),Ee.prototype[De]=!0,Ee.prototype.removeEventListener=function(c,y,E,I){hs(this,c,y,E,I)};function Ze(c,y){var E,I=c.F;if(I)for(E=[];I;I=I.F)E.push(I);if(c=c.M,I=y.type||y,typeof y=="string")y=new ce(y,c);else if(y instanceof ce)y.target=y.target||c;else{var q=y;y=new ce(I,c),V(y,q)}if(q=!0,E)for(var Q=E.length-1;0<=Q;Q--){var oe=y.g=E[Q];q=xn(oe,I,!0,y)&&q}if(oe=y.g=c,q=xn(oe,I,!0,y)&&q,q=xn(oe,I,!1,y)&&q,E)for(Q=0;Q<E.length;Q++)oe=y.g=E[Q],q=xn(oe,I,!1,y)&&q}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],I=0;I<E.length;I++)nt(E[I]);delete c.g[y],c.h--}}this.F=null},Ee.prototype.K=function(c,y,E,I){return this.i.add(String(c),y,!1,E,I)},Ee.prototype.L=function(c,y,E,I){return this.i.add(String(c),y,!0,E,I)};function xn(c,y,E,I){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==E){var Qe=oe.listener,Tt=oe.ha||oe.src;oe.fa&&mn(c.i,oe),q=Qe.call(Tt,I)!==!1&&q}}return q&&!I.defaultPrevented}function Da(c,y,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function ps(c){c.g=Da(()=>{c.g=null,c.i&&(c.i=!1,ps(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ui extends Y{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ps(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(c){Y.call(this),this.h=c,this.g={}}P(ci,Y);var ja=[];function La(c){se(c.g,function(y,E){this.g.hasOwnProperty(E)&&Hn(y)},c),c.g={}}ci.prototype.N=function(){ci.aa.N.call(this),La(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Va=h.JSON.stringify,Ma=h.JSON.parse,Fa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function di(){}di.prototype.h=null;function oo(c){return c.h||(c.h=c.i())}function ao(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){ce.call(this,"d")}P(mr,ce);function lo(){ce.call(this,"c")}P(lo,ce);var gr={},Ua=null;function hi(){return Ua=Ua||new Ee}gr.La="serverreachability";function Ba(c){ce.call(this,gr.La,c)}P(Ba,ce);function Vr(c){const y=hi();Ze(y,new Ba(y))}gr.STAT_EVENT="statevent";function za(c,y){ce.call(this,gr.STAT_EVENT,c),this.stat=y}P(za,ce);function mt(c){const y=hi();Ze(y,new za(y,c))}gr.Ma="timingevent";function uo(c,y){ce.call(this,gr.Ma,c),this.size=y}P(uo,ce);function Kn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function fi(){this.g=!0}fi.prototype.xa=function(){this.g=!1};function pi(c,y,E,I,q,Q){c.info(function(){if(c.g)if(Q)for(var oe="",Qe=Q.split("&"),Tt=0;Tt<Qe.length;Tt++){var Ue=Qe[Tt].split("=");if(1<Ue.length){var Ct=Ue[0];Ue=Ue[1];var _t=Ct.split("_");oe=2<=_t.length&&_t[1]=="type"?oe+(Ct+"="+Ue+"&"):oe+(Ct+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+y+`
`+E+`
`+oe})}function co(c,y,E,I,q,Q,oe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+y+`
`+E+`
`+Q+" "+oe})}function Gn(c,y,E,I){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Zd(c,E)+(I?" "+I:"")})}function $a(c,y){c.info(function(){return"TIMEOUT: "+y})}fi.prototype.info=function(){};function Zd(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var I=E[c];if(!(2>I.length)){var q=I[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<q.length;oe++)q[oe]=""}}}}return Va(E)}catch{return y}}var ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function mi(){}P(mi,di),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},Qn=new mi;function Yn(c,y,E,I){this.j=c,this.i=y,this.l=E,this.R=I||1,this.U=new ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mu}function mu(){this.i=null,this.g="",this.h=!1}var qa={},fo={};function po(c,y,E){c.L=1,c.v=vs(yn(y)),c.m=E,c.P=!0,Ha(c,null)}function Ha(c,y){c.F=Date.now(),et(c),c.A=yn(c.v);var E=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),ws(E.i,"t",I),c.C=0,E=c.j.J,c.h=new mu,c.g=Ou(c.j,E?y:null,!c.m),0<c.O&&(c.M=new ui(w(c.Y,c,c.g),c.O)),y=c.U,E=c.g,I=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(ja[0]=q.toString()),q=ja);for(var Q=0;Q<q.length;Q++){var oe=pr(E,q[Q],I||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Vr(),pi(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;const y=this.M;y&&sn(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const _t=sn(this.g);var y=this.g.Ba();const kn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Xa(this.g)))){this.J||_t!=4||y==7||(y==8||0>=kn?Vr(3):Vr(2)),gi(this);var E=this.g.Z();this.X=E;t:if(gu(this)){var I=Xa(this.g);c="";var q=I.length,Q=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),ms(this);var oe="";break t}this.h.i=new h.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(I[y],{stream:!(Q&&y==q-1)});I.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,co(this.i,this.u,this.A,this.l,this.R,_t,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Tt=this.g;if((Qe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Qe)){var Ue=Qe;break t}}Ue=null}if(E=Ue)Gn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wa(this,E);else{this.o=!1,this.s=3,mt(12),Cn(this),ms(this);break e}}if(this.P){E=!0;let vn;for(;!this.J&&this.C<oe.length;)if(vn=eh(this,oe),vn==fo){_t==4&&(this.s=4,mt(14),E=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==qa){this.s=4,mt(15),Gn(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else Gn(this.i,this.l,vn,null),Wa(this,vn);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||oe.length!=0||this.h.h||(this.s=1,mt(16),E=!1),this.o=this.o&&E,!E)Gn(this.i,this.l,oe,"[Invalid Chunked Response]"),Cn(this),ms(this);else if(0<oe.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Za(Ct),Ct.M=!0,mt(11))}}else Gn(this.i,this.l,oe,null),Wa(this,oe);_t==4&&Cn(this),this.o&&!this.J&&(_t==4?xo(this.j,this):(this.o=!1,et(this)))}else Eo(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Cn(this),ms(this)}}}catch{}finally{}};function gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eh(c,y){var E=c.C,I=y.indexOf(`
`,E);return I==-1?fo:(E=Number(y.substring(E,I)),isNaN(E)?qa:(I+=1,I+E>y.length?fo:(y=y.slice(I,I+E),c.C=I+E,y)))}Yn.prototype.cancel=function(){this.J=!0,Cn(this)};function et(c){c.S=Date.now()+c.I,yu(c,c.I)}function yu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Kn(w(c.ba,c),y)}function gi(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?($a(this.i,this.A),this.L!=2&&(Vr(),mt(17)),Cn(this),this.s=2,ms(this)):yu(this,this.S-c)};function ms(c){c.j.G==0||c.J||xo(c.j,c)}function Cn(c){gi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,La(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Wa(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||Gt(E.h,c))){if(!c.K&&Gt(E.h,c)&&E.G==3){try{var I=E.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Io(E),tr(E);else break e;Ao(E),mt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Kn(w(E.Za,E),6e3));if(1>=vu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else zr(E,11)}else if((c.K||E.g==c)&&Io(E),!b(y))for(q=E.Da.g.parse(y),y=0;y<q.length;y++){let Ue=q[y];if(E.T=Ue[0],Ue=Ue[1],E.G==2)if(Ue[0]=="c"){E.K=Ue[1],E.ia=Ue[2];const Ct=Ue[3];Ct!=null&&(E.la=Ct,E.j.info("VER="+E.la));const _t=Ue[4];_t!=null&&(E.Aa=_t,E.j.info("SVER="+E.Aa));const kn=Ue[5];kn!=null&&typeof kn=="number"&&0<kn&&(I=1.5*kn,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const vn=c.g;if(vn){const Ai=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var Q=I.h;Q.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ka(Q,Q.h),Q.h=null))}if(I.D){const Co=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(I.ya=Co,Xe(I.I,I.D,Co))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var oe=c;if(I.qa=bu(I,I.J?I.ia:null,I.W),oe.K){Eu(I.h,oe);var Qe=oe,Tt=I.L;Tt&&(Qe.I=Tt),Qe.B&&(gi(Qe),et(Qe)),I.g=oe}else Ti(I);0<E.i.length&&Er(E)}else Ue[0]!="stop"&&Ue[0]!="close"||zr(E,7);else E.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?zr(E,7):Ot(E):Ue[0]!="noop"&&E.l&&E.l.ta(Ue),E.v=0)}}Vr(4)}catch{}}var _u=class{constructor(c,y){this.g=c,this.map=y}};function yi(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vu(c){return c.h?1:c.g?c.g.size:0}function Gt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ka(c,y){c.g?c.g.add(y):c.h=y}function Eu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}yi.prototype.cancel=function(){if(this.i=wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return L(c.i)}function mo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],E=c.length,I=0;I<E;I++)y.push(c[I]);return y}y=[],E=0;for(I in c)y[E++]=c[I];return y}function go(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const I in c)y[E++]=I;return y}}}function gs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=go(c),I=mo(c),q=I.length,Q=0;Q<q;Q++)y.call(void 0,I[Q],E&&E[Q],c)}var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function th(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var I=c[E].indexOf("="),q=null;if(0<=I){var Q=c[E].substring(0,I);q=c[E].substring(I+1)}else Q=c[E];y(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Mr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mr){this.h=c.h,vi(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.s),this.l=c.l;var y=c.i,E=new yr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),_s(this,E),this.m=c.m}else c&&(y=String(c).match(_i))?(this.h=!1,vi(this,y[1]||"",!0),this.o=Me(y[2]||""),this.g=Me(y[3]||"",!0),ys(this,y[4]),this.l=Me(y[5]||"",!0),_s(this,y[6]||"",!0),this.m=Me(y[7]||"")):(this.h=!1,this.i=new yr(null,this.h))}Mr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Es(y,yo,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,yo,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Es(E,E.charAt(0)=="/"?Iu:Au,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Es(E,Ga)),c.join("")};function yn(c){return new Mr(c)}function vi(c,y,E){c.j=E?Me(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function _s(c,y,E){y instanceof yr?(c.i=y,_r(c.i,c.h)):(E||(y=Es(y,xu)),c.i=new yr(y,c.h))}function Xe(c,y,E){c.i.set(y,E)}function vs(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Me(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Tu),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yo=/[#\/\?@]/g,Au=/[#\?:]/g,Iu=/[#\?]/g,xu=/[#\?@]/g,Ga=/#/g;function yr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bt(c){c.g||(c.g=new Map,c.h=0,c.i&&th(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=yr.prototype,n.add=function(c,y){bt(this),this.i=null,c=Rn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Xn(c,y){bt(c),y=Rn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Jn(c,y){return bt(c),y=Rn(c,y),c.g.has(y)}n.forEach=function(c,y){bt(this),this.g.forEach(function(E,I){E.forEach(function(q){c.call(y,q,I,this)},this)},this)},n.na=function(){bt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let I=0;I<y.length;I++){const q=c[I];for(let Q=0;Q<q.length;Q++)E.push(y[I])}return E},n.V=function(c){bt(this);let y=[];if(typeof c=="string")Jn(this,c)&&(y=y.concat(this.g.get(Rn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},n.set=function(c,y){return bt(this),this.i=null,c=Rn(this,c),Jn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ws(c,y,E){Xn(c,y),0<E.length&&(c.i=null,c.g.set(Rn(c,y),L(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var I=y[E];const Q=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var q=Q;oe[I]!==""&&(q+="="+encodeURIComponent(String(oe[I]))),c.push(q)}}return this.i=c.join("&")};function Rn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _r(c,y){y&&!c.j&&(bt(c),c.i=null,c.g.forEach(function(E,I){var q=I.toLowerCase();I!=q&&(Xn(this,I),ws(this,q,E))},c)),c.j=y}function nh(c,y){const E=new fi;if(h.Image){const I=new Image;I.onload=R(rn,E,"TestLoadImage: loaded",!0,y,I),I.onerror=R(rn,E,"TestLoadImage: error",!1,y,I),I.onabort=R(rn,E,"TestLoadImage: abort",!1,y,I),I.ontimeout=R(rn,E,"TestLoadImage: timeout",!1,y,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else y(!1)}function Su(c,y){const E=new fi,I=new AbortController,q=setTimeout(()=>{I.abort(),rn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:I.signal}).then(Q=>{clearTimeout(q),Q.ok?rn(E,"TestPingServer: ok",!0,y):rn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),rn(E,"TestPingServer: error",!1,y)})}function rn(c,y,E,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(E)}catch{}}function rh(){this.g=new Fa}function Cu(c,y,E){const I=E||"";try{gs(c,function(q,Q){let oe=q;g(q)&&(oe=Va(q)),y.push(I+Q+"="+encodeURIComponent(oe))})}catch(q){throw y.push(I+"type="+encodeURIComponent("_badmap")),q}}function Fr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Fr,di),Fr.prototype.g=function(){return new Ei(this.l,this.j)},Fr.prototype.i=function(c){return function(){return c}}({});function Ei(c,y){Ee.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ei,Ee),n=Ei.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,er(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ru(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Zn(this):er(this),this.readyState==3&&Ru(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},n.Qa=function(c){this.g&&(this.response=c,Zn(this))},n.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,er(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ur(c){let y="";return se(c,function(E,I){y+=I,y+=":",y+=E,y+=`\r
`}),y}function Ts(c,y,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Ur(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Xe(c,y,E))}function ot(c){Ee.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(ot,Ee);var sh=/^https?$/i,Qa=["POST","PUT"];n=ot.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?oo(this.o):oo(Qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){wi(this,Q);return}if(c=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)E.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())E.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Qa,y,void 0))||I||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of E)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){wi(this,Q)}};function wi(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,_o(c),_n(c)}function _o(c){c.A||(c.A=!0,Ze(c,"complete"),Ze(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ze(this,"complete"),Ze(this,"abort"),_n(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_n(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},n.bb=function(){Ya(this)};function Ya(c){if(c.h&&typeof u<"u"&&(!c.v[1]||sn(c)!=4||c.Z()!=2)){if(c.u&&sn(c)==4)Da(c.Ea,0,c);else if(Ze(c,"readystatechange"),sn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var I;if(I=oe===0){var q=String(c.D).match(_i)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),I=!sh.test(q?q.toLowerCase():"")}E=I}if(E)Ze(c,"complete"),Ze(c,"success");else{c.m=6;try{var Q=2<sn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",_o(c)}}finally{_n(c)}}}}function _n(c,y){if(c.g){vo(c);const E=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ze(c,"ready");try{E.onreadystatechange=I}catch{}}}function vo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function sn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ma(y)}};function Xa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(c){const y={};c=(c.g&&2<=sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(b(c[I]))continue;var E=F(c[I]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[q]||[];y[q]=Q,Q.push(E)}C(y,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Ja(c){this.Aa=0,this.i=[],this.j=new fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vr("baseRetryDelayMs",5e3,c),this.cb=vr("retryDelaySeedMs",1e4,c),this.Wa=vr("forwardChannelMaxRetries",2,c),this.wa=vr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(c&&c.concurrentRequestLimit),this.Da=new rh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ja.prototype,n.la=8,n.G=1,n.connect=function(c,y,E,I){mt(0),this.W=c,this.H=y||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=bu(this,null,this.W),Er(this)};function Ot(c){if(wo(c),c.G==3){var y=c.U++,E=yn(c.I);if(Xe(E,"SID",c.K),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),Br(c,E),y=new Yn(c,c.j,y),y.L=2,y.v=vs(yn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.v,E=!0),E||(y.g=Ou(y.j,null),y.g.ea(y.v)),y.F=Date.now(),et(y)}Nu(c)}function tr(c){c.g&&(Za(c),c.g.cancel(),c.g=null)}function wo(c){tr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Io(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Er(c){if(!gn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Pe||ae(),te||(Pe(),te=!0),ge.add(y,c),c.B=0}}function ih(c,y){return vu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Kn(w(c.Ga,c,y),Pu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Yn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=x(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=As(this,q,y),E=yn(this.I),Xe(E,"RID",c),Xe(E,"CVER",22),this.D&&Xe(E,"X-HTTP-Session-Id",this.D),Br(this,E),Q&&(this.O?y="headers="+encodeURIComponent(String(Ur(Q)))+"&"+y:this.m&&Ts(E,this.m,Q)),Ka(this.h,q),this.Ua&&Xe(E,"TYPE","init"),this.P?(Xe(E,"$req",y),Xe(E,"SID","null"),q.T=!0,po(q,E,null)):po(q,E,y),this.G=2}}else this.G==3&&(c?To(this,c):this.i.length==0||gn(this.h)||To(this))};function To(c,y){var E;y?E=y.l:E=c.U++;const I=yn(c.I);Xe(I,"SID",c.K),Xe(I,"RID",E),Xe(I,"AID",c.T),Br(c,I),c.m&&c.o&&Ts(I,c.m,c.o),E=new Yn(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=As(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ka(c.h,E),po(E,I,y)}function Br(c,y){c.H&&se(c.H,function(E,I){Xe(y,I,E)}),c.l&&gs({},function(E,I){Xe(y,I,E)})}function As(c,y,E){E=Math.min(c.i.length,E);var I=c.l?w(c.l.Na,c.l,c):null;e:{var q=c.i;let Q=-1;for(;;){const oe=["count="+E];Q==-1?0<E?(Q=q[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Qe=!0;for(let Tt=0;Tt<E;Tt++){let Ue=q[Tt].g;const Ct=q[Tt].map;if(Ue-=Q,0>Ue)Q=Math.max(0,q[Tt].g-100),Qe=!1;else try{Cu(Ct,oe,"req"+Ue+"_")}catch{I&&I(Ct)}}if(Qe){I=oe.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,I}function Ti(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Pe||ae(),te||(Pe(),te=!0),ge.add(y,c),c.v=0}}function Ao(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Kn(w(c.Fa,c),Pu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Kn(w(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),tr(this),ku(this))};function Za(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=yn(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Br(c,y),c.m&&c.o&&Ts(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=vs(yn(y)),E.m=null,E.P=!0,Ha(E,c)}n.Za=function(){this.C!=null&&(this.C=null,tr(this),Ao(this),mt(19))};function Io(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function xo(c,y){var E=null;if(c.g==y){Io(c),Za(c),c.g=null;var I=2}else if(Gt(c.h,y))E=y.D,Eu(c.h,y),I=1;else return;if(c.G!=0){if(y.o)if(I==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;I=hi(),Ze(I,new uo(I,E)),Er(c)}else Ti(c);else if(q=y.s,q==3||q==0&&0<y.X||!(I==1&&ih(c,y)||I==2&&Ao(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),q){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function Pu(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function zr(c,y){if(c.j.info("Error code "+y),y==2){var E=w(c.fb,c),I=c.Xa;const q=!I;I=new Mr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||vi(I,"https"),vs(I),q?nh(I.toString(),E):Su(I.toString(),E)}else mt(2);c.G=0,c.l&&c.l.sa(y),Nu(c),wo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const y=wu(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function bu(c,y,E){var I=E instanceof Mr?yn(E):new Mr(E);if(I.g!="")y&&(I.g=y+"."+I.g),ys(I,I.s);else{var q=h.location;I=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Q=new Mr(null);I&&vi(Q,I),y&&(Q.g=y),q&&ys(Q,q),E&&(Q.l=E),I=Q}return E=c.D,y=c.ya,E&&y&&Xe(I,E,y),Xe(I,"VER",c.la),Br(c,I),I}function Ou(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ot(new Fr({eb:E})):new ot(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function el(){}n=el.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function So(){}So.prototype.g=function(c,y){return new Qt(c,y)};function Qt(c,y){Ee.call(this),this.g=new Ja(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!b(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!b(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new wr(this)}P(Qt,Ee),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Ot(this.g)},Qt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Va(c),c=E);y.i.push(new _u(y.Ya++,c)),y.G==3&&Er(y)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,Qt.aa.N.call(this)};function Du(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(Du,mr);function ju(){lo.call(this),this.status=1}P(ju,lo);function wr(c){this.g=c}P(wr,el),wr.prototype.ua=function(){Ze(this.g,"a")},wr.prototype.ta=function(c){Ze(this.g,new Du(c))},wr.prototype.sa=function(c){Ze(this.g,new ju)},wr.prototype.ra=function(){Ze(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,XE=function(){return new So},YE=function(){return hi()},QE=gr,mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,zc=ho,pu.COMPLETE="complete",GE=pu,ao.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,Nl=ao,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,KE=ot}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new nm("@firebase/firestore");function Jo(){return Gi.logLevel}function ue(n,...e){if(Gi.logLevel<=je.DEBUG){const t=e.map(im);Gi.debug(`Firestore (${Ia}): ${n}`,...t)}}function os(n,...e){if(Gi.logLevel<=je.ERROR){const t=e.map(im);Gi.error(`Firestore (${Ia}): ${n}`,...t)}}function da(n,...e){if(Gi.logLevel<=je.WARN){const t=e.map(im);Gi.warn(`Firestore (${Ia}): ${n}`,...t)}}function im(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n="Unexpected state"){const e=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: `+n;throw os(e),new Error(e)}function Ge(n,e){n||Ie()}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends cs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class XS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JS{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let s=this.i;const o=f=>this.i!==s?(s=this.i,t(f)):Promise.resolve();let a=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ks,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ks)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new JE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Ht(e)}}class ZS{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eC{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new ZS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ge(this.o===void 0);const s=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const o=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new tC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=rC(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<t&&(s+=e.charAt(o[a]%e.length))}return s}}function Fe(n,e){return n<e?-1:n>e?1:0}function ha(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new xt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new xt(0,0))}static max(){return new Se(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ie(),s===void 0?s=e.length-t:s>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return $l.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $l?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends $l{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const sC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends $l{construct(e,t,s){return new Vt(e,t,s)}static isValidIdentifier(e){return sC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const a=()=>{if(s.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(s+=h,o++):(a(),o++)}if(a(),u)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}function iC(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new xt(t+1,0):new xt(t,s));return new Ys(o,ye.empty(),e)}function oC(n){return new Ys(n.readTime,n.key,-1)}class Ys{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ys(Se.min(),ye.empty(),-1)}static max(){return new Ys(Se.max(),ye.empty(),-1)}}function aC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==lC)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,s)=>{t(e)})}static reject(e){return new X((t,s)=>{s(e)})}static waitFor(e){return new X((t,s)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},f=>s(f))}),u=!0,a===o&&t()})}static or(e){let t=X.resolve(!1);for(const s of e)t=t.next(o=>o?X.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,a)=>{s.push(t.call(this,o,a))}),this.waitFor(s)}static mapArray(e,t){return new X((s,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const g=f;t(e[g]).next(v=>{u[g]=v,++h,h===a&&s(u)},v=>o(v))}})}static doWhile(e,t){return new X((s,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):s()};a()})}}function cC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Td.oe=-1;function Ad(n){return n==null}function nd(n){return n===0&&1/n==-1/0}function dC(n){return typeof n=="number"&&Number.isInteger(n)&&!nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=V_(e)),e=fC(n.get(t),e);return V_(e)}function fC(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function V_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ni(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ew(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?s(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,s,o,a){this.key=e,this.value=t,this.color=s??Lt.RED,this.left=o??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,a){return new Lt(e??this.key,t??this.value,s??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,s),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,s,o,a){return this}insert(e,t,s){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(e){return new F_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class F_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new An([])}unionWith(e){let t=new St(Vt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tw("Invalid base64 string: "+a):a}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const pC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(n){if(Ge(!!n),typeof n=="string"){let e=0;const t=pC.exec(n);if(Ge(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Js(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Id(n){const e=n.mapValue.fields.__previous_value__;return om(e)?Id(e):e}function ql(n){const e=Xs(n.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,s,o,a,u,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}class Hl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?om(n)?4:yC(n)?9007199254740991:gC(n)?10:11:Ie()}function Nr(n,e){if(n===e)return!0;const t=Zs(n);if(t!==Zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ql(n).isEqual(ql(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Xs(o.timestampValue),h=Xs(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Js(o.bytesValue).isEqual(Js(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return yt(o.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return yt(o.integerValue)===yt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=yt(o.doubleValue),h=yt(a.doubleValue);return u===h?nd(u)===nd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ha(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(M_(u)!==M_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Nr(u[f],h[f])))return!1;return!0}(n,e);default:return Ie()}}function Wl(n,e){return(n.values||[]).find(t=>Nr(t,e))!==void 0}function fa(n,e){if(n===e)return 0;const t=Zs(n),s=Zs(e);if(t!==s)return Fe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=yt(a.integerValue||a.doubleValue),f=yt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return U_(n.timestampValue,e.timestampValue);case 4:return U_(ql(n),ql(e));case 5:return Fe(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Js(a),f=Js(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const v=Fe(h[g],f[g]);if(v!==0)return v}return Fe(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Fe(yt(a.latitude),yt(u.latitude));return h!==0?h:Fe(yt(a.longitude),yt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return B_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,g,v;const A=a.fields||{},w=u.fields||{},R=(h=A.value)===null||h===void 0?void 0:h.arrayValue,P=(f=w.value)===null||f===void 0?void 0:f.arrayValue,L=Fe(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((v=P==null?void 0:P.values)===null||v===void 0?void 0:v.length)||0);return L!==0?L:B_(R,P)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===bc.mapValue&&u===bc.mapValue)return 0;if(a===bc.mapValue)return 1;if(u===bc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),g=u.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let A=0;A<f.length&&A<v.length;++A){const w=Fe(f[A],v[A]);if(w!==0)return w;const R=fa(h[f[A]],g[v[A]]);if(R!==0)return R}return Fe(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function U_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=Xs(n),s=Xs(e),o=Fe(t.seconds,s.seconds);return o!==0?o:Fe(t.nanos,s.nanos)}function B_(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const a=fa(t[o],s[o]);if(a)return a}return Fe(t.length,s.length)}function pa(n){return gp(n)}function gp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Xs(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Js(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const a of t.values||[])o?o=!1:s+=",",s+=gp(a);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of s)a?a=!1:o+=",",o+=`${u}:${gp(t.fields[u])}`;return o+"}"}(n.mapValue):Ie()}function $c(n){switch(Zs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Id(n);return e?16+$c(e):16;case 5:return 2*n.stringValue.length;case 6:return Js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,a)=>o+$c(a),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return ni(s.fields,(a,u)=>{o+=a.length+$c(u)}),o}(n.mapValue);default:throw Ie()}}function z_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yp(n){return!!n&&"integerValue"in n}function am(n){return!!n&&"arrayValue"in n}function $_(n){return!!n&&"nullValue"in n}function q_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qc(n){return!!n&&"mapValue"in n}function gC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ni(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ll(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function yC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!qc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(t)}setAll(e){let t=Vt.emptyPath(),s={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,s,o),s={},o=[],t=h.popLast()}u?s[h.lastSegment()]=Ll(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,s,o)}delete(e){const t=this.field(e.popLast());qc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ni(t,(o,a)=>e[o]=a);for(const o of s)delete e[o]}clone(){return new fn(Ll(this.value))}}function nw(n){const e=[];return ni(n.fields,(t,s)=>{const o=new Vt([t]);if(qc(s)){const a=nw(s.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,s,o,a,u,h){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),fn.empty(),0)}static newFoundDocument(e,t,s,o){return new Wt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Se.min(),Se.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Se.min(),Se.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.position=e,this.inclusive=t}}function H_(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?s=ye.comparator(ye.fromName(u.referenceValue),t.key):s=fa(u,t.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function W_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t="asc"){this.field=e,this.dir=t}}function _C(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{}class wt extends rw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new EC(e,t,s):t==="array-contains"?new AC(e,s):t==="in"?new IC(e,s):t==="not-in"?new xC(e,s):t==="array-contains-any"?new SC(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new wC(e,s):new TC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fa(t,this.value)):t!==null&&Zs(this.value)===Zs(t)&&this.matchesComparison(fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends rw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new dr(e,t)}matches(e){return sw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sw(n){return n.op==="and"}function iw(n){return vC(n)&&sw(n)}function vC(n){for(const e of n.filters)if(e instanceof dr)return!1;return!0}function _p(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+pa(n.value);if(iw(n))return n.filters.map(e=>_p(e)).join(",");{const e=n.filters.map(t=>_p(t)).join(",");return`${n.op}(${e})`}}function ow(n,e){return n instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Nr(s.value,o.value)}(n,e):n instanceof dr?function(s,o){return o instanceof dr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((a,u,h)=>a&&ow(u,o.filters[h]),!0):!1}(n,e):void Ie()}function aw(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${pa(t.value)}`}(n):n instanceof dr?function(t){return t.op.toString()+" {"+t.getFilters().map(aw).join(" ,")+"}"}(n):"Filter"}class EC extends wt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class wC extends wt{constructor(e,t){super(e,"in",t),this.keys=lw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TC extends wt{constructor(e,t){super(e,"not-in",t),this.keys=lw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class AC extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return am(t)&&Wl(t.arrayValue,this.value)}}class IC extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wl(this.value.arrayValue,t)}}class xC extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Wl(this.value.arrayValue,t)}}class SC extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!am(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t=null,s=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function K_(n,e=null,t=[],s=[],o=null,a=null,u=null){return new CC(n,e,t,s,o,a,u)}function lm(n){const e=Re(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>_p(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),Ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>pa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>pa(s)).join(",")),e.ue=t}return e.ue}function um(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_C(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ow(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!W_(n.startAt,e.startAt)&&W_(n.endAt,e.endAt)}function vp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t=null,s=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function RC(n,e,t,s,o,a,u,h){return new tu(n,e,t,s,o,a,u,h)}function cm(n){return new tu(n)}function G_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uw(n){return n.collectionGroup!==null}function Vl(n){const e=Re(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new St(Vt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new sd(a,s))}),t.has(Vt.keyField().canonicalString())||e.ce.push(new sd(Vt.keyField(),s))}return e.ce}function Cr(n){const e=Re(n);return e.le||(e.le=kC(e,Vl(n))),e.le}function kC(n,e){if(n.limitType==="F")return K_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new sd(o.field,a)});const t=n.endAt?new rd(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new rd(n.startAt.position,n.startAt.inclusive):null;return K_(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Ep(n,e){const t=n.filters.concat([e]);return new tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wp(n,e,t){return new tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xd(n,e){return um(Cr(n),Cr(e))&&n.limitType===e.limitType}function cw(n){return`${lm(Cr(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>aw(o)).join(", ")}]`),Ad(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>pa(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>pa(o)).join(",")),`Target(${s})`}(Cr(n))}; limitType=${n.limitType})`}function Sd(n,e){return e.isFoundDocument()&&function(s,o){const a=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):ye.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(n,e)&&function(s,o){for(const a of Vl(s))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const a of s.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(u,h,f){const g=H_(u,h,f);return u.inclusive?g<=0:g<0}(s.startAt,Vl(s),o)||s.endAt&&!function(u,h,f){const g=H_(u,h,f);return u.inclusive?g>=0:g>0}(s.endAt,Vl(s),o))}(n,e)}function PC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dw(n){return(e,t)=>{let s=!1;for(const o of Vl(n)){const a=NC(o,e,t);if(a!==0)return a;s=s||o.field.isKeyField()}return 0}}function NC(n,e,t){const s=n.field.isKeyField()?ye.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),g=h.data.field(a);return f!==null&&g!==null?fa(f,g):Ie()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,a]of s)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ni(this.inner,(t,s)=>{for(const[o,a]of s)e(o,a)})}isEmpty(){return ew(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new ft(ye.comparator);function as(){return bC}const hw=new ft(ye.comparator);function bl(...n){let e=hw;for(const t of n)e=e.insert(t.key,t);return e}function fw(n){let e=hw;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ui(){return Ml()}function pw(){return Ml()}function Ml(){return new Zi(n=>n.toString(),(n,e)=>n.isEqual(e))}const OC=new ft(ye.comparator),DC=new St(ye.comparator);function Le(...n){let e=DC;for(const t of n)e=e.add(t);return e}const jC=new St(Fe);function LC(){return jC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function mw(n){return{integerValue:""+n}}function VC(n,e){return dC(e)?mw(e):dm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this._=void 0}}function MC(n,e,t){return n instanceof id?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&om(a)&&(a=Id(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof ma?yw(n,e):n instanceof ga?_w(n,e):function(o,a){const u=gw(o,a),h=Q_(u)+Q_(o.Pe);return yp(u)&&yp(o.Pe)?mw(h):dm(o.serializer,h)}(n,e)}function FC(n,e,t){return n instanceof ma?yw(n,e):n instanceof ga?_w(n,e):t}function gw(n,e){return n instanceof od?function(s){return yp(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class id extends Cd{}class ma extends Cd{constructor(e){super(),this.elements=e}}function yw(n,e){const t=vw(e);for(const s of n.elements)t.some(o=>Nr(o,s))||t.push(s);return{arrayValue:{values:t}}}class ga extends Cd{constructor(e){super(),this.elements=e}}function _w(n,e){let t=vw(e);for(const s of n.elements)t=t.filter(o=>!Nr(o,s));return{arrayValue:{values:t}}}class od extends Cd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Q_(n){return yt(n.integerValue||n.doubleValue)}function vw(n){return am(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.field=e,this.transform=t}}function UC(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof ma&&o instanceof ma||s instanceof ga&&o instanceof ga?ha(s.elements,o.elements,Nr):s instanceof od&&o instanceof od?Nr(s.Pe,o.Pe):s instanceof id&&o instanceof id}(n.transform,e.transform)}class BC{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rd{}function ww(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hm(n.key,Mn.none()):new nu(n.key,n.data,Mn.none());{const t=n.data,s=fn.empty();let o=new St(Vt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?s.delete(a):s.set(a,u),o=o.add(a)}return new ri(n.key,s,new An(o.toArray()),Mn.none())}}function zC(n,e,t){n instanceof nu?function(o,a,u){const h=o.value.clone(),f=X_(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ri?function(o,a,u){if(!Hc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=X_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Tw(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Fl(n,e,t,s){return n instanceof nu?function(a,u,h,f){if(!Hc(a.precondition,u))return h;const g=a.value.clone(),v=J_(a.fieldTransforms,f,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,s):n instanceof ri?function(a,u,h,f){if(!Hc(a.precondition,u))return h;const g=J_(a.fieldTransforms,f,u),v=u.data;return v.setAll(Tw(a)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(A=>A.field))}(n,e,t,s):function(a,u,h){return Hc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function $C(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),a=gw(s.transform,o||null);a!=null&&(t===null&&(t=fn.empty()),t.set(s.field,a))}return t||null}function Y_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ha(s,o,(a,u)=>UC(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class nu extends Rd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ri extends Rd{constructor(e,t,s,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Tw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function X_(n,e,t){const s=new Map;Ge(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);s.set(a.field,FC(u,h,t[o]))}return s}function J_(n,e,t){const s=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);s.set(o.field,MC(a,u,e))}return s}class hm extends Rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qC extends Rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&zC(a,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=pw();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const f=ww(u,h);f!==null&&s.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(t,s)=>Y_(t,s))&&ha(this.baseMutations,e.baseMutations,(t,s)=>Y_(t,s))}}class fm{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length);let o=function(){return OC}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,s[u].version);return new fm(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Be;function GC(n){switch(n){default:return Ie();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function Aw(n){if(n===void 0)return os("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Et.OK:return Z.OK;case Et.CANCELLED:return Z.CANCELLED;case Et.UNKNOWN:return Z.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Z.INTERNAL;case Et.UNAVAILABLE:return Z.UNAVAILABLE;case Et.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Et.NOT_FOUND:return Z.NOT_FOUND;case Et.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Et.ABORTED:return Z.ABORTED;case Et.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Et.DATA_LOSS:return Z.DATA_LOSS;default:return Ie()}}(Be=Et||(Et={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new $i([4294967295,4294967295],0);function Z_(n){const e=QC().encode(n),t=new WE;return t.update(e),new Uint8Array(t.digest())}function ev(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $i([t,s],0),new $i([o,a],0)]}class pm{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ol(`Invalid padding: ${t}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=$i.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply($i.fromNumber(s)));return o.compare(YC)===1&&(o=new $i([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Z_(e),[s,o]=ev(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(s,o,a);if(!this.de(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new pm(a,o,t);return s.forEach(h=>u.insert(h)),u}insert(e){if(this.Te===0)return;const t=Z_(e),[s,o]=ev(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(s,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t,s,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new kd(Se.min(),o,new ft(Fe),as(),Le())}}class ru{constructor(e,t,s,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ru(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class Iw{constructor(e,t){this.targetId=e,this.me=t}}class xw{constructor(e,t,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class tv{constructor(){this.fe=0,this.ge=nv(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),t=Le(),s=Le();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ie()}}),new ru(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=nv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class XC{constructor(e){this.Le=e,this.Be=new Map,this.ke=as(),this.qe=Oc(),this.Qe=Oc(),this.Ke=new ft(Fe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(vp(a))if(s===0){const u=new ye(a.path);this.We(t,u,Wt.newNoDocument(u,Se.min()))}else Ge(s===1);else{const u=this.Ze(t);if(u!==s){const h=this.Xe(e),f=h?this.et(h,e,u):1;if(f!==0){this.He(t);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=Js(s).toUint8Array()}catch(f){if(f instanceof tw)return da("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new pm(u,o,a)}catch(f){return da(f instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(a=>{const u=this.Le.nt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,u)=>{const h=this.Ye(u);if(h){if(a.current&&vp(h.target)){const f=new ye(h.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Wt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let s=Le();this.Qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const g=this.Ye(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(s=s.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new kd(e,t,this.Ke,this.ke,s);return this.ke=as(),this.qe=Oc(),this.Qe=Oc(),this.Ke=new ft(Fe),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new tv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new St(Fe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new St(Fe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new tv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Oc(){return new ft(ye.comparator)}function nv(){return new ft(ye.comparator)}const JC={asc:"ASCENDING",desc:"DESCENDING"},ZC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e1={and:"AND",or:"OR"};class t1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tp(n,e){return n.useProto3Json||Ad(e)?e:{value:e}}function ad(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function n1(n,e){return ad(n,e.toTimestamp())}function Rr(n){return Ge(!!n),Se.fromTimestamp(function(t){const s=Xs(t);return new xt(s.seconds,s.nanos)}(n))}function mm(n,e){return Ap(n,e).canonicalString()}function Ap(n,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Cw(n){const e=it.fromString(n);return Ge(bw(e)),e}function Ip(n,e){return mm(n.databaseId,e.path)}function Mf(n,e){const t=Cw(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(kw(t))}function Rw(n,e){return mm(n.databaseId,e)}function r1(n){const e=Cw(n);return e.length===4?it.emptyPath():kw(e)}function xp(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kw(n){return Ge(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function rv(n,e,t){return{name:Ip(n,e),fields:t.value.mapValue.fields}}function s1(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(g,v){return g.useProto3Json?(Ge(v===void 0||typeof v=="string"),Ft.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Ft.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const v=g.code===void 0?Z.UNKNOWN:Aw(g.code);return new fe(v,g.message||"")}(u);t=new xw(s,o,a,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mf(n,s.document.name),a=Rr(s.document.updateTime),u=s.document.createTime?Rr(s.document.createTime):Se.min(),h=new fn({mapValue:{fields:s.document.fields}}),f=Wt.newFoundDocument(o,a,u,h),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Wc(g,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mf(n,s.document),a=s.readTime?Rr(s.readTime):Se.min(),u=Wt.newNoDocument(o,a),h=s.removedTargetIds||[];t=new Wc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mf(n,s.document),a=s.removedTargetIds||[];t=new Wc([],a,o,null)}else{if(!("filter"in e))return Ie();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:a}=s,u=new KC(o,a),h=s.targetId;t=new Iw(h,u)}}return t}function i1(n,e){let t;if(e instanceof nu)t={update:rv(n,e.key,e.value)};else if(e instanceof hm)t={delete:Ip(n,e.key)};else if(e instanceof ri)t={update:rv(n,e.key,e.data),updateMask:p1(e.fieldMask)};else{if(!(e instanceof qC))return Ie();t={verify:Ip(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,u){const h=u.transform;if(h instanceof id)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ma)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ga)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof od)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Ie()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:n1(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie()}(n,e.precondition)),t}function o1(n,e){return n&&n.length>0?(Ge(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Rr(o.updateTime):Rr(a);return u.isEqual(Se.min())&&(u=Rr(a)),new BC(u,o.transformResults||[])}(t,e))):[]}function a1(n,e){return{documents:[Rw(n,e.path)]}}function l1(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Rw(n,o);const a=function(g){if(g.length!==0)return Nw(dr.create(g,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:ea(w.field),direction:d1(w.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Tp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:t,parent:o}}function u1(n){let e=r1(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(A){const w=Pw(A);return w instanceof dr&&iw(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(A){return A.map(w=>function(P){return new sd(ta(P.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(t.orderBy));let h=null;t.limit&&(h=function(A){let w;return w=typeof A=="object"?A.value:A,Ad(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(A){const w=!!A.before,R=A.values||[];return new rd(R,w)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const w=!A.before,R=A.values||[];return new rd(R,w)}(t.endAt)),RC(e,o,u,a,h,"F",f,g)}function c1(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Pw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ta(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ta(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ta(t.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ta(t.unaryFilter.field);return wt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):n.fieldFilter!==void 0?function(t){return wt.create(ta(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return dr.create(t.compositeFilter.filters.map(s=>Pw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie()}function d1(n){return JC[n]}function h1(n){return ZC[n]}function f1(n){return e1[n]}function ea(n){return{fieldPath:n.canonicalString()}}function ta(n){return Vt.fromServerFormat(n.fieldPath)}function Nw(n){return n instanceof wt?function(t){if(t.op==="=="){if(q_(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NAN"}};if($_(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(q_(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NAN"}};if($_(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(t.field),op:h1(t.op),value:t.value}}}(n):n instanceof dr?function(t){const s=t.getFilters().map(o=>Nw(o));return s.length===1?s[0]:{compositeFilter:{op:f1(t.op),filters:s}}}(n):Ie()}function p1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t,s,o,a=Se.min(),u=Se.min(),h=Ft.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.ht=e}}function g1(n){const e=u1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.ln=new _1}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Ys.min())}updateCollectionGroup(e,t,s){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class _1{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new St(it.comparator),a=!o.has(s);return this.index[t]=o.add(s),a}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new St(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ya(0)}static Qn(){return new ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv([n,e],[t,s]){const o=Fe(n,t);return o===0?Fe(e,s):o}class v1{constructor(e){this.Gn=e,this.buffer=new St(iv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();iv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class E1{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sa(t)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await xa(t)}await this.Yn(3e5)})}}class w1{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Td.oe);const s=new v1(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(sv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,a,u,h,f,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,u=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,h=Date.now(),this.removeTargets(e,s,t))).next(A=>(a=A,f=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Jo()<=je.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(g-f)+`ms
Total Duration: ${g-v}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:A})))}}function T1(n,e){return new w1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.changes=new Zi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?X.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Fl(s.mutation,o,An.empty(),xt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=Ui();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(a=>{let u=bl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const s=Ui();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,s,o){let a=as();const u=Ml(),h=function(){return Ml()}();return t.forEach((f,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ri)?a=a.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Fl(v.mutation,g,v.mutation.getFieldMask(),xt.now())):u.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((g,v)=>u.set(g,v)),t.forEach((g,v)=>{var A;return h.set(g,new I1(v,(A=u.get(g))!==null&&A!==void 0?A:null))}),h))}recalculateAndSaveOverlays(e,t){const s=Ml();let o=new ft((u,h)=>u-h),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const g=t.get(f);if(g===null)return;let v=s.get(f)||An.empty();v=h.applyToLocalView(g,v),s.set(f,v);const A=(o.get(h.batchId)||Le()).add(f);o=o.insert(h.batchId,A)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,v=f.value,A=pw();v.forEach(w=>{if(!a.has(w)){const R=ww(t.get(w),s.get(w));R!==null&&A.set(w,R),a=a.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,A))}return X.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-a.size):X.resolve(Ui());let h=-1,f=a;return u.next(g=>X.forEach(g,(v,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),a.get(v)?X.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{f=f.insert(v,w)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,f,g,Le())).next(v=>({batchId:h,changes:fw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let o=bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const a=t.collectionGroup;let u=bl();return this.indexManager.getCollectionParents(e,a).next(h=>X.forEach(h,f=>{const g=function(A,w){return new tu(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((A,w)=>{u=u.insert(A,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a,o))).next(u=>{a.forEach((f,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,Wt.newInvalidDocument(v)))});let h=bl();return u.forEach((f,g)=>{const v=a.get(f);v!==void 0&&Fl(v.mutation,g,An.empty(),xt.now()),Sd(t,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:g1(o.bundledQuery),readTime:Rr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.overlays=new ft(ye.comparator),this.Er=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ui();return X.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&s.set(o,a)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,a)=>{this.Tt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(s)),X.resolve()}getOverlaysForCollection(e,t,s){const o=Ui(),a=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&f.largestBatchId>s&&o.set(f.getKey(),f)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let a=new ft((g,v)=>g-v);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=a.get(g.largestBatchId);v===null&&(v=Ui(),a=a.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=Ui(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,v)=>h.set(g,v)),!(h.size()>=o)););return X.resolve(h)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new WC(t,s));let a=this.Er.get(t);a===void 0&&(a=Le(),this.Er.set(t,a)),this.Er.set(t,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.dr=new St(Nt.Ar),this.Rr=new St(Nt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new Nt(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new Nt(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new ye(new it([])),s=new Nt(t,e),o=new Nt(t,e+1),a=[];return this.Rr.forEachInRange([s,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ye(new it([])),s=new Nt(t,e),o=new Nt(t,e+1);let a=Le();return this.Rr.forEachInRange([s,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Nt(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Nt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ye.comparator(e.key,t.key)||Fe(e.br,t.br)}static Vr(e,t){return Fe(e.br,t.br)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new St(Nt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new HC(a,t,s,o);this.mutationQueue.push(u);for(const h of o)this.vr=this.vr.add(new Nt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Nt(t,0),o=new Nt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([s,o],u=>{const h=this.Cr(u.br);a.push(h)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new St(Fe);return t.forEach(o=>{const a=new Nt(o,0),u=new Nt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],h=>{s=s.add(h.br)})}),X.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let a=s;ye.isDocumentKey(a)||(a=a.child(""));const u=new Nt(new ye(a),0);let h=new St(Fe);return this.vr.forEachWhile(f=>{const g=f.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(h=h.add(f.br)),!0)},u),X.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return X.forEach(t.mutations,o=>{const a=new Nt(o.key,t.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new Nt(t,0),o=this.vr.firstAfterOrEqual(s);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.Nr=e,this.docs=function(){return new ft(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return X.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let s=as();return t.forEach(o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.mutableCopy():Wt.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let a=as();const u=t.path,h=new ye(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:v}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||aC(oC(v),s)<=0||(o.has(v.key)||Sd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,s,o){Ie()}Lr(e,t){return X.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new N1(this)}getSize(e){return X.resolve(this.size)}}class N1 extends A1{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.persistence=e,this.Br=new Zi(t=>lm(t),um),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new gm,this.targetCount=0,this.Qr=ya.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ya(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,s){let o=0;const a=[];return this.Br.forEach((u,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),X.waitFor(a).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return X.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),X.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return X.resolve(s)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Td(0),this.Ur=!1,this.Ur=!0,this.Wr=new R1,this.referenceDelegate=e(this),this.Gr=new b1(this),this.indexManager=new y1,this.remoteDocumentCache=function(o){return new P1(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new m1(t),this.jr=new S1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new C1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new k1(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new O1(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return X.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class O1 extends uC{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Zr=new gm,this.Xr=null}static ei(e){return new ym(e)}get ti(){if(this.Xr)return this.Xr;throw Ie()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),X.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,s=>{const o=ye.fromPath(s);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Se.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class ld{constructor(e,t){this.persistence=e,this.ri=new Zi(s=>hC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=T1(this,t)}static ei(e,t){return new ld(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(a=>a?X.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,u=>this.ir(e,u,t).next(h=>{h||(s++,a.removeEntry(u,Se.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$c(e.data.value)),t}ir(e,t,s){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=Le(),o=Le();for(const a of t.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new _m(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Ox()?8:cC(Kt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,s).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new D1;return this.ts(e,t,u).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,u,h.size)})}).next(()=>a.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(Jo()<=je.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Jo()<=je.DEBUG&&ue("QueryEngine","Query:",Zo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(Jo()<=je.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(t))):X.resolve())}Xi(e,t){if(G_(t))return X.resolve(null);let s=Cr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=wp(t,null,"F"),s=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const u=Le(...a);return this.Zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,s).next(f=>{const g=this.rs(t,h);return this.ss(t,g,u,f.readTime)?this.Xi(e,wp(t,null,"F")):this.os(e,g,t,f)}))})))}es(e,t,s,o){return G_(t)||o.isEqual(Se.min())?X.resolve(null):this.Zi.getDocuments(e,s).next(a=>{const u=this.rs(t,a);return this.ss(t,u,s,o)?X.resolve(null):(Jo()<=je.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(t)),this.os(e,u,t,iC(o,-1)).next(h=>h))})}rs(e,t){let s=new St(dw(e));return t.forEach((o,a)=>{Sd(e,a)&&(s=s.add(a))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,s){return Jo()<=je.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ys.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new ft(Fe),this.cs=new Zi(a=>lm(a),um),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function V1(n,e,t,s){return new L1(n,e,t,s)}async function Dw(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(a=>{const u=[],h=[];let f=Le();for(const g of o){u.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}for(const g of a){h.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(s,f).next(g=>({Ts:g,removedBatchIds:u,addedBatchIds:h}))})})}function M1(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,g,v){const A=g.batch,w=A.keys();let R=X.resolve();return w.forEach(P=>{R=R.next(()=>v.getEntry(f,P)).next(L=>{const j=g.docVersions.get(P);Ge(j!==null),L.version.compareTo(j)<0&&(A.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),v.addEntry(L)))})}),R.next(()=>h.mutationQueue.removeMutationBatch(f,A))}(t,s,e,a).next(()=>a.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(h){let f=Le();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function jw(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function F1(n,e){const t=Re(n),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((v,A)=>{const w=o.get(A);if(!w)return;h.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,A).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,A)));let R=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(A)!==null?R=R.withResumeToken(Ft.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),o=o.insert(A,R),function(L,j,O){return L.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(w,R,v)&&h.push(t.Gr.updateTargetData(a,R))});let f=as(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(U1(a,u,e.documentUpdates).next(v=>{f=v.Is,g=v.Es})),!s.isEqual(Se.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(A=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,s));h.push(v)}return X.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,g)).next(()=>f)}).then(a=>(t.us=o,a))}function U1(n,e,t){let s=Le(),o=Le();return t.forEach(a=>s=s.add(a)),e.getEntries(n,s).next(a=>{let u=as();return t.forEach((h,f)=>{const g=a.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ue("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Is:u,Es:o}})}function B1(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function z1(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(a=>a?(o=a,X.resolve(o)):t.Gr.allocateTargetId(s).next(u=>(o=new $s(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function Sp(n,e,t){const s=Re(n),o=s.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",a,u=>s.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Sa(u))throw u;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function ov(n,e,t){const s=Re(n);let o=Se.min(),a=Le();return s.persistence.runTransaction("Execute query","readwrite",u=>function(f,g,v){const A=Re(f),w=A.cs.get(v);return w!==void 0?X.resolve(A.us.get(w)):A.Gr.getTargetData(g,v)}(s,u,Cr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>s._s.getDocumentsMatchingQuery(u,e,t?o:Se.min(),t?a:Le())).next(h=>($1(s,PC(e),h),{documents:h,ds:a})))}function $1(n,e,t){let s=n.ls.get(e)||Se.min();t.forEach((o,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),n.ls.set(e,s)}class av{constructor(){this.activeTargetIds=LC()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q1{constructor(){this._o=new av,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new av,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function Ff(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class G1 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,s,o,a,u){const h=Ff(),f=this.No(t,s.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(g,a,u),this.Bo(t,f,g,o).then(v=>(ue("RestConnection",`Received RPC '${t}' ${h}: `,v),v),v=>{throw da("RestConnection",`RPC '${t}' ${h} failed with error: `,v,"url: ",f,"request:",o),v})}ko(t,s,o,a,u,h){return this.Oo(t,s,o,a,u)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,s){const o=W1[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const a=Ff();return new Promise((u,h)=>{const f=new KE;f.setWithCredentials(!0),f.listenOnce(GE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case zc.NO_ERROR:const v=f.getResponseJson();ue(qt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case zc.TIMEOUT:ue(qt,`RPC '${e}' ${a} timed out`),h(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const A=f.getStatus();if(ue(qt,`RPC '${e}' ${a} failed with status:`,A,"response text:",f.getResponseText()),A>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const R=w==null?void 0:w.error;if(R&&R.status&&R.message){const P=function(j){const O=j.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(O)>=0?O:Z.UNKNOWN}(R.status);h(new fe(P,R.message))}else h(new fe(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ue(qt,`RPC '${e}' ${a} completed.`)}});const g=JSON.stringify(o);ue(qt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",g,s,15)})}qo(e,t,s){const o=Ff(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=XE(),h=YE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,s),f.encodeInitMessageHeaders=!0;const v=a.join("");ue(qt,`Creating RPC '${e}' stream ${o}: ${v}`,f);const A=u.createWebChannel(v,f);let w=!1,R=!1;const P=new K1({Eo:j=>{R?ue(qt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(ue(qt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),ue(qt,`RPC '${e}' stream ${o} sending:`,j),A.send(j))},Ao:()=>A.close()}),L=(j,O,b)=>{j.listen(O,$=>{try{b($)}catch(K){setTimeout(()=>{throw K},0)}})};return L(A,Nl.EventType.OPEN,()=>{R||(ue(qt,`RPC '${e}' stream ${o} transport opened.`),P.So())}),L(A,Nl.EventType.CLOSE,()=>{R||(R=!0,ue(qt,`RPC '${e}' stream ${o} transport closed`),P.Do())}),L(A,Nl.EventType.ERROR,j=>{R||(R=!0,da(qt,`RPC '${e}' stream ${o} transport errored:`,j),P.Do(new fe(Z.UNAVAILABLE,"The operation could not be completed")))}),L(A,Nl.EventType.MESSAGE,j=>{var O;if(!R){const b=j.data[0];Ge(!!b);const $=b,K=($==null?void 0:$.error)||((O=$[0])===null||O===void 0?void 0:O.error);if(K){ue(qt,`RPC '${e}' stream ${o} received error:`,K);const J=K.status;let se=function(k){const V=Et[k];if(V!==void 0)return Aw(V)}(J),C=K.message;se===void 0&&(se=Z.INTERNAL,C="Unknown error status: "+J+" with message "+K.message),R=!0,P.Do(new fe(se,C)),A.close()}else ue(qt,`RPC '${e}' stream ${o} received:`,b),P.vo(b)}}),L(h,QE.STAT_EVENT,j=>{j.stat===mp.PROXY?ue(qt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===mp.NOPROXY&&ue(qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.bo()},0),P}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n){return new t1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t,s=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t,s,o,a,u,h,f){this.li=e,this.Yo=s,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Lw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(os(t.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new fe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q1 extends Vw{constructor(e,t,s,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=s1(this.serializer,e),s=function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Rr(u.readTime):Se.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=xp(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=vp(f)?{documents:a1(a,f)}:{query:l1(a,f).ct},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Sw(a,u.resumeToken);const g=Tp(a,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Se.min())>0){h.readTime=ad(a,u.snapshotVersion.toTimestamp());const g=Tp(a,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const s=c1(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=xp(this.serializer),t.removeTarget=e,this.c_(t)}}class Y1 extends Vw{constructor(e,t,s,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=o1(e.writeResults,e.commitTime),s=Rr(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=xp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>i1(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,Ap(t,s),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(Z.UNKNOWN,a.toString())})}ko(e,t,s,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ko(e,Ap(t,s),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(Z.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class J1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(os(t),this.C_=!1):ue("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,t,s,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{s.enqueueAndForget(async()=>{eo(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(f){const g=Re(f);g.k_.add(4),await su(g),g.K_.set("Unknown"),g.k_.delete(4),await Nd(g)}(this))})}),this.K_=new J1(s,o)}}async function Nd(n){if(eo(n))for(const e of n.q_)await e(!0)}async function su(n){for(const e of n.q_)await e(!1)}function Mw(n,e){const t=Re(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Tm(t)?wm(t):Ca(t).s_()&&Em(t,e))}function vm(n,e){const t=Re(n),s=Ca(t);t.B_.delete(e),s.s_()&&Fw(t,e),t.B_.size===0&&(s.s_()?s.a_():eo(t)&&t.K_.set("Unknown"))}function Em(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ca(n).V_(e)}function Fw(n,e){n.U_.xe(e),Ca(n).m_(e)}function wm(n){n.U_=new XC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ca(n).start(),n.K_.F_()}function Tm(n){return eo(n)&&!Ca(n).i_()&&n.B_.size>0}function eo(n){return Re(n).k_.size===0}function Uw(n){n.U_=void 0}async function eR(n){n.K_.set("Online")}async function tR(n){n.B_.forEach((e,t)=>{Em(n,e)})}async function nR(n,e){Uw(n),Tm(n)?(n.K_.O_(e),wm(n)):n.K_.set("Unknown")}async function rR(n,e,t){if(n.K_.set("Online"),e instanceof xw&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.B_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.B_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(s){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ud(n,s)}else if(e instanceof Wc?n.U_.$e(e):e instanceof Iw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Se.min()))try{const s=await jw(n.localStore);t.compareTo(s)>=0&&await function(a,u){const h=a.U_.it(u);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.B_.get(g);v&&a.B_.set(g,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,g)=>{const v=a.B_.get(f);if(!v)return;a.B_.set(f,v.withResumeToken(Ft.EMPTY_BYTE_STRING,v.snapshotVersion)),Fw(a,f);const A=new $s(v.target,f,g,v.sequenceNumber);Em(a,A)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(s){ue("RemoteStore","Failed to raise snapshot:",s),await ud(n,s)}}async function ud(n,e,t){if(!Sa(e))throw e;n.k_.add(1),await su(n),n.K_.set("Offline"),t||(t=()=>jw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Nd(n)})}function Bw(n,e){return e().catch(t=>ud(n,t,e))}async function bd(n){const e=Re(n),t=ei(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;sR(e);)try{const o=await B1(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,iR(e,o)}catch(o){await ud(e,o)}zw(e)&&$w(e)}function sR(n){return eo(n)&&n.L_.length<10}function iR(n,e){n.L_.push(e);const t=ei(n);t.s_()&&t.f_&&t.g_(e.mutations)}function zw(n){return eo(n)&&!ei(n).i_()&&n.L_.length>0}function $w(n){ei(n).start()}async function oR(n){ei(n).w_()}async function aR(n){const e=ei(n);for(const t of n.L_)e.g_(t.mutations)}async function lR(n,e,t){const s=n.L_.shift(),o=fm.from(s,e,t);await Bw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await bd(n)}async function uR(n,e){e&&ei(n).f_&&await async function(s,o){if(function(u){return GC(u)&&u!==Z.ABORTED}(o.code)){const a=s.L_.shift();ei(s).__(),await Bw(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,o)),await bd(s)}}(n,e),zw(n)&&$w(n)}async function uv(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const s=eo(t);t.k_.add(3),await su(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Nd(t)}async function cR(n,e){const t=Re(n);e?(t.k_.delete(2),await Nd(t)):e||(t.k_.add(2),await su(t),t.K_.set("Unknown"))}function Ca(n){return n.W_||(n.W_=function(t,s,o){const a=Re(t);return a.b_(),new Q1(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:eR.bind(null,n),mo:tR.bind(null,n),po:nR.bind(null,n),R_:rR.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Tm(n)?wm(n):n.K_.set("Unknown")):(await n.W_.stop(),Uw(n))})),n.W_}function ei(n){return n.G_||(n.G_=function(t,s,o){const a=Re(t);return a.b_(),new Y1(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:oR.bind(null,n),po:uR.bind(null,n),p_:aR.bind(null,n),y_:lR.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await bd(n)):(await n.G_.stop(),n.L_.length>0&&(ue("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t,s,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,a){const u=Date.now()+s,h=new Am(e,t,u,o,a);return h.start(s),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(n,e){if(os("AsyncQueue",`${e}: ${n}`),Sa(n))return new fe(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{static emptySet(e){return new ra(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=bl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ra;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.z_=new ft(ye.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ie():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class _a{constructor(e,t,s,o,a,u,h,f,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new _a(e,t,ra.emptySet(t),u,s,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class hR{constructor(){this.queries=dv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Re(t),a=o.queries;o.queries=dv(),a.forEach((u,h)=>{for(const f of h.J_)f.onError(s)})})(this,new fe(Z.ABORTED,"Firestore shutting down"))}}function dv(){return new Zi(n=>cw(n),xd)}async function qw(n,e){const t=Re(n);let s=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(s=2):(a=new dR,s=e.Z_()?0:1);try{switch(s){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Im(u,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&xm(t)}async function Hw(n,e){const t=Re(n),s=e.query;let o=3;const a=t.queries.get(s);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function fR(n,e){const t=Re(n);let s=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.J_)h.ta(o)&&(s=!0);u.H_=o}}s&&xm(t)}function pR(n,e,t){const s=Re(n),o=s.queries.get(e);if(o)for(const a of o.J_)a.onError(t);s.queries.delete(e)}function xm(n){n.X_.forEach(e=>{e.next()})}var Cp,hv;(hv=Cp||(Cp={})).na="default",hv.Cache="cache";class Ww{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _a(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.key=e}}class Gw{constructor(e){this.key=e}}class mR{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Le(),this.mutatedKeys=Le(),this.Va=dw(e),this.ma=new ra(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new cv,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,A)=>{const w=o.get(v),R=Sd(this.query,A)?A:null,P=!!w&&this.mutatedKeys.has(w.key),L=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;w&&R?w.data.isEqual(R.data)?P!==L&&(s.track({type:3,doc:R}),j=!0):this.ya(w,R)||(s.track({type:2,doc:R}),j=!0,(f&&this.Va(R,f)>0||g&&this.Va(R,g)<0)&&(h=!0)):!w&&R?(s.track({type:0,doc:R}),j=!0):w&&!R&&(s.track({type:1,doc:w}),j=!0,(f||g)&&(h=!0)),j&&(R?(u=u.add(R),a=L?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),s.track({type:1,doc:v})}return{ma:u,pa:s,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,A)=>function(R,P){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return L(R)-L(P)}(v.type,A.type)||this.Va(v.doc,A.doc)),this.wa(s),o=o!=null&&o;const h=t&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,g=f!==this.Aa;return this.Aa=f,u.length!==0||g?{snapshot:new _a(this.query,e.ma,a,u,e.mutatedKeys,f===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new cv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Le(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new Gw(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new Kw(s))}),t}va(e){this.da=e.ds,this.Ra=Le();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return _a.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class gR{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class yR{constructor(e){this.key=e,this.Fa=!1}}class _R{constructor(e,t,s,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Zi(h=>cw(h),xd),this.Oa=new Map,this.Na=new Set,this.La=new ft(ye.comparator),this.Ba=new Map,this.ka=new gm,this.qa={},this.Qa=new Map,this.Ka=ya.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function vR(n,e,t=!0){const s=eT(n);let o;const a=s.xa.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await Qw(s,e,t,!0),o}async function ER(n,e){const t=eT(n);await Qw(t,e,!0,!1)}async function Qw(n,e,t,s){const o=await z1(n.localStore,Cr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return s&&(h=await wR(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&Mw(n.remoteStore,o),h}async function wR(n,e,t,s,o){n.Ua=(A,w,R)=>async function(L,j,O,b){let $=j.view.ga(O);$.ss&&($=await ov(L.localStore,j.query,!1).then(({documents:C})=>j.view.ga(C,$)));const K=b&&b.targetChanges.get(j.targetId),J=b&&b.targetMismatches.get(j.targetId)!=null,se=j.view.applyChanges($,L.isPrimaryClient,K,J);return pv(L,j.targetId,se.ba),se.snapshot}(n,A,w,R);const a=await ov(n.localStore,e,!0),u=new mR(e,a.ds),h=u.ga(a.documents),f=ru.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),g=u.applyChanges(h,n.isPrimaryClient,f);pv(n,t,g.ba);const v=new gR(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),g.snapshot}async function TR(n,e,t){const s=Re(n),o=s.xa.get(e),a=s.Oa.get(o.targetId);if(a.length>1)return s.Oa.set(o.targetId,a.filter(u=>!xd(u,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&vm(s.remoteStore,o.targetId),Rp(s,o.targetId)}).catch(xa)):(Rp(s,o.targetId),await Sp(s.localStore,o.targetId,!0))}async function AR(n,e){const t=Re(n),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),vm(t.remoteStore,s.targetId))}async function IR(n,e,t){const s=NR(n);try{const o=await function(u,h){const f=Re(u),g=xt.now(),v=h.reduce((R,P)=>R.add(P.key),Le());let A,w;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let P=as(),L=Le();return f.hs.getEntries(R,v).next(j=>{P=j,P.forEach((O,b)=>{b.isValidDocument()||(L=L.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,P)).next(j=>{A=j;const O=[];for(const b of h){const $=$C(b,A.get(b.key).overlayedDocument);$!=null&&O.push(new ri(b.key,$,nw($.value.mapValue),Mn.exists(!0)))}return f.mutationQueue.addMutationBatch(R,g,O,h)}).next(j=>{w=j;const O=j.applyToLocalDocumentSet(A,L);return f.documentOverlayCache.saveOverlays(R,j.batchId,O)})}).then(()=>({batchId:w.batchId,changes:fw(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let g=u.qa[u.currentUser.toKey()];g||(g=new ft(Fe)),g=g.insert(h,f),u.qa[u.currentUser.toKey()]=g}(s,o.batchId,t),await iu(s,o.changes),await bd(s.remoteStore)}catch(o){const a=Im(o,"Failed to persist write");t.reject(a)}}async function Yw(n,e){const t=Re(n);try{const s=await F1(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ba.get(a);u&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?Ge(u.Fa):o.removedDocuments.size>0&&(Ge(u.Fa),u.Fa=!1))}),await iu(t,s,e)}catch(s){await xa(s)}}function fv(n,e,t){const s=Re(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((a,u)=>{const h=u.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=Re(u);f.onlineState=h;let g=!1;f.queries.forEach((v,A)=>{for(const w of A.J_)w.ea(h)&&(g=!0)}),g&&xm(f)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xR(n,e,t){const s=Re(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),a=o&&o.key;if(a){let u=new ft(ye.comparator);u=u.insert(a,Wt.newNoDocument(a,Se.min()));const h=Le().add(a),f=new kd(Se.min(),new Map,new ft(Fe),u,h);await Yw(s,f),s.La=s.La.remove(a),s.Ba.delete(e),Sm(s)}else await Sp(s.localStore,e,!1).then(()=>Rp(s,e,t)).catch(xa)}async function SR(n,e){const t=Re(n),s=e.batch.batchId;try{const o=await M1(t.localStore,e);Jw(t,s,null),Xw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await iu(t,o)}catch(o){await xa(o)}}async function CR(n,e,t){const s=Re(n);try{const o=await function(u,h){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,h).next(A=>(Ge(A!==null),v=A.keys(),f.mutationQueue.removeMutationBatch(g,A))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(s.localStore,e);Jw(s,e,t),Xw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await iu(s,o)}catch(o){await xa(o)}}function Xw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Jw(n,e,t){const s=Re(n);let o=s.qa[s.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function Rp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Oa.get(e))n.xa.delete(s),t&&n.Ma.Wa(s,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(s=>{n.ka.containsKey(s)||Zw(n,s)})}function Zw(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(vm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Sm(n))}function pv(n,e,t){for(const s of t)s instanceof Kw?(n.ka.addReference(s.key,e),RR(n,s)):s instanceof Gw?(ue("SyncEngine","Document no longer in limbo: "+s.key),n.ka.removeReference(s.key,e),n.ka.containsKey(s.key)||Zw(n,s.key)):Ie()}function RR(n,e){const t=e.key,s=t.path.canonicalString();n.La.get(t)||n.Na.has(s)||(ue("SyncEngine","New document in limbo: "+t),n.Na.add(s),Sm(n))}function Sm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ye(it.fromString(e)),s=n.Ka.next();n.Ba.set(s,new yR(t)),n.La=n.La.insert(t,s),Mw(n.remoteStore,new $s(Cr(cm(t.path)),s,"TargetPurposeLimboResolution",Td.oe))}}async function iu(n,e,t){const s=Re(n),o=[],a=[],u=[];s.xa.isEmpty()||(s.xa.forEach((h,f)=>{u.push(s.Ua(f,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(f.targetId,A?"current":"not-current")}if(g){o.push(g);const A=_m.zi(f.targetId,g);a.push(A)}}))}),await Promise.all(u),s.Ma.R_(o),await async function(f,g){const v=Re(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>X.forEach(g,w=>X.forEach(w.Wi,R=>v.persistence.referenceDelegate.addReference(A,w.targetId,R)).next(()=>X.forEach(w.Gi,R=>v.persistence.referenceDelegate.removeReference(A,w.targetId,R)))))}catch(A){if(!Sa(A))throw A;ue("LocalStore","Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const R=v.us.get(w),P=R.snapshotVersion,L=R.withLastLimboFreeSnapshotVersion(P);v.us=v.us.insert(w,L)}}}(s.localStore,a))}async function kR(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const s=await Dw(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new fe(Z.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await iu(t,s.Ts)}}function PR(n,e){const t=Re(n),s=t.Ba.get(e);if(s&&s.Fa)return Le().add(s.key);{let o=Le();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const h=t.xa.get(u);o=o.unionWith(h.view.fa)}return o}}function eT(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xR.bind(null,e),e.Ma.R_=fR.bind(null,e.eventManager),e.Ma.Wa=pR.bind(null,e.eventManager),e}function NR(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CR.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return V1(this.persistence,new j1,e.initialUser,this.serializer)}ja(e){return new Ow(ym.ei,this.serializer)}za(e){return new q1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class bR extends cd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ge(this.persistence.referenceDelegate instanceof ld);const s=this.persistence.referenceDelegate.garbageCollector;return new E1(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Ow(s=>ld.ei(s,t),this.serializer)}}class kp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kR.bind(null,this.syncEngine),await cR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hR}()}createDatastore(e){const t=Pd(e.databaseInfo.databaseId),s=function(a){return new G1(a)}(e.databaseInfo);return function(a,u,h,f){return new X1(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,a,u,h){return new Z1(s,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>fv(this.syncEngine,t,0),function(){return lv.p()?new lv:new H1}())}createSyncEngine(e,t){return function(o,a,u,h,f,g,v){const A=new _R(o,a,u,h,f,g);return v&&(A.$a=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Re(o);ue("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await su(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}kp.provider={build:()=>new kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t,s,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ht.UNAUTHENTICATED,this.clientId=ZE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async u=>{ue("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(ue("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Im(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bf(n,e){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Dw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function mv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await DR(n);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>uv(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>uv(e.remoteStore,o)),n._onlineComponents=e}async function DR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;da("Error using user provided cache. Falling back to memory cache: "+t),await Bf(n,new cd)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Bf(n,new bR(void 0));return n._offlineComponents}async function nT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await mv(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await mv(n,new kp))),n._onlineComponents}function jR(n){return nT(n).then(e=>e.syncEngine)}async function Pp(n){const e=await nT(n),t=e.eventManager;return t.onListen=vR.bind(null,e.syncEngine),t.onUnlisten=TR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ER.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AR.bind(null,e.syncEngine),t}function LR(n,e,t={}){const s=new Ks;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,g){const v=new tT({next:w=>{v.eu(),u.enqueueAndForget(()=>Hw(a,A)),w.fromCache&&f.source==="server"?g.reject(new fe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new Ww(h,v,{includeMetadataChanges:!0,ua:!0});return qw(a,A)}(await Pp(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n,e,t){if(!t)throw new fe(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VR(n,e,t,s){if(e===!0&&s===!0)throw new fe(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yv(n){if(!ye.isDocumentKey(n))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _v(n){if(ye.isDocumentKey(n))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Od(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function Fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Od(n);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YS;switch(s.type){case"firstParty":return new eC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=gv.get(t);s&&(ue("ComponentProvider","Removing Datastore"),gv.delete(t),s.terminate())}(this),Promise.resolve()}}function MR(n,e,t,s={}){var o;const a=(n=Fn(n,Dd))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),s.mockUserToken){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=Ht.MOCK_USER;else{h=Sx(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ht(g)}n._authCredentials=new XS(new JE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Gs extends to{constructor(e,t,s){super(e,t,cm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new ye(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function br(n,e,...t){if(n=Mt(n),sT("collection","path",e),n instanceof Dd){const s=it.fromString(e,...t);return _v(s),new Gs(n,null,s)}{if(!(n instanceof Zt||n instanceof Gs))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(it.fromString(e,...t));return _v(s),new Gs(n.firestore,null,s)}}function dt(n,e,...t){if(n=Mt(n),arguments.length===1&&(e=ZE.newId()),sT("doc","path",e),n instanceof Dd){const s=it.fromString(e,...t);return yv(s),new Zt(n,null,new ye(s))}{if(!(n instanceof Zt||n instanceof Gs))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(it.fromString(e,...t));return yv(s),new Zt(n.firestore,n instanceof Gs?n.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Lw(this,"async_queue_retry"),this.fu=()=>{const s=Uf();s&&ue("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Uf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Uf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Ks;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Sa(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(s);throw os("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Am.createAndSchedule(this,e,t,s,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Ie()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function wv(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of s)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ti extends Dd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Ev,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ev(e),this._firestoreClient=void 0,await e}}}function FR(n,e){const t=typeof n=="object"?n:$E(),s=typeof n=="string"?n:"(default)",o=sm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const a=Ix("firestore");a&&MR(o,...a)}return o}function Cm(n){if(n._terminated)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||UR(n),n._firestoreClient}function UR(n){var e,t,s;const o=n._freezeSettings(),a=function(h,f,g,v){return new mC(h,f,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,rT(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new OR(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new va(Ft.fromBase64String(e))}catch(t){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new va(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Rm(){return new ou("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=/^__.*__$/;class zR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ri(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}}class iT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ri(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class jd{constructor(e,t,s,o,a,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new jd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return dd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(oT(this.Mu)&&BR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class $R{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Pd(e)}$u(e,t,s,o=!1){return new jd({Mu:e,methodName:t,Ku:s,path:Vt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ld(n){const e=n._freezeSettings(),t=Pd(n._databaseId);return new $R(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aT(n,e,t,s,o,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,o);Om("Data must be an object, but it was:",u,s);const h=uT(s,u);let f,g;if(a.merge)f=new An(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const A of a.mergeFields){const w=Np(e,A,t);if(!u.contains(w))throw new fe(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);dT(v,w)||v.push(w)}f=new An(v),g=u.fieldTransforms.filter(A=>f.covers(A.field))}else f=null,g=u.fieldTransforms;return new zR(new fn(h),f,g)}class Vd extends au{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}function lT(n,e,t){return new jd({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Nm extends au{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=lT(this,e,!0),s=this.Uu.map(a=>no(a,t)),o=new ma(s);return new Ew(e.path,o)}isEqual(e){return e instanceof Nm&&ua(this.Uu,e.Uu)}}class bm extends au{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=lT(this,e,!0),s=this.Uu.map(a=>no(a,t)),o=new ga(s);return new Ew(e.path,o)}isEqual(e){return e instanceof bm&&ua(this.Uu,e.Uu)}}function qR(n,e,t,s){const o=n.$u(1,e,t);Om("Data must be an object, but it was:",o,s);const a=[],u=fn.empty();ni(s,(f,g)=>{const v=Dm(e,f,t);g=Mt(g);const A=o.Bu(v);if(g instanceof Vd)a.push(v);else{const w=no(g,A);w!=null&&(a.push(v),u.set(v,w))}});const h=new An(a);return new iT(u,h,o.fieldTransforms)}function HR(n,e,t,s,o,a){const u=n.$u(1,e,t),h=[Np(e,s,t)],f=[o];if(a.length%2!=0)throw new fe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)h.push(Np(e,a[w])),f.push(a[w+1]);const g=[],v=fn.empty();for(let w=h.length-1;w>=0;--w)if(!dT(g,h[w])){const R=h[w];let P=f[w];P=Mt(P);const L=u.Bu(R);if(P instanceof Vd)g.push(R);else{const j=no(P,L);j!=null&&(g.push(R),v.set(R,j))}}const A=new An(g);return new iT(v,A,u.fieldTransforms)}function WR(n,e,t,s=!1){return no(t,n.$u(s?4:3,e))}function no(n,e){if(cT(n=Mt(n)))return Om("Unsupported field value:",e,n),uT(n,e);if(n instanceof au)return function(s,o){if(!oT(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const a=[];let u=0;for(const h of s){let f=no(h,o.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(s,o){if((s=Mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=xt.fromDate(s);return{timestampValue:ad(o.serializer,a)}}if(s instanceof xt){const a=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ad(o.serializer,a)}}if(s instanceof km)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof va)return{bytesValue:Sw(o.serializer,s._byteString)};if(s instanceof Zt){const a=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pm)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return dm(h.serializer,f)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${Od(s)}`)}(n,e)}function uT(n,e){const t={};return ew(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ni(n,(s,o)=>{const a=no(o,e.Ou(s));a!=null&&(t[s]=a)}),{mapValue:{fields:t}}}function cT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof km||n instanceof va||n instanceof Zt||n instanceof au||n instanceof Pm)}function Om(n,e,t){if(!cT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Od(t);throw s==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+s)}}function Np(n,e,t){if((e=Mt(e))instanceof ou)return e._internalPath;if(typeof e=="string")return Dm(n,e);throw dd("Field path arguments must be of type string or ",n,!1,void 0,t)}const KR=new RegExp("[~\\*/\\[\\]]");function Dm(n,e,t){if(e.search(KR)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ou(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dd(n,e,t,s,o){const a=s&&!s.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${s}`),u&&(f+=` in document ${o}`),f+=")"),new fe(Z.INVALID_ARGUMENT,h+n+f)}function dT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,t,s,o,a){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GR extends hT{data(){return super.data()}}function jm(n,e){return typeof e=="string"?Dm(n,e):e instanceof ou?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lm{}class QR extends Lm{}function Ea(n,e,...t){let s=[];e instanceof Lm&&s.push(e),s=s.concat(t),function(a){const u=a.filter(f=>f instanceof Vm).length,h=a.filter(f=>f instanceof Md).length;if(u>1||u>0&&h>0)throw new fe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)n=o._apply(n);return n}class Md extends QR{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Md(e,t,s)}_apply(e){const t=this._parse(e);return pT(e._query,t),new to(e.firestore,e.converter,Ep(e._query,t))}_parse(e){const t=Ld(e.firestore);return function(a,u,h,f,g,v,A){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Av(A,v);const R=[];for(const P of A)R.push(Tv(f,a,P));w={arrayValue:{values:R}}}else w=Tv(f,a,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Av(A,v),w=WR(h,u,A,v==="in"||v==="not-in");return wt.create(g,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qi(n,e,t){const s=e,o=jm("where",n);return Md._create(o,s,t)}class Vm extends Lm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vm(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)pT(u,f),u=Ep(u,f)}(e._query,t),new to(e.firestore,e.converter,Ep(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Tv(n,e,t){if(typeof(t=Mt(t))=="string"){if(t==="")throw new fe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uw(e)&&t.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(it.fromString(t));if(!ye.isDocumentKey(s))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return z_(n,new ye(s))}if(t instanceof Zt)return z_(n,t._key);throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(t)}.`)}function Av(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pT(n,e){const t=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class YR{convertValue(e,t="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ni(e,(o,a)=>{s[o]=this.convertValue(a,t)}),s}convertVectorValue(e){var t,s,o;const a=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(u=>yt(u.doubleValue));return new Pm(a)}convertGeoPoint(e){return new km(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Id(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const t=Xs(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);Ge(bw(s));const o=new Hl(s.get(1),s.get(3)),a=new ye(s.popFirst(5));return o.isEqual(t)||os(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gT extends hT{constructor(e,t,s,o,a,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(jm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Kc extends gT{data(e={}){return super.data(e)}}class yT{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Dl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Kc(this._firestore,this._userDataWriter,s.key,s,new Dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new Kc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Dl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Kc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Dl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:XR(h.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class Mm extends YR{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function bp(n){n=Fn(n,to);const e=Fn(n.firestore,ti),t=Cm(e),s=new Mm(e);return fT(n._query),LR(t,n._query).then(o=>new yT(e,s,n,o))}function ro(n,e,t){n=Fn(n,Zt);const s=Fn(n.firestore,ti),o=mT(n.converter,e);return Ud(s,[aT(Ld(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Mn.none())])}function Un(n,e,t,...s){n=Fn(n,Zt);const o=Fn(n.firestore,ti),a=Ld(o);let u;return u=typeof(e=Mt(e))=="string"||e instanceof ou?HR(a,"updateDoc",n._key,e,t,s):qR(a,"updateDoc",n._key,e),Ud(o,[u.toMutation(n._key,Mn.exists(!0))])}function Fd(n){return Ud(Fn(n.firestore,ti),[new hm(n._key,Mn.none())])}function _T(n,e){const t=Fn(n.firestore,ti),s=dt(n),o=mT(n.converter,e);return Ud(t,[aT(Ld(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Mn.exists(!1))]).then(()=>s)}function Ra(n,...e){var t,s,o;n=Mt(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||wv(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(wv(e[u])){const A=e[u];e[u]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[u+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),e[u+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let f,g,v;if(n instanceof Zt)g=Fn(n.firestore,ti),v=cm(n._key.path),f={next:A=>{e[u]&&e[u](JR(g,n,A))},error:e[u+1],complete:e[u+2]};else{const A=Fn(n,to);g=Fn(A.firestore,ti),v=A._query;const w=new Mm(g);f={next:R=>{e[u]&&e[u](new yT(g,w,A,R))},error:e[u+1],complete:e[u+2]},fT(n._query)}return function(w,R,P,L){const j=new tT(L),O=new Ww(R,j,P);return w.asyncQueue.enqueueAndForget(async()=>qw(await Pp(w),O)),()=>{j.eu(),w.asyncQueue.enqueueAndForget(async()=>Hw(await Pp(w),O))}}(Cm(g),v,h,f)}function Ud(n,e){return function(s,o){const a=new Ks;return s.asyncQueue.enqueueAndForget(async()=>IR(await jR(s),o,a)),a.promise}(Cm(n),e)}function JR(n,e,t){const s=t.docs.get(e._key),o=new Mm(n);return new gT(n,o,e._key,s,new Dl(t.hasPendingWrites,t.fromCache),e.converter)}function Bd(...n){return new Nm("arrayUnion",n)}function ZR(...n){return new bm("arrayRemove",n)}(function(e,t=!0){(function(o){Ia=o})(Aa),ca(new Ki("firestore",(s,{instanceIdentifier:o,options:a})=>{const u=s.getProvider("app").getImmediate(),h=new ti(new JS(s.getProvider("auth-internal")),new nC(s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(g.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Ws(L_,"4.7.5",e),Ws(L_,"4.7.5","esm2017")})();function Fm(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function vT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ek=vT,ET=new Zl("auth","Firebase",vT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new nm("@firebase/auth");function tk(n,...e){hd.logLevel<=je.WARN&&hd.warn(`Auth (${Aa}): ${n}`,...e)}function Gc(n,...e){hd.logLevel<=je.ERROR&&hd.error(`Auth (${Aa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(n,...e){throw Bm(n,...e)}function cr(n,...e){return Bm(n,...e)}function Um(n,e,t){const s=Object.assign(Object.assign({},ek()),{[e]:t});return new Zl("auth","Firebase",s).create(e,{appName:n.name})}function rs(n){return Um(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nk(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Bn(n,"argument-error"),Um(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bm(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return ET.create(n,...e)}function Te(n,e,...t){if(!n)throw Bm(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gc(e),new Error(e)}function ls(n,e){n||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function rk(){return Iv()==="http:"||Iv()==="https:"}function Iv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rk()||Px()||"connection"in navigator)?navigator.onLine:!0}function ik(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ls(t>e,"Short delay should be less than long delay!"),this.isMobile=Cx()||Nx()}get(){return sk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n,e){ls(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new lu(3e4,6e4);function si(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ii(n,e,t,s,o={}){return TT(n,o,async()=>{let a={},u={};s&&(e==="GET"?u=s:a={body:JSON.stringify(s)});const h=eu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:f},a);return kx()||(g.referrerPolicy="no-referrer"),wT.fetch()(AT(n,n.config.apiHost,t,h),g)})}async function TT(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},ok),e);try{const o=new uk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw jc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw jc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw jc(n,"user-disabled",u);const v=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Um(n,v,g);Bn(n,v)}}catch(o){if(o instanceof cs)throw o;Bn(n,"network-request-failed",{message:String(o)})}}async function uu(n,e,t,s,o={}){const a=await ii(n,e,t,s,o);return"mfaPendingCredential"in a&&Bn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function AT(n,e,t,s){const o=`${e}${t}?${s}`;return n.config.emulator?zm(n.config,o):`${n.config.apiScheme}://${o}`}function lk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(cr(this.auth,"network-request-failed")),ak.get())})}}function jc(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=cr(n,e,s);return o.customData._tokenResponse=t,o}function xv(n){return n!==void 0&&n.enterprise!==void 0}class ck{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dk(n,e){return ii(n,"GET","/v2/recaptchaConfig",si(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(n,e){return ii(n,"POST","/v1/accounts:delete",e)}async function IT(n,e){return ii(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fk(n,e=!1){const t=Mt(n),s=await t.getIdToken(e),o=$m(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:s,authTime:Ul(zf(o.auth_time)),issuedAtTime:Ul(zf(o.iat)),expirationTime:Ul(zf(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function zf(n){return Number(n)*1e3}function $m(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=LE(t);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Sv(n){const e=$m(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof cs&&pk(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function pk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(n){var e;const t=n.auth,s=await n.getIdToken(),o=await Kl(n,IT(t,{idToken:s}));Te(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?xT(a.providerUserInfo):[],h=yk(n.providerData,u),f=n.isAnonymous,g=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?g:!1,A={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Dp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,A)}async function gk(n){const e=Mt(n);await fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yk(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function xT(n){return n.map(e=>{var{providerId:t}=e,s=Fm(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e){const t=await TT(n,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=AT(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",wT.fetch()(u,{method:"POST",headers:h,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vk(n,e){return ii(n,"POST","/v2/accounts:revokeToken",si(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Sv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:a}=await _k(e,t);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:a}=t,u=new sa;return s&&(Te(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Te(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class es{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,a=Fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fk(this,e)}reload(){return gk(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await fd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Kl(this,hk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,a,u,h,f,g,v;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(u=t.photoURL)!==null&&u!==void 0?u:void 0,L=(h=t.tenantId)!==null&&h!==void 0?h:void 0,j=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,O=(g=t.createdAt)!==null&&g!==void 0?g:void 0,b=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:K,isAnonymous:J,providerData:se,stsTokenManager:C}=t;Te($&&C,e,"internal-error");const x=sa.fromJSON(this.name,C);Te(typeof $=="string",e,"internal-error"),Ms(A,e.name),Ms(w,e.name),Te(typeof K=="boolean",e,"internal-error"),Te(typeof J=="boolean",e,"internal-error"),Ms(R,e.name),Ms(P,e.name),Ms(L,e.name),Ms(j,e.name),Ms(O,e.name),Ms(b,e.name);const k=new es({uid:$,auth:e,email:w,emailVerified:K,displayName:A,isAnonymous:J,photoURL:P,phoneNumber:R,tenantId:L,stsTokenManager:x,createdAt:O,lastLoginAt:b});return se&&Array.isArray(se)&&(k.providerData=se.map(V=>Object.assign({},V))),j&&(k._redirectEventId=j),k}static async _fromIdTokenResponse(e,t,s=!1){const o=new sa;o.updateFromServerResponse(t);const a=new es({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fd(a),a}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?xT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new sa;h.updateFromIdToken(s);const f=new es({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;function ts(n){ls(n instanceof Function,"Expected a class definition");let e=Cv.get(n);return e?(ls(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Cv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ST.type="NONE";const Rv=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(n,e,t){return`firebase:${n}:${e}:${t}`}class ia{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Qc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ia(ts(Rv),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||ts(Rv);const u=Qc(s,e.config.apiKey,e.name);let h=null;for(const g of t)try{const v=await g._get(u);if(v){const A=es._fromJSON(e,v);g!==a&&(h=A),a=g;break}}catch{}const f=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ia(a,e,s):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(u)}catch{}})),new ia(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bT(e))return"Blackberry";if(OT(e))return"Webos";if(RT(e))return"Safari";if((e.includes("chrome/")||kT(e))&&!e.includes("edge/"))return"Chrome";if(NT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function CT(n=Kt()){return/firefox\//i.test(n)}function RT(n=Kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kT(n=Kt()){return/crios\//i.test(n)}function PT(n=Kt()){return/iemobile/i.test(n)}function NT(n=Kt()){return/android/i.test(n)}function bT(n=Kt()){return/blackberry/i.test(n)}function OT(n=Kt()){return/webos/i.test(n)}function qm(n=Kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ek(n=Kt()){var e;return qm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wk(){return bx()&&document.documentMode===10}function DT(n=Kt()){return qm(n)||NT(n)||OT(n)||bT(n)||/windows phone/i.test(n)||PT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n,e=[]){let t;switch(n){case"Browser":t=kv(Kt());break;case"Worker":t=`${kv(Kt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Aa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(n,e={}){return ii(n,"GET","/v2/passwordPolicy",si(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=6;class xk{constructor(e){var t,s,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Ik,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(s=f.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pv(this),this.idTokenSubscription=new Pv(this),this.beforeStateQueue=new Tk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ET,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ts(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await IT(this,{idToken:e}),s=await es._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(lr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ik()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(rs(this));const t=e?Mt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ak(this),t=new xk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await vk(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ts(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[ts(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,s,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&tk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oi(n){return Mt(n)}class Pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ux(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ck(n){zd=n}function LT(n){return zd.loadJS(n)}function Rk(){return zd.recaptchaEnterpriseScript}function kk(){return zd.gapiScript}function Pk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Nk{constructor(){this.enterprise=new bk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ok="recaptcha-enterprise",VT="NO_RECAPTCHA";class Dk{constructor(e){this.type=Ok,this.auth=oi(e)}async verify(e="verify",t=!1){async function s(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{dk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new ck(f);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,u(g.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;xv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(g=>{u(g)}).catch(()=>{u(VT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{s(this.auth).then(h=>{if(!t&&xv(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Rk();f.length!==0&&(f+=h),LT(f).then(()=>{o(h,a,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function Nv(n,e,t,s=!1,o=!1){const a=new Dk(n);let u;if(o)u=VT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function jp(n,e,t,s,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Nv(n,e,t,t==="getOobCode");return s(n,u)}else return s(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Nv(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(n,e){const t=sm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(ua(a,e??{}))return o;Bn(o,"already-initialized")}return t.initialize({options:e})}function Lk(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ts);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Vk(n,e,t){const s=oi(n);Te(s._canInitEmulator,s,"emulator-config-failed"),Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=MT(e),{host:u,port:h}=Mk(e),f=h===null?"":`:${h}`;s.config.emulator={url:`${a}//${u}${f}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),Fk()}function MT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Mk(n){const e=MT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:bv(s.substr(a.length+1))}}else{const[a,u]=s.split(":");return{host:a,port:bv(u)}}}function bv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Fk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function Uk(n,e){return ii(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,e){return uu(n,"POST","/v1/accounts:signInWithPassword",si(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e){return uu(n,"POST","/v1/accounts:signInWithEmailLink",si(n,e))}async function $k(n,e){return uu(n,"POST","/v1/accounts:signInWithEmailLink",si(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Hm{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Gl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Gl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jp(e,t,"signInWithPassword",Bk);case"emailLink":return zk(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jp(e,s,"signUpPassword",Uk);case"emailLink":return $k(e,{idToken:t,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n,e){return uu(n,"POST","/v1/accounts:signInWithIdp",si(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="http://localhost";class Qi extends Hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,a=Fm(t,["providerId","signInMethod"]);if(!s||!o)return null;const u=new Qi(s,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return oa(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,oa(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oa(e,t)}buildRequest(){const e={requestUri:qk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wk(n){const e=kl(Pl(n)).link,t=e?kl(Pl(e)).deep_link_id:null,s=kl(Pl(n)).deep_link_id;return(s?kl(Pl(s)).link:null)||s||t||e||n}class Wm{constructor(e){var t,s,o,a,u,h;const f=kl(Pl(e)),g=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(s=f.oobCode)!==null&&s!==void 0?s:null,A=Hk((o=f.mode)!==null&&o!==void 0?o:null);Te(g&&v&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=Wk(e);try{return new Wm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.providerId=ka.PROVIDER_ID}static credential(e,t){return Gl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Wm.parseLink(t);return Te(s,"argument-error"),Gl._fromEmailAndCode(e,s.code,s.tenantId)}}ka.PROVIDER_ID="password";ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Km{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends cu{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Jr.credential(t,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends cu{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends cu{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return zs.credential(t,s)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(n,e){return uu(n,"POST","/v1/accounts:signUp",si(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const a=await es._fromIdTokenResponse(e,s,o),u=Ov(s);return new Yi({user:a,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Ov(s);return new Yi({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Ov(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends cs{constructor(e,t,s,o){var a;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new pd(e,t,s,o)}}function FT(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pd._fromErrorAndOperation(n,a,e,s):a})}async function Gk(n,e,t=!1){const s=await Kl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yi._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(n,e,t=!1){const{auth:s}=n;if(lr(s.app))return Promise.reject(rs(s));const o="reauthenticate";try{const a=await Kl(n,FT(s,o,e,n),t);Te(a.idToken,s,"internal-error");const u=$m(a.idToken);Te(u,s,"internal-error");const{sub:h}=u;return Te(n.uid===h,s,"user-mismatch"),Yi._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Bn(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(n,e,t=!1){if(lr(n.app))return Promise.reject(rs(n));const s="signIn",o=await FT(n,s,e),a=await Yi._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(a.user),a}async function Yk(n,e){return UT(oi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(n){const e=oi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zT(n,e,t){if(lr(n.app))return Promise.reject(rs(n));const s=oi(n),u=await jp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&BT(n),f}),h=await Yi._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function $T(n,e,t){return lr(n.app)?Promise.reject(rs(n)):Yk(Mt(n),ka.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&BT(n),s})}function Xk(n,e,t,s){return Mt(n).onIdTokenChanged(e,t,s)}function Jk(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}const md="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=1e3,eP=10;class HT extends qT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},a=this.storage.getItem(s);wk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eP):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HT.type="LOCAL";const tP=HT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends qT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}WT.type="SESSION";const KT=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new $d(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(u).map(async g=>g(t.origin,a)),f=await nP(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const g=Gm("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(w.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function sP(n){kr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function iP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aP(){return GT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebaseLocalStorageDb",lP=1,gd="firebaseLocalStorage",YT="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qd(n,e){return n.transaction([gd],e?"readwrite":"readonly").objectStore(gd)}function uP(){const n=indexedDB.deleteDatabase(QT);return new du(n).toPromise()}function Lp(){const n=indexedDB.open(QT,lP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(gd,{keyPath:YT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(gd)?e(s):(s.close(),await uP(),e(await Lp()))})})}async function Dv(n,e,t){const s=qd(n,!0).put({[YT]:e,value:t});return new du(s).toPromise()}async function cP(n,e){const t=qd(n,!1).get(e),s=await new du(t).toPromise();return s===void 0?null:s.value}function jv(n,e){const t=qd(n,!0).delete(e);return new du(t).toPromise()}const dP=800,hP=3;class XT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>hP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(aP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iP(),!this.activeServiceWorker)return;this.sender=new rP(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lp();return await Dv(e,md,"1"),await jv(e,md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>cP(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=qd(o,!1).getAll();return new du(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XT.type="LOCAL";const fP=XT;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n,e){return e?ts(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends Hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pP(n){return UT(n.auth,new Qm(n),n.bypassAuthState)}function mP(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),Qk(t,new Qm(n),n.bypassAuthState)}async function gP(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),Gk(t,new Qm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pP;case"linkViaPopup":case"linkViaRedirect":return gP;case"reauthViaPopup":case"reauthViaRedirect":return mP;default:Bn(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new lu(2e3,1e4);async function _P(n,e,t){if(lr(n.app))return Promise.reject(cr(n,"operation-not-supported-in-this-environment"));const s=oi(n);nk(n,e,Km);const o=JT(s,t);return new Bi(s,"signInViaPopup",e,o).executeNotNull()}class Bi extends ZT{constructor(e,t,s,o,a){super(e,t,o,a),this.provider=s,this.authWindow=null,this.pollId=null,Bi.currentPopupAction&&Bi.currentPopupAction.cancel(),Bi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yP.get())};e()}}Bi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="pendingRedirect",Yc=new Map;class EP extends ZT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const s=await wP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wP(n,e){const t=IP(e),s=AP(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function TP(n,e){Yc.set(n._key(),e)}function AP(n){return ts(n._redirectPersistence)}function IP(n){return Qc(vP,n.config.apiKey,n.name)}async function xP(n,e,t=!1){if(lr(n.app))return Promise.reject(rs(n));const s=oi(n),o=JT(s,e),u=await new EP(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=10*60*1e3;class CP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!e0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(cr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(e))}saveEventToCache(e){this.cachedEventUids.add(Lv(e)),this.lastProcessedEventTime=Date.now()}}function Lv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function e0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(n,e={}){return ii(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NP=/^https?/;async function bP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kP(n);for(const t of e)try{if(OP(t))return}catch{}Bn(n,"unauthorized-domain")}function OP(n){const e=Op(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!NP.test(t))return!1;if(PP.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new lu(3e4,6e4);function Vv(){const n=kr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jP(n){return new Promise((e,t)=>{var s,o,a;function u(){Vv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vv(),t(cr(n,"network-request-failed"))},timeout:DP.get()})}if(!((o=(s=kr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=kr().gapi)===null||a===void 0)&&a.load)u();else{const h=Pk("iframefcb");return kr()[h]=()=>{gapi.load?u():t(cr(n,"network-request-failed"))},LT(`${kk()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function LP(n){return Xc=Xc||jP(n),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new lu(5e3,15e3),MP="__/auth/iframe",FP="emulator/auth/iframe",UP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zP(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zm(e,FP):`https://${n.config.authDomain}/${MP}`,s={apiKey:e.apiKey,appName:n.name,v:Aa},o=BP.get(n.config.apiHost);o&&(s.eid=o);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${t}?${eu(s).slice(1)}`}async function $P(n){const e=await LP(n),t=kr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:zP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UP,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const u=cr(n,"network-request-failed"),h=kr().setTimeout(()=>{a(u)},VP.get());function f(){kr().clearTimeout(h),o(s)}s.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HP=500,WP=600,KP="_blank",GP="http://localhost";class Mv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QP(n,e,t,s=HP,o=WP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const f=Object.assign(Object.assign({},qP),{width:s.toString(),height:o.toString(),top:a,left:u}),g=Kt().toLowerCase();t&&(h=kT(g)?KP:t),CT(g)&&(e=e||GP,f.scrollbars="yes");const v=Object.entries(f).reduce((w,[R,P])=>`${w}${R}=${P},`,"");if(Ek(g)&&h!=="_self")return YP(e||"",h),new Mv(null);const A=window.open(e||"",h,v);Te(A,n,"popup-blocked");try{A.focus()}catch{}return new Mv(A)}function YP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="__/auth/handler",JP="emulator/auth/handler",ZP=encodeURIComponent("fac");async function Fv(n,e,t,s,o,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Aa,eventId:o};if(e instanceof Km){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Fx(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))u[v]=A}if(e instanceof cu){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),g=f?`#${ZP}=${encodeURIComponent(f)}`:"";return`${eN(n)}?${eu(h).slice(1)}${g}`}function eN({config:n}){return n.emulator?zm(n,JP):`https://${n.authDomain}/${XP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="webStorageSupport";class tN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=xP,this._overrideRedirectResult=TP}async _openPopup(e,t,s,o){var a;ls((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Fv(e,t,s,Op(),o);return QP(e,u,Gm())}async _openRedirect(e,t,s,o){await this._originValidation(e);const a=await Fv(e,t,s,Op(),o);return sP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ls(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await $P(e),s=new CP(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($f,{type:$f},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[$f];u!==void 0&&t(!!u),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DT()||RT()||qm()}}const nN=tN;var Uv="@firebase/auth",Bv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iN(n){ca(new Ki("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jT(n)},g=new Sk(s,o,a,f);return Lk(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ca(new Ki("auth-internal",e=>{const t=oi(e.getProvider("auth").getImmediate());return(s=>new rN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(Uv,Bv,sN(n)),Ws(Uv,Bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=5*60,aN=FE("authIdTokenMaxAge")||oN;let zv=null;const lN=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>aN)return;const o=t==null?void 0:t.token;zv!==o&&(zv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uN(n=$E()){const e=sm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=jk(n,{popupRedirectResolver:nN,persistence:[fP,tP,KT]}),s=FE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const u=lN(a.toString());Jk(t,u,()=>u(t.currentUser)),Xk(t,h=>u(h))}}const o=VE("auth");return o&&Vk(t,`http://${o}`),t}function cN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ck({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const a=cr("internal-error");a.customData=o,t(a)},s.type="text/javascript",s.charset="UTF-8",cN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iN("Browser");var dN="firebase",hN="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(dN,hN,"app");const fN={apiKey:"AIzaSyAfEtUFhy-kM8VBSTQCBE3X3A0Fkf7W3v8",authDomain:"myapp-32ded.firebaseapp.com",projectId:"myapp-32ded",storageBucket:"myapp-32ded.firebasestorage.app",messagingSenderId:"146892625271",appId:"1:146892625271:web:8ef54a6d5bd73856f0bd72",measurementId:"G-B77PYNCLYP"},t0=zE(fN),We=FR(t0),ss=uN(t0);var qf,$v;function pN(){if($v)return qf;$v=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){if(a.constructor!==u.constructor)return!1;var h,f,g;if(Array.isArray(a)){if(h=a.length,h!=u.length)return!1;for(f=h;f--!==0;)if(!o(a[f],u[f]))return!1;return!0}var v;if(e&&a instanceof Map&&u instanceof Map){if(a.size!==u.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!u.has(f.value[0]))return!1;for(v=a.entries();!(f=v.next()).done;)if(!o(f.value[1],u.get(f.value[0])))return!1;return!0}if(t&&a instanceof Set&&u instanceof Set){if(a.size!==u.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!u.has(f.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(u)){if(h=a.length,h!=u.length)return!1;for(f=h;f--!==0;)if(a[f]!==u[f])return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof u.valueOf=="function")return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof u.toString=="function")return a.toString()===u.toString();if(g=Object.keys(a),h=g.length,h!==Object.keys(u).length)return!1;for(f=h;f--!==0;)if(!Object.prototype.hasOwnProperty.call(u,g[f]))return!1;if(n&&a instanceof Element)return!1;for(f=h;f--!==0;)if(!((g[f]==="_owner"||g[f]==="__v"||g[f]==="__o")&&a.$$typeof)&&!o(a[g[f]],u[g[f]]))return!1;return!0}return a!==a&&u!==u}return qf=function(u,h){try{return o(u,h)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},qf}var mN=pN();const gN=Ji(mN);var Hf,qv;function yN(){if(qv)return Hf;qv=1;var n=function(e,t,s,o,a,u,h,f){if(!e){var g;if(t===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[s,o,a,u,h,f],A=0;g=new Error(t.replace(/%s/g,function(){return v[A++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};return Hf=n,Hf}var _N=yN();const Hv=Ji(_N);var Wf,Wv;function vN(){return Wv||(Wv=1,Wf=function(e,t,s,o){var a=s?s.call(o,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var u=Object.keys(e),h=Object.keys(t);if(u.length!==h.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),g=0;g<u.length;g++){var v=u[g];if(!f(v))return!1;var A=e[v],w=t[v];if(a=s?s.call(o,A,w,v):void 0,a===!1||a===void 0&&A!==w)return!1}return!0}),Wf}var EN=vN();const wN=Ji(EN);var n0=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(n0||{}),Kf={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Kv=Object.values(n0),Ym={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},TN=Object.entries(Ym).reduce((n,[e,t])=>(n[t]=e,n),{}),ur="data-rh",aa={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},la=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const s=n[t];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},AN=n=>{let e=la(n,"title");const t=la(n,aa.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const s=la(n,aa.DEFAULT_TITLE);return e||s||void 0},IN=n=>la(n,aa.ON_CHANGE_CLIENT_STATE)||(()=>{}),Gf=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,s)=>({...t,...s}),{}),xN=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,s)=>{if(!t.length){const o=Object.keys(s);for(let a=0;a<o.length;a+=1){const h=o[a].toLowerCase();if(n.indexOf(h)!==-1&&s[h])return t.concat(s)}}return t},[]),SN=n=>console&&typeof console.warn=="function"&&console.warn(n),Cl=(n,e,t)=>{const s={};return t.filter(o=>Array.isArray(o[n])?!0:(typeof o[n]<"u"&&SN(`Helmet: ${n} should be of type "Array". Instead found type "${typeof o[n]}"`),!1)).map(o=>o[n]).reverse().reduce((o,a)=>{const u={};a.filter(f=>{let g;const v=Object.keys(f);for(let w=0;w<v.length;w+=1){const R=v[w],P=R.toLowerCase();e.indexOf(P)!==-1&&!(g==="rel"&&f[g].toLowerCase()==="canonical")&&!(P==="rel"&&f[P].toLowerCase()==="stylesheet")&&(g=P),e.indexOf(R)!==-1&&(R==="innerHTML"||R==="cssText"||R==="itemprop")&&(g=R)}if(!g||!f[g])return!1;const A=f[g].toLowerCase();return s[g]||(s[g]={}),u[g]||(u[g]={}),s[g][A]?!1:(u[g][A]=!0,!0)}).reverse().forEach(f=>o.push(f));const h=Object.keys(u);for(let f=0;f<h.length;f+=1){const g=h[f],v={...s[g],...u[g]};s[g]=v}return o},[]).reverse()},CN=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},RN=n=>({baseTag:xN(["href"],n),bodyAttributes:Gf("bodyAttributes",n),defer:la(n,aa.DEFER),encode:la(n,aa.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Gf("htmlAttributes",n),linkTags:Cl("link",["rel","href"],n),metaTags:Cl("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Cl("noscript",["innerHTML"],n),onChangeClientState:IN(n),scriptTags:Cl("script",["src","innerHTML"],n),styleTags:Cl("style",["cssText"],n),title:AN(n),titleAttributes:Gf("titleAttributes",n),prioritizeSeoTags:CN(n,aa.PRIORITIZE_SEO_TAGS)}),r0=n=>Array.isArray(n)?n.join(""):n,kN=(n,e)=>{const t=Object.keys(n);for(let s=0;s<t.length;s+=1)if(e[t[s]]&&e[t[s]].includes(n[t[s]]))return!0;return!1},Qf=(n,e)=>Array.isArray(n)?n.reduce((t,s)=>(kN(s,e)?t.priority.push(s):t.default.push(s),t),{priority:[],default:[]}):{default:n,priority:[]},Gv=(n,e)=>({...n,[e]:void 0}),PN=["noscript","script","style"],Vp=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),s0=n=>Object.keys(n).reduce((e,t)=>{const s=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${s}`:s},""),NN=(n,e,t,s)=>{const o=s0(t),a=r0(e);return o?`<${n} ${ur}="true" ${o}>${Vp(a,s)}</${n}>`:`<${n} ${ur}="true">${Vp(a,s)}</${n}>`},bN=(n,e,t=!0)=>e.reduce((s,o)=>{const a=o,u=Object.keys(a).filter(g=>!(g==="innerHTML"||g==="cssText")).reduce((g,v)=>{const A=typeof a[v]>"u"?v:`${v}="${Vp(a[v],t)}"`;return g?`${g} ${A}`:A},""),h=a.innerHTML||a.cssText||"",f=PN.indexOf(n)===-1;return`${s}<${n} ${ur}="true" ${u}${f?"/>":`>${h}</${n}>`}`},""),i0=(n,e={})=>Object.keys(n).reduce((t,s)=>{const o=Ym[s];return t[o||s]=n[s],t},e),ON=(n,e,t)=>{const s={key:e,[ur]:!0},o=i0(t,s);return[ke.createElement("title",o,e)]},Jc=(n,e)=>e.map((t,s)=>{const o={key:s,[ur]:!0};return Object.keys(t).forEach(a=>{const h=Ym[a]||a;if(h==="innerHTML"||h==="cssText"){const f=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:f}}else o[h]=t[a]}),ke.createElement(n,o)}),Ln=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>ON(n,e.title,e.titleAttributes),toString:()=>NN(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>i0(e),toString:()=>s0(e)};default:return{toComponent:()=>Jc(n,e),toString:()=>bN(n,e,t)}}},DN=({metaTags:n,linkTags:e,scriptTags:t,encode:s})=>{const o=Qf(n,Kf.meta),a=Qf(e,Kf.link),u=Qf(t,Kf.script);return{priorityMethods:{toComponent:()=>[...Jc("meta",o.priority),...Jc("link",a.priority),...Jc("script",u.priority)],toString:()=>`${Ln("meta",o.priority,s)} ${Ln("link",a.priority,s)} ${Ln("script",u.priority,s)}`},metaTags:o.default,linkTags:a.default,scriptTags:u.default}},jN=n=>{const{baseTag:e,bodyAttributes:t,encode:s=!0,htmlAttributes:o,noscriptTags:a,styleTags:u,title:h="",titleAttributes:f,prioritizeSeoTags:g}=n;let{linkTags:v,metaTags:A,scriptTags:w}=n,R={toComponent:()=>{},toString:()=>""};return g&&({priorityMethods:R,linkTags:v,metaTags:A,scriptTags:w}=DN(n)),{priority:R,base:Ln("base",e,s),bodyAttributes:Ln("bodyAttributes",t,s),htmlAttributes:Ln("htmlAttributes",o,s),link:Ln("link",v,s),meta:Ln("meta",A,s),noscript:Ln("noscript",a,s),script:Ln("script",w,s),style:Ln("style",u,s),title:Ln("title",{title:h,titleAttributes:f},s)}},o0=jN,Lc=[],a0=!!(typeof window<"u"&&window.document&&window.document.createElement),Mp=class{constructor(n,e){Xr(this,"instances",[]);Xr(this,"canUseDOM",a0);Xr(this,"context");Xr(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Lc:this.instances,add:n=>{(this.canUseDOM?Lc:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Lc:this.instances).indexOf(n);(this.canUseDOM?Lc:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=o0({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},LN={},l0=ke.createContext(LN),zi,$n=(zi=class extends S.Component{constructor(t){super(t);Xr(this,"helmetData");this.helmetData=new Mp(this.props.context||{},zi.canUseDOM)}render(){return ke.createElement(l0.Provider,{value:this.helmetData.value},this.props.children)}},Xr(zi,"canUseDOM",a0),zi),Go=(n,e)=>{const t=document.head||document.querySelector("head"),s=t.querySelectorAll(`${n}[${ur}]`),o=[].slice.call(s),a=[];let u;return e&&e.length&&e.forEach(h=>{const f=document.createElement(n);for(const g in h)if(Object.prototype.hasOwnProperty.call(h,g))if(g==="innerHTML")f.innerHTML=h.innerHTML;else if(g==="cssText")f.styleSheet?f.styleSheet.cssText=h.cssText:f.appendChild(document.createTextNode(h.cssText));else{const v=g,A=typeof h[v]>"u"?"":h[v];f.setAttribute(g,A)}f.setAttribute(ur,"true"),o.some((g,v)=>(u=v,f.isEqualNode(g)))?o.splice(u,1):a.push(f)}),o.forEach(h=>{var f;return(f=h.parentNode)==null?void 0:f.removeChild(h)}),a.forEach(h=>t.appendChild(h)),{oldTags:o,newTags:a}},Fp=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const s=t.getAttribute(ur),o=s?s.split(","):[],a=[...o],u=Object.keys(e);for(const h of u){const f=e[h]||"";t.getAttribute(h)!==f&&t.setAttribute(h,f),o.indexOf(h)===-1&&o.push(h);const g=a.indexOf(h);g!==-1&&a.splice(g,1)}for(let h=a.length-1;h>=0;h-=1)t.removeAttribute(a[h]);o.length===a.length?t.removeAttribute(ur):t.getAttribute(ur)!==u.join(",")&&t.setAttribute(ur,u.join(","))},VN=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=r0(n)),Fp("title",e)},Qv=(n,e)=>{const{baseTag:t,bodyAttributes:s,htmlAttributes:o,linkTags:a,metaTags:u,noscriptTags:h,onChangeClientState:f,scriptTags:g,styleTags:v,title:A,titleAttributes:w}=n;Fp("body",s),Fp("html",o),VN(A,w);const R={baseTag:Go("base",t),linkTags:Go("link",a),metaTags:Go("meta",u),noscriptTags:Go("noscript",h),scriptTags:Go("script",g),styleTags:Go("style",v)},P={},L={};Object.keys(R).forEach(j=>{const{newTags:O,oldTags:b}=R[j];O.length&&(P[j]=O),b.length&&(L[j]=R[j].oldTags)}),e&&e(),f(n,P,L)},Rl=null,MN=n=>{Rl&&cancelAnimationFrame(Rl),n.defer?Rl=requestAnimationFrame(()=>{Qv(n,()=>{Rl=null})}):(Qv(n),Rl=null)},FN=MN,Yv=class extends S.Component{constructor(){super(...arguments);Xr(this,"rendered",!1)}shouldComponentUpdate(e){return!wN(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let s=null;const o=RN(e.get().map(a=>{const u={...a.props};return delete u.context,u}));$n.canUseDOM?FN(o):s=o0(o),t(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},ap,hr=(ap=class extends S.Component{shouldComponentUpdate(n){return!gN(Gv(this.props,"helmetData"),Gv(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,s){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,s)}]}}mapObjectTypeChildren(n,e,t,s){switch(n.type){case"title":return{...e,[n.type]:s,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(s=>{t={...t,[s]:n[s]}}),t}warnOnInvalidChildren(n,e){return Hv(Kv.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Kv.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),Hv(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return ke.Children.forEach(n,s=>{if(!s||!s.props)return;const{children:o,...a}=s.props,u=Object.keys(a).reduce((f,g)=>(f[TN[g]||g]=a[g],f),{});let{type:h}=s;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(s,o),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(o,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(s,t,u,o);break;default:e=this.mapObjectTypeChildren(s,e,u,o);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:s}=e;if(n&&(t=this.mapChildrenToProps(n,t)),s&&!(s instanceof Mp)){const o=s;s=new Mp(o.context,!0),delete t.helmetData}return s?ke.createElement(Yv,{...t,context:s.value}):ke.createElement(l0.Consumer,null,o=>ke.createElement(Yv,{...t,context:o}))}},Xr(ap,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),ap),UN={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function BN(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var s=(n.match(/[^0-9]*$/)||"").toString();return UN[s]?{value:e,unit:s}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Xv(n){var e=BN(n);return"".concat(e.value).concat(e.unit)}var zN=function(n,e,t){var s="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return s;var o=document.createElement("style");document.head.appendChild(o);var a=o.sheet,u=`
    @keyframes `.concat(s,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(u,0),s},yd=function(){return yd=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},yd.apply(this,arguments)},$N=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t},qN=zN("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Hd(n){var e=n.loading,t=e===void 0?!0:e,s=n.color,o=s===void 0?"#000000":s,a=n.speedMultiplier,u=a===void 0?1:a,h=n.cssOverride,f=h===void 0?{}:h,g=n.size,v=g===void 0?35:g,A=$N(n,["loading","color","speedMultiplier","cssOverride","size"]),w=yd({background:"transparent !important",width:Xv(v),height:Xv(v),borderRadius:"100%",border:"2px solid",borderTopColor:o,borderBottomColor:"transparent",borderLeftColor:o,borderRightColor:o,display:"inline-block",animation:"".concat(qN," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},f);return t?S.createElement("span",yd({style:w},A)):null}var Yf={exports:{}},Xf,Jv;function HN(){if(Jv)return Xf;Jv=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xf=n,Xf}var Jf,Zv;function WN(){if(Zv)return Jf;Zv=1;var n=HN();function e(){}function t(){}return t.resetWarningCache=e,Jf=function(){function s(u,h,f,g,v,A){if(A!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var a={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Jf}var eE;function KN(){return eE||(eE=1,Yf.exports=WN()()),Yf.exports}var GN=KN();const Sr=Ji(GN),pn=S.createContext(),u0=({children:n})=>{const[e,t]=S.useState(!0),[s,o]=S.useState(null),[a,u]=S.useState([]),[h,f]=S.useState();return S.useEffect(()=>(t(!0),ss.onAuthStateChanged(v=>{o(v),t(!1)},v=>{console.error("Error in getting current user",v),t(!1)})),[]),S.useEffect(()=>{try{t(!0);const g=Ra(br(We,"Users"),v=>{var w;const A=(w=v.docs)==null?void 0:w.map(R=>({id:R.id,...R.data()}));u(A)});return()=>g()}catch(g){console.error("Error in getting users details",g)}finally{t(!1)}},[]),S.useEffect(()=>{try{if(s&&a){const g=a==null?void 0:a.find(v=>v.email===s.email);f(g)}}catch(g){console.error("Error in getting full detail of current user",g)}},[s,a]),p.jsx(p.Fragment,{children:e?p.jsx("div",{className:"spinner",children:p.jsx(Hd,{size:50,color:"black",loading:e})}):p.jsx(pn.Provider,{value:{cuser:s,allusers:a,setAllusers:u,currentuserfulldetail:h},children:n})})};u0.propTypes={children:Sr.node.isRequired};function c0(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=c0(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Hi(){for(var n,e,t=0,s="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=c0(n))&&(s&&(s+=" "),s+=e);return s}function QN(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}QN(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hu=n=>typeof n=="number"&&!isNaN(n),Xi=n=>typeof n=="string",us=n=>typeof n=="function",YN=n=>Xi(n)||hu(n),Up=n=>Xi(n)||us(n)?n:null,XN=(n,e)=>n===!1||hu(n)&&n>0?n:e,Bp=n=>S.isValidElement(n)||Xi(n)||us(n)||hu(n);function JN(n,e,t=300){let{scrollHeight:s,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function ZN({enter:n,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:h,done:f,nodeRef:g,isIn:v,playToast:A}){let w=t?`${n}--${u}`:n,R=t?`${e}--${u}`:e,P=S.useRef(0);return S.useLayoutEffect(()=>{let L=g.current,j=w.split(" "),O=b=>{b.target===g.current&&(A(),L.removeEventListener("animationend",O),L.removeEventListener("animationcancel",O),P.current===0&&b.type!=="animationcancel"&&L.classList.remove(...j))};L.classList.add(...j),L.addEventListener("animationend",O),L.addEventListener("animationcancel",O)},[]),S.useEffect(()=>{let L=g.current,j=()=>{L.removeEventListener("animationend",j),s?JN(L,f,o):f()};v||(h?j():(P.current=1,L.className+=` ${R}`,L.addEventListener("animationend",j)))},[v]),ke.createElement(ke.Fragment,null,a)}}function tE(n,e){return{content:d0(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function d0(n,e,t=!1){return S.isValidElement(n)&&!Xi(n.type)?S.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):us(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function eb({closeToast:n,theme:e,ariaLabel:t="close"}){return ke.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),n(!0)},"aria-label":t},ke.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ke.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tb({delay:n,isRunning:e,closeToast:t,type:s="default",hide:o,className:a,controlledProgress:u,progress:h,rtl:f,isIn:g,theme:v}){let A=o||u&&h===0,w={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(w.transform=`scaleX(${h})`);let R=Hi("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":f}),P=us(a)?a({rtl:f,type:s,defaultClassName:R}):Hi(R,a),L={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{g&&t()}};return ke.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},ke.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${s}`}),ke.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:P,style:w,...L}))}var nb=1,h0=()=>`${nb++}`;function rb(n,e,t){let s=1,o=0,a=[],u=[],h=e,f=new Map,g=new Set,v=b=>(g.add(b),()=>g.delete(b)),A=()=>{u=Array.from(f.values()),g.forEach(b=>b())},w=({containerId:b,toastId:$,updateId:K})=>{let J=b?b!==n:n!==1,se=f.has($)&&K==null;return J||se},R=(b,$)=>{f.forEach(K=>{var J;($==null||$===K.props.toastId)&&((J=K.toggle)==null||J.call(K,b))})},P=b=>{var $,K;(K=($=b.props)==null?void 0:$.onClose)==null||K.call($,b.removalReason),b.isActive=!1},L=b=>{if(b==null)f.forEach(P);else{let $=f.get(b);$&&P($)}A()},j=()=>{o-=a.length,a=[]},O=b=>{var $,K;let{toastId:J,updateId:se}=b.props,C=se==null;b.staleId&&f.delete(b.staleId),b.isActive=!0,f.set(J,b),A(),t(tE(b,C?"added":"updated")),C&&((K=($=b.props).onOpen)==null||K.call($))};return{id:n,props:h,observe:v,toggle:R,removeToast:L,toasts:f,clearQueue:j,buildToast:(b,$)=>{if(w($))return;let{toastId:K,updateId:J,data:se,staleId:C,delay:x}=$,k=J==null;k&&o++;let V={...h,style:h.toastStyle,key:s++,...Object.fromEntries(Object.entries($).filter(([B,D])=>D!=null)),toastId:K,updateId:J,data:se,isIn:!1,className:Up($.className||h.toastClassName),progressClassName:Up($.progressClassName||h.progressClassName),autoClose:$.isLoading?!1:XN($.autoClose,h.autoClose),closeToast(B){f.get(K).removalReason=B,L(K)},deleteToast(){let B=f.get(K);if(B!=null){if(t(tE(B,"removed")),f.delete(K),o--,o<0&&(o=0),a.length>0){O(a.shift());return}A()}}};V.closeButton=h.closeButton,$.closeButton===!1||Bp($.closeButton)?V.closeButton=$.closeButton:$.closeButton===!0&&(V.closeButton=Bp(h.closeButton)?h.closeButton:!0);let F={content:b,props:V,staleId:C};h.limit&&h.limit>0&&o>h.limit&&k?a.push(F):hu(x)?setTimeout(()=>{O(F)},x):O(F)},setProps(b){h=b},setToggle:(b,$)=>{let K=f.get(b);K&&(K.toggle=$)},isToastActive:b=>{var $;return($=f.get(b))==null?void 0:$.isActive},getSnapshot:()=>u}}var Jt=new Map,Ql=[],zp=new Set,sb=n=>zp.forEach(e=>e(n)),f0=()=>Jt.size>0;function ib(){Ql.forEach(n=>m0(n.content,n.options)),Ql=[]}var ob=(n,{containerId:e})=>{var t;return(t=Jt.get(e||1))==null?void 0:t.toasts.get(n)};function p0(n,e){var t;if(e)return!!((t=Jt.get(e))!=null&&t.isToastActive(n));let s=!1;return Jt.forEach(o=>{o.isToastActive(n)&&(s=!0)}),s}function ab(n){if(!f0()){Ql=Ql.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||YN(n))Jt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Jt.get(n.containerId);e?e.removeToast(n.id):Jt.forEach(t=>{t.removeToast(n.id)})}}var lb=(n={})=>{Jt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function m0(n,e){Bp(n)&&(f0()||Ql.push({content:n,options:e}),Jt.forEach(t=>{t.buildToast(n,e)}))}function ub(n){var e;(e=Jt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function g0(n,e){Jt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function cb(n){let e=n.containerId||1;return{subscribe(t){let s=rb(e,n,sb);Jt.set(e,s);let o=s.observe(t);return ib(),()=>{o(),Jt.delete(e)}},setProps(t){var s;(s=Jt.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=Jt.get(e))==null?void 0:t.getSnapshot()}}}function db(n){return zp.add(n),()=>{zp.delete(n)}}function hb(n){return n&&(Xi(n.toastId)||hu(n.toastId))?n.toastId:h0()}function fu(n,e){return m0(n,e),e.toastId}function Wd(n,e){return{...e,type:e&&e.type||n,toastId:hb(e)}}function Kd(n){return(e,t)=>fu(e,Wd(n,t))}function xe(n,e){return fu(n,Wd("default",e))}xe.loading=(n,e)=>fu(n,Wd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function fb(n,{pending:e,error:t,success:s},o){let a;e&&(a=Xi(e)?xe.loading(e,o):xe.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(g,v,A)=>{if(v==null){xe.dismiss(a);return}let w={type:g,...u,...o,data:A},R=Xi(v)?{render:v}:v;return a?xe.update(a,{...w,...R}):xe(R.render,{...w,...R}),A},f=us(n)?n():n;return f.then(g=>h("success",s,g)).catch(g=>h("error",t,g)),f}xe.promise=fb;xe.success=Kd("success");xe.info=Kd("info");xe.error=Kd("error");xe.warning=Kd("warning");xe.warn=xe.warning;xe.dark=(n,e)=>fu(n,Wd("default",{theme:"dark",...e}));function pb(n){ab(n)}xe.dismiss=pb;xe.clearWaitingQueue=lb;xe.isActive=p0;xe.update=(n,e={})=>{let t=ob(n,e);if(t){let{props:s,content:o}=t,a={delay:100,...s,...e,toastId:e.toastId||n,updateId:h0()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,fu(u,a)}};xe.done=n=>{xe.update(n,{progress:1})};xe.onChange=db;xe.play=n=>g0(!0,n);xe.pause=n=>g0(!1,n);function mb(n){var e;let{subscribe:t,getSnapshot:s,setProps:o}=S.useRef(cb(n)).current;o(n);let a=(e=S.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function u(h){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(g=>{let{position:v}=g.props;f.has(v)||f.set(v,[]),f.get(v).push(g)}),Array.from(f,g=>h(g[0],g[1]))}return{getToastToRender:u,isToastActive:p0,count:a==null?void 0:a.length}}function gb(n){let[e,t]=S.useState(!1),[s,o]=S.useState(!1),a=S.useRef(null),u=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:g,onClick:v,closeOnClick:A}=n;ub({id:n.toastId,containerId:n.containerId,fn:t}),S.useEffect(()=>{if(n.pauseOnFocusLoss)return w(),()=>{R()}},[n.pauseOnFocusLoss]);function w(){document.hasFocus()||O(),window.addEventListener("focus",j),window.addEventListener("blur",O)}function R(){window.removeEventListener("focus",j),window.removeEventListener("blur",O)}function P(C){if(n.draggable===!0||n.draggable===C.pointerType){b();let x=a.current;u.canCloseOnClick=!0,u.canDrag=!0,x.style.transition="none",n.draggableDirection==="x"?(u.start=C.clientX,u.removalDistance=x.offsetWidth*(n.draggablePercent/100)):(u.start=C.clientY,u.removalDistance=x.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function L(C){let{top:x,bottom:k,left:V,right:F}=a.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&n.pauseOnHover&&C.clientX>=V&&C.clientX<=F&&C.clientY>=x&&C.clientY<=k?O():j()}function j(){t(!0)}function O(){t(!1)}function b(){u.didMove=!1,document.addEventListener("pointermove",K),document.addEventListener("pointerup",J)}function $(){document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",J)}function K(C){let x=a.current;if(u.canDrag&&x){u.didMove=!0,e&&O(),n.draggableDirection==="x"?u.delta=C.clientX-u.start:u.delta=C.clientY-u.start,u.start!==C.clientX&&(u.canCloseOnClick=!1);let k=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;x.style.transform=`translate3d(${k},0)`,x.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function J(){$();let C=a.current;if(u.canDrag&&u.didMove&&C){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let se={onPointerDown:P,onPointerUp:L};return h&&f&&(se.onMouseEnter=O,n.stacked||(se.onMouseLeave=j)),A&&(se.onClick=C=>{v&&v(C),u.canCloseOnClick&&g(!0)}),{playToast:j,pauseToast:O,isRunning:e,preventExitTransition:s,toastRef:a,eventHandlers:se}}var yb=typeof window<"u"?S.useLayoutEffect:S.useEffect,Gd=({theme:n,type:e,isLoading:t,...s})=>ke.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function _b(n){return ke.createElement(Gd,{...n},ke.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function vb(n){return ke.createElement(Gd,{...n},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Eb(n){return ke.createElement(Gd,{...n},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function wb(n){return ke.createElement(Gd,{...n},ke.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Tb(){return ke.createElement("div",{className:"Toastify__spinner"})}var $p={info:vb,warning:_b,success:Eb,error:wb,spinner:Tb},Ab=n=>n in $p;function Ib({theme:n,type:e,isLoading:t,icon:s}){let o=null,a={theme:n,type:e};return s===!1||(us(s)?o=s({...a,isLoading:t}):S.isValidElement(s)?o=S.cloneElement(s,a):t?o=$p.spinner():Ab(e)&&(o=$p[e](a))),o}var xb=n=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:a}=gb(n),{closeButton:u,children:h,autoClose:f,onClick:g,type:v,hideProgressBar:A,closeToast:w,transition:R,position:P,className:L,style:j,progressClassName:O,updateId:b,role:$,progress:K,rtl:J,toastId:se,deleteToast:C,isIn:x,isLoading:k,closeOnClick:V,theme:F,ariaLabel:B}=n,D=Hi("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":J},{"Toastify__toast--close-on-click":V}),Ne=us(L)?L({rtl:J,position:P,type:v,defaultClassName:D}):Hi(D,L),$e=Ib(n),Ye=!!K||!f,Pe={closeToast:w,type:v,theme:F},te=null;return u===!1||(us(u)?te=u(Pe):S.isValidElement(u)?te=S.cloneElement(u,Pe):te=eb(Pe)),ke.createElement(R,{isIn:x,done:C,position:P,preventExitTransition:t,nodeRef:s,playToast:a},ke.createElement("div",{id:se,tabIndex:0,onClick:g,"data-in":x,className:Ne,...o,style:j,ref:s,...x&&{role:$,"aria-label":B}},$e!=null&&ke.createElement("div",{className:Hi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},$e),d0(h,n,!e),te,!n.customProgressBar&&ke.createElement(tb,{...b&&!Ye?{key:`p-${b}`}:{},rtl:J,theme:F,delay:f,isRunning:e,isIn:x,closeToast:w,hide:A,type:v,className:O,controlledProgress:Ye,progress:K||0})))},Sb=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),Cb=ZN(Sb("bounce",!0)),Rb={position:"top-right",transition:Cb,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Pa(n){let e={...Rb,...n},t=n.stacked,[s,o]=S.useState(!0),a=S.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=mb(e),{className:g,style:v,rtl:A,containerId:w,hotKeys:R}=e;function P(j){let O=Hi("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":A});return us(g)?g({position:j,rtl:A,defaultClassName:O}):Hi(O,Up(g))}function L(){t&&(o(!0),xe.play())}return yb(()=>{var j;if(t){let O=a.current.querySelectorAll('[data-in="true"]'),b=12,$=(j=e.position)==null?void 0:j.includes("top"),K=0,J=0;Array.from(O).reverse().forEach((se,C)=>{let x=se;x.classList.add("Toastify__toast--stacked"),C>0&&(x.dataset.collapsed=`${s}`),x.dataset.pos||(x.dataset.pos=$?"top":"bot");let k=K*(s?.2:1)+(s?0:b*C);x.style.setProperty("--y",`${$?k:k*-1}px`),x.style.setProperty("--g",`${b}`),x.style.setProperty("--s",`${1-(s?J:0)}`),K+=x.offsetHeight,J+=.025})}},[s,f,t]),S.useEffect(()=>{function j(O){var b;let $=a.current;R(O)&&((b=$.querySelector('[tabIndex="0"]'))==null||b.focus(),o(!1),xe.pause()),O.key==="Escape"&&(document.activeElement===$||$!=null&&$.contains(document.activeElement))&&(o(!0),xe.play())}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[R]),ke.createElement("section",{ref:a,className:"Toastify",id:w,onMouseEnter:()=>{t&&(o(!1),xe.pause())},onMouseLeave:L,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((j,O)=>{let b=O.length?{...v}:{...v,pointerEvents:"none"};return ke.createElement("div",{tabIndex:-1,className:P(j),"data-stacked":t,style:b,key:`c-${j}`},O.map(({content:$,props:K})=>ke.createElement(xb,{...K,stacked:t,collapseAll:L,isIn:h(K.toastId,K.containerId),key:`t-${K.key}`},$)))}))}const kb=()=>{const[n,e]=S.useState({name:"",email:"",role:"",password:"",address:"",mobileno:""}),t=In(),[s,o]=S.useState(""),a=S.useContext(pn),u=g=>{const{name:v,value:A}=g.target;e(w=>({...w,[v]:A})),o(w=>{let R={...w};if(v==="password"){const P=/[!@#$%&*]/.test(A),L=/[A-Z]/.test(A);A.length>=8?L?P?delete R.password:R.password="* Password must be contain a special character.":R.password="* Password must contain at least 1 capital letter":R.password="* Password should be 8 charcters or above"}else v=="mobileno"?A.length>=10?delete R.mobileno:R.mobileno="* Mobile number should be equal to 10 characters":A.trim()!==" "&&delete R[v];return R})},h=async g=>{var v;g.preventDefault();try{if(!((v=a.allusers)==null?void 0:v.every(P=>P.email!==n.email))){xe.error("Email Already Exists! Please Use Different Email",{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});return}const w=await zT(ss,n.email,n.password),R={...n,createdAt:new Date};w&&(xe.success("✅ Registered succesfully!",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"}),await ro(dt(We,"Users",w.user.uid),R),ss.signOut(),t("/login")),e({name:"",email:"",role:"",password:"",address:"",mobileno:""})}catch(A){xe.error("❌ Error in registering user!",{position:"top-left",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),console.error("Error in storing user",A)}},f=()=>{t("/login")};return p.jsxs(p.Fragment,{children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsx("title",{children:"Register yourself"})})}),p.jsxs("div",{className:"main",children:[p.jsx("div",{className:"regform",children:p.jsxs("form",{onSubmit:h,children:[p.jsxs("div",{children:[" ",p.jsx("div",{className:"card-header bg-primary text-white text-center",children:p.jsx("h3",{children:"Register Here"})}),p.jsx("br",{})]}),p.jsxs("div",{className:"form-group gap",children:[p.jsx("label",{htmlFor:"formGroupExampleInput",children:"UserName"}),p.jsx("input",{name:"name",type:"text",value:n.name,className:"form-control",id:"formGroupExampleInput",placeholder:"Enter Your Name",onChange:g=>u(g),required:!0})]}),p.jsxs("div",{className:"form-group gap",children:[p.jsx("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),p.jsx("input",{type:"email",name:"email",value:n.email,className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Your email",onChange:g=>u(g),required:!0}),p.jsx("small",{id:"emailHelp",className:"form-text text-muted",children:"Well never share your email with anyone else."})]}),p.jsxs("div",{className:"dropdown",children:[p.jsxs("select",{className:"btn btn-secondary dropdown-toggle",type:"button",name:"role",value:n.role,id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onChange:g=>u(g),children:[p.jsx("option",{className:"dropdown-item",type:"button",value:"",disabled:!0,children:"--Select--"}),p.jsx("option",{className:"dropdown-item",value:"admin",type:"button",children:"admin"}),p.jsx("option",{className:"dropdown-item",value:"user",type:"button",children:"user"})]}),s&&p.jsx("div",{className:"text-red-600 font-bold text-base",children:s.role})]}),p.jsxs("div",{className:"form-group gap",children:[p.jsx("label",{htmlFor:"exampleInputPassword1",children:"Password"}),p.jsx("input",{type:"password",name:"password",value:n.password,className:"form-control",id:"exampleInputPassword1",placeholder:"Enter Your Password",onChange:g=>u(g),required:!0}),s&&p.jsx("div",{className:"text-red-600 font-bold text-base",children:s.password})]}),p.jsxs("div",{className:"form-group gap",children:[p.jsx("label",{htmlFor:"exampleFormControlTextarea1",children:"Address"}),p.jsx("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"5",name:"address",value:n.address,onChange:g=>u(g),required:!0})]}),p.jsxs("div",{"data-mdb-input-init":!0,className:"form-outline gap",children:[p.jsx("label",{className:"form-label",htmlFor:"typePhone",children:"Phone number"}),p.jsx("input",{type:"tel",id:"typePhone",className:"form-control",name:"mobileno",value:n.mobileno,onChange:g=>u(g),required:!0}),s&&p.jsx("div",{className:"text-red-600 font-bold text-base",children:s.mobileno})]}),p.jsxs("div",{className:"gap submitbutton",children:[p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Register"}),p.jsx("br",{}),p.jsxs("span",{children:["Already Registered,"," ",p.jsx("b",{children:p.jsx("span",{onClick:f,style:{cursor:"pointer",color:"black"},children:"Login"})})," "," here"]})]})]})}),p.jsx(Pa,{})]})]})},Zf=()=>{const[n,e]=S.useState({email:"",password:""}),t=In(),s=S.useContext(pn),o=g=>{e(v=>({...v,[g.target.name]:g.target.value}))},a=async g=>{var v;s&&(g.preventDefault(),((v=s.allusers)==null?void 0:v.find(w=>w.email==n.email&&w.password==n.password))?(xe.success("✅ Logged in succesfully!",{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),await $T(ss,n.email,n.password),t("/home")):xe.error("❌ Incorrect Password or Email!",{position:"top-left",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}))},u=()=>{t("/register")},h=new Jr,f=async()=>{var g,v,A;try{const w=await _P(ss,h),R={email:(g=w.user)==null?void 0:g.email,name:(v=w.user)==null?void 0:v.displayName,role:"user"};((A=s.allusers)==null?void 0:A.find(L=>{var j;return L.email!==((j=w.user)==null?void 0:j.email)}))&&await ro(dt(We,"Users",w==null?void 0:w.user.uid),R),t("/home")}catch(w){console.error("Error in google login",w)}};return p.jsxs(p.Fragment,{children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsx("title",{children:"Enter Your email & password"})})}),p.jsxs("div",{className:"main1",children:[p.jsx("div",{className:"regform1",children:p.jsxs("form",{className:"loginform",onSubmit:a,children:[p.jsxs("div",{className:"form-group gap",children:[p.jsx("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),p.jsx("input",{type:"email",name:"email",value:n.email,className:"form-control",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:"Enter Your email",onChange:g=>o(g),required:!0})]}),p.jsxs("div",{className:"form-group gap",children:[p.jsx("label",{htmlFor:"exampleInputPassword1",children:"Password"}),p.jsx("input",{type:"password",name:"password",value:n.password,className:"form-control",id:"exampleInputPassword",placeholder:"Enter Your Password",onChange:g=>o(g),required:!0})]}),p.jsxs("div",{className:"gap submitbutton1",children:[p.jsx("button",{type:"submit",className:"btn btn-primary ",children:"Login"}),p.jsx("br",{}),p.jsxs("span",{children:["Not registred,",p.jsx("b",{children:p.jsxs("span",{onClick:u,style:{cursor:"Pointer"},children:["Register"," "]})}),"here or"," "]})]}),p.jsxs("div",{className:"googlelogin",children:["Login With"," ",p.jsxs("span",{style:{cursor:"pointer"},onClick:f,children:[" ",p.jsx("b",{children:"Google"})," "]})]})]})}),p.jsx(Pa,{})]})]})},Pb="/FootWorld/assets/Sneaker-BjzVJcC0.jpg",fr=()=>{var h,f,g,v,A;const[n,e]=S.useState(""),t=In(),s=()=>{ss.signOut(),t("/login")},o=w=>{w.preventDefault(),n.trim()&&t(`/search?Query=${n}`)},a=w=>{const R=w.target.value;e(R),setTimeout(()=>{R.trim()&&t(`/search?Query=${R}`)},600)},u=S.useContext(pn);return p.jsx(p.Fragment,{children:p.jsxs("nav",{className:"navbar navbar-expand-lg sticky-top nav1",children:[p.jsx(lt,{to:"/home",className:"navbar-brand logo",children:p.jsx("img",{src:Pb,alt:""})}),p.jsx("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:p.jsx("span",{className:"navbar-toggler-icon"})}),p.jsxs("div",{className:" navbar-collapse",id:"navbarNav",children:[p.jsxs("ul",{className:"navbar-nav ulweight",children:[p.jsx(lt,{to:"/home",className:"nav-link",title:"Go To Home",children:p.jsx("li",{className:"nav-item active",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"27px",viewBox:"0 -960 960 960",width:"27px",fill:"#000",children:p.jsx("path",{d:"M160-120v-480l320-240 320 240v480H560v-280H400v280H160Z"})})})}),p.jsx(lt,{to:"/profile",className:"nav-link",title:"Go To Profile",children:p.jsx("li",{className:"nav-item",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"27px",viewBox:"0 -960 960 960",width:"27px",fill:"#01",children:p.jsx("path",{d:"M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Z"})})})}),p.jsx(lt,{to:"/about",className:"nav-link",title:"Know Us",children:p.jsx("li",{className:"nav-item",children:"About Us"})}),((h=u.currentuserfulldetail)==null?void 0:h.role)=="admin"&&p.jsx(lt,{to:"/addproducts",className:"nav-link",title:"Add New",children:p.jsx("li",{className:"nav-item",children:"Add Product"})}),((f=u.currentuserfulldetail)==null?void 0:f.role)=="admin"&&p.jsx(lt,{to:"/user",className:"nav-link",title:"Check Users",children:p.jsx("li",{className:"nav-item",children:"Users"})}),((g=u.currentuserfulldetail)==null?void 0:g.role)=="user"&&p.jsx(lt,{to:"/allproducts",className:"nav-link ",title:"Shop Now",children:p.jsx("li",{className:"nav-item",children:"AllProducts"})}),((v=u.currentuserfulldetail)==null?void 0:v.role)=="user"&&p.jsx(lt,{to:"/cart",className:"nav-link",title:"Cart",children:p.jsxs("li",{className:"nav-item",children:["Cart"," ",p.jsx("i",{className:"fa-solid fa-cart-plus"})]})}),((A=u.currentuserfulldetail)==null?void 0:A.role)=="user"&&p.jsx(lt,{to:"/orderhistory",className:"nav-link",title:"See Your Order",children:p.jsx("li",{className:"nav-item",children:"Orderhistory"})}),p.jsx("li",{className:"nav-item",onClick:s,title:"Logout",children:p.jsxs("a",{className:"nav-link ",href:"#",children:[p.jsx("i",{className:"fa-solid fa-sign-out-alt"})," "," Logout"]})})]}),p.jsx("div",{className:"searchbar",children:p.jsxs("form",{className:"form-inline my-2 my-lg-0 searchform",onSubmit:o,children:[p.jsx("input",{className:"form-control mr-sm-2 searchbox",type:"search",placeholder:"Search","aria-label":"Search",name:"search",value:n,onChange:w=>a(w)}),p.jsx("button",{className:"btn  my-2 my-sm-0 searchbutton",type:"submit",children:"Search"})]})})]})]})})},Xm="/FootWorld/assets/download-CKJRlY3c.jpg",Na=()=>p.jsx(p.Fragment,{children:p.jsx("div",{className:"container5",children:p.jsxs("footer",{className:"py-5",children:[p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"col-6 col-md-2 mb-3",children:[p.jsx("h5",{className:"headerfont",children:"Social World"}),p.jsxs("ul",{className:"nav flex-column size",children:[p.jsx("li",{className:"nav-item mb-2",children:p.jsxs(lt,{href:"#",className:"nav-link p-0 text-muted",children:[p.jsx("i",{className:"fa-brands fa-instagram"})," "," ",p.jsx("b",{children:"Instagram"})]})}),p.jsx("li",{className:"nav-item mb-2",children:p.jsxs(lt,{href:"#",className:"nav-link p-0 text-muted",children:[p.jsx("i",{className:"fa-brands fa-square-facebook"})," "," ",p.jsx("b",{children:"Facebook"})]})}),p.jsx("li",{className:"nav-item mb-2",children:p.jsxs(lt,{href:"#",className:"nav-link p-0 text-muted",children:[p.jsx("i",{className:"fa-brands fa-x-twitter"})," "," ",p.jsx("b",{children:"X(Twitter)"})]})}),p.jsx("li",{className:"nav-item mb-2",children:p.jsxs(lt,{href:"#",className:"nav-link p-0 text-muted",children:[p.jsx("i",{className:"fa-brands fa-whatsapp"})," "," ",p.jsx("b",{children:"Whatsapp"})]})})]})]}),p.jsxs("div",{className:"col-6 col-md-2 mb-3",children:[p.jsx("h5",{className:"headerfont",children:"Quick Links"}),p.jsxs("ul",{className:"nav flex-column",children:[p.jsx("li",{className:"nav-item mb-2",children:p.jsx(lt,{href:"#",className:"nav-link p-0 text-muted",children:"Your Account"})}),p.jsx("li",{className:"nav-item mb-2",children:p.jsx(lt,{to:"/home",className:"nav-link p-0 text-muted",children:"Home"})}),p.jsx("li",{className:"nav-item mb-2",children:p.jsx(lt,{to:"/about",className:"nav-link p-0 text-muted",children:"About Us"})}),p.jsx("li",{className:"nav-item mb-2",children:p.jsx(lt,{to:"/allproducts",className:"nav-link p-0 text-muted",children:"Products"})}),p.jsx("li",{className:"nav-item mb-2",children:p.jsx(lt,{to:"/home",className:"nav-link p-0 text-muted",children:"Connect With Us"})})]})]}),p.jsxs("div",{className:"col-6 col-md-2 mb-3",children:[p.jsx("h5",{className:"headerfont",children:"Contact Info"}),p.jsxs("ul",{className:"nav flex-column",children:[p.jsx("li",{className:"nav-item mb-2",children:p.jsxs(lt,{href:"#",className:"nav-link p-0 text-muted",children:[p.jsx("i",{className:"fa-solid fa-phone"}),"  ",p.jsx("b",{children:"Phone:"}),p.jsx("br",{})," "," 9685741235"]})}),p.jsx("li",{className:"nav-item mb-2",children:p.jsxs(lt,{href:"#",className:"nav-link p-0 text-muted",children:[p.jsx("i",{className:"fa-solid fa-envelope"})," ",p.jsx("b",{children:"Email:"})," "," support@footworld.com"]})}),p.jsx("li",{className:"nav-item mb-2",children:p.jsxs(lt,{href:"#",className:"nav-link p-0 text-muted",children:[p.jsx("i",{className:"fa-solid fa-location-dot"})," ",p.jsx("b",{children:"Address:"}),p.jsx("br",{})," ","varal,Bhvanagar,",p.jsx("br",{}),"394260"]})})]})]}),p.jsx("div",{className:"col-md-5 offset-md-1 mb-3",children:p.jsxs("form",{children:[p.jsx("h5",{className:"headerfont",children:"Connect With Us"}),p.jsxs("div",{className:"d-flex flex-column flex-sm-row w-100 gap-2",children:[p.jsx("label",{htmlFor:"newsletter1",className:"visually-hidden",children:"Email address"}),p.jsx("input",{id:"newsletter1",type:"text",className:"form-control",placeholder:"Email address"}),p.jsx("button",{className:"btn btn-primary",type:"button",children:"Send"})]})]})})]}),p.jsxs("div",{className:"col-md-4 d-flex align-items-center",style:{height:"5px"},children:[p.jsx(lt,{href:"/",className:"mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1",children:p.jsx("svg",{className:"bi",width:"30",height:"24"})}),p.jsx("span",{className:"mb-3 mb-md-0 text-muted fonttext",children:"© 2025 Footworld, Inc"})]})]})})}),ba=S.createContext(),y0=({children:n})=>{const[e,t]=S.useState(!0),[s,o]=S.useState([]),a=S.useContext(pn);return S.useEffect(()=>{var u;if(a!=null&&a.cuser){t(!0);const h=dt(We,"Cart",(u=a.cuser)==null?void 0:u.uid),f=Ra(h,g=>{var v;if(g.exists()){const A=(v=g==null?void 0:g.data())==null?void 0:v.items;o(A)}else o([]);return t(!1),()=>f()},g=>{console.error("Error in getting cart detail",g),o([]),t(!1)})}else o([]),t(!1)},[a]),p.jsx(p.Fragment,{children:e?p.jsx("div",{className:"spinner",children:p.jsx(Hd,{size:50,color:"black",loading:e})}):p.jsx(ba.Provider,{value:{cartitem:s,setCartitem:o},children:n})})};y0.propTypes={children:Sr.node.isRequired};const Qd=S.createContext(),_0=({children:n})=>{const[e,t]=S.useState(),[s,o]=S.useState();return S.useEffect(()=>{try{t(!0);const a=Ra(br(We,"Products"),u=>{const h=u.docs.map(f=>({id:f.id,...f.data()}));o(h)});return()=>a()}catch(a){console.error("Error in getting products",a)}finally{t(!1)}},[]),p.jsx(p.Fragment,{children:e?p.jsx("div",{className:"spinner",children:p.jsx(Hd,{size:50,color:"black",loading:e})}):p.jsx(Qd.Provider,{value:{products:s,setProducts:o},children:n})})};_0.propTypes={children:Sr.node.isRequired};const Yd=({intialquantity:n,productid:e,onQuantityChange:t,resetTrigger:s})=>{const[o,a]=S.useState(n||1),u=h=>{const f=Number(h.target.value);a(f),t(e,f)};return S.useEffect(()=>{a(1)},[s]),p.jsx(p.Fragment,{children:p.jsxs("div",{className:"sliderdiv",children:[p.jsxs("p",{className:"text-lg font-semibold",children:["Quantity: ",o]}),p.jsx("input",{title:"Slide to increase quantity",type:"range",min:"1",max:"50",value:o,onChange:u,className:"cursor-pointer slider"})]})})};Yd.propTypes={intialquantity:Sr.string,productid:Sr.string.isRequired,onQuantityChange:Sr.func.isRequired,resetTrigger:Sr.number.isRequired};const Vc=()=>{var R,P;const[n,e]=S.useState({}),[t,s]=S.useState(0),o=In(),a=S.useContext(pn),u=S.useContext(ba),h=S.useContext(Qd),f=(L,j)=>{e(O=>({...O,[L]:j}))},g=async L=>{var O,b;const j=n[L.id]||1;try{if((u==null?void 0:u.cartitem.length)>0)if((O=u.cartitem)==null?void 0:O.find(K=>K.productid==L.id)){const K=(b=u.cartitem)==null?void 0:b.map(J=>J.productid==L.id?{...J,quantity:J.quantity=j}:J);await Un(dt(We,"Cart",a.cuser.uid),{items:K}),s(J=>J+1),xe.success(`${L.productname} Already Present In Cart`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}else{const K={productid:L.id,quantity:j,price:L.price,createdAt:new Date};await Un(dt(We,"Cart",a.cuser.uid),{items:Bd(K)}),s(J=>J+1),xe.success(`${L.productname} added to cart`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}else{const $={productid:L.id,quantity:j,price:L.price,createdAt:new Date};await ro(dt(We,"Cart",a.cuser.uid),{items:[$]}),s(K=>K+1),xe.success(`${L.productname} added to cart`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}}catch($){console.error("Error in adding cart",$)}},v=L=>{o("/addproducts",{state:{productfulldetail:L}})},A=L=>{o(`/productdetail/${L}`)},w=()=>{o("/allproducts")};return p.jsxs(p.Fragment,{children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsx("title",{children:"Welvome to footworld"})})}),p.jsxs("div",{className:"page",children:[p.jsx(fr,{}),p.jsx("div",{className:"backimage",children:p.jsxs("div",{className:"welcomemessage",children:[p.jsx("h1",{children:"Welcome To World Of Footwear"}),((R=a.currentuserfulldetail)==null?void 0:R.role)=="user"&&p.jsxs("h5",{children:["Start Your Journey!!",p.jsx("span",{children:p.jsx("button",{className:"welcomebutton",onClick:w,children:"Shop now"})})," "]})]})}),p.jsxs("div",{className:"cardcontainer",children:[p.jsx("div",{className:"alltext",children:p.jsx("h1",{children:"Newly Added Products"})}),p.jsx("div",{className:"container",children:(P=h.products)==null?void 0:P.slice(0,4).map((L,j)=>{var O,b,$;return p.jsxs("div",{className:"card cd1",style:{width:"18rem"},children:[p.jsx("div",{className:"img5",children:p.jsx("img",{className:"card-img-top img1",src:Xm,alt:"Card image cap",onClick:()=>A(L.id)})}),p.jsxs("div",{className:"card-body cdbody",children:[p.jsxs("h5",{className:"card-title",children:[L.productname," "]}),p.jsx("p",{className:"card-text",children:L.description})]}),p.jsxs("ul",{className:"list-group list-group-flush",children:[p.jsxs("li",{className:"list-group-item",children:["Category: ",L.category]}),p.jsxs("li",{className:"list-group-item",children:["Price: ",L.price]}),p.jsxs("li",{className:"list-group-item",children:["Stock: ",L.stock]}),((O=a.currentuserfulldetail)==null?void 0:O.role)=="user"&&p.jsx("li",{className:"list-group-item quantity",children:p.jsx(Yd,{productid:L.id,onQuantityChange:f,resetTrigger:t})}),((b=a.currentuserfulldetail)==null?void 0:b.role)=="user"&&p.jsx("li",{role:"button",className:"list-group-item addcart button",onClick:()=>g(L),style:{borderRadius:"0px 0px 15px 15px"},children:"Add To Cart"}),(($=a.currentuserfulldetail)==null?void 0:$.role)=="admin"&&p.jsx("li",{className:"list-group-item addcart button",onClick:()=>v(L),style:{borderRadius:"0px 0px 15px 15px"},role:"button",children:"Edit"})]})]},j)})}),p.jsx(Na,{}),p.jsx(Pa,{})]})]})]})},Nb="/FootWorld/assets/cart-BXxYU57T.png",bb=()=>{var j;const n=In(),[e,t]=S.useState(0),[s,o]=S.useState([]),[a,u]=S.useState([]),[h,f]=S.useState(0),g=S.useContext(ba),v=S.useContext(pn);S.useEffect(()=>{var O;try{const b=((O=g.cartitem)==null?void 0:O.map(J=>J.productid))||[];if(b.length===0){u([]);return}const $=[];for(let J=0;J<b.length;J+=10)$.push(b.slice(J,J+10));const K=$.map(J=>{const se=Ea(br(We,"Products"),qi(Rm(),"in",J));return Ra(se,C=>{const x=C.docs.map(k=>({id:k.id,...k.data()}));u([...x])})});return()=>K.forEach(J=>J())}catch(b){console.error("Error in getting full cart detail",b)}},[g.cartitem]),S.useEffect(()=>{if(a.length>0){const O=g==null?void 0:g.cartitem.map(b=>{const $=a.find(K=>K.id===b.productid);if($)return{...$,quantity:b.quantity}});o(O)}},[a]),S.useEffect(()=>{let O=0;s==null||s.map(b=>O+=b.quantity*b.price),t(O)},[s]);const A=()=>{n("/allproducts")},w=async O=>{var b;try{const $=(b=g.cartitem)==null?void 0:b.find(K=>K.productid===O.id);await Un(dt(We,"Cart",v.cuser.uid),{items:ZR($)}),xe.success(`${O.productname} Removed from cart`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}catch($){console.error("Error in removing cart",$)}},R=async()=>{try{if(s==null?void 0:s.every(b=>b.quantity<=b.stock)){for(const K of s){const J=K.stock-K.quantity;await Un(dt(We,"Products",K.id),{stock:J}),await Fd(dt(We,"Cart",v==null?void 0:v.cuser.uid))}const b={cartitem:g.cartitem,totalAmount:e,createdAt:new Date,orderStatus:"confirmed",Userid:v.cuser.uid},$=await _T(br(We,"Orders"),b);t(0),f(K=>K+1),n("/ordersuccess",{state:{orderid:$.id}})}else{const $=(s==null?void 0:s.filter(K=>K.quantity>K.stock)).map(K=>K.productname);xe.success(`${$.join()}'s quantity not available`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}}catch(O){console.error("Error in Buy Order",O)}},P=()=>{n("/allproducts")},L=async(O,b)=>{var K;const $=(K=g.cartitem)==null?void 0:K.map(J=>J.productid===O?{...J,quantity:b}:J);await Un(dt(We,"Cart",v.cuser.uid),{items:$})};return p.jsxs(p.Fragment,{children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsx("title",{children:"Cart"})})}),p.jsxs("div",{className:"allcart",children:[p.jsx(fr,{}),((j=g==null?void 0:g.cartitem)==null?void 0:j.length)>0?p.jsx("div",{className:"table",children:p.jsxs("table",{children:[p.jsxs("thead",{children:[p.jsxs("tr",{children:[p.jsx("th",{colSpan:"2",style:{fontSize:"40px"},children:"Your Cart"}),p.jsxs("th",{colSpan:"2",children:["Total amount :  ",p.jsx("br",{}),"  ₹ ",e]}),p.jsx("th",{style:{width:"120px"},children:p.jsx("button",{className:"qntbutton1",onClick:A,children:"Shop more"})}),p.jsx("th",{style:{width:"120px"},children:p.jsx("button",{className:"qntbutton1",onClick:R,children:"Buy Now"})})]}),p.jsxs("tr",{children:[p.jsx("th",{children:"Name"}),p.jsx("th",{children:"Description"}),p.jsx("th",{children:"Category"}),p.jsx("th",{children:"Price"}),p.jsx("th",{children:"Quantity"}),p.jsx("th",{children:"Action"})]})]}),p.jsx("tbody",{children:s==null?void 0:s.map((O,b)=>p.jsxs("tr",{children:[p.jsx("th",{children:O.productname}),p.jsx("td",{children:O.description}),p.jsx("td",{children:O.category}),p.jsx("td",{children:O.price}),p.jsx("td",{className:"slide",children:p.jsx(Yd,{productid:O.id,onQuantityChange:L,intialquantity:O.quantity,resetTrigger:h})}),p.jsx("td",{children:p.jsx("button",{title:"Remove from cart",className:"",onClick:()=>w(O),children:p.jsx("svg",{className:"deletesvg",xmlns:"http://www.w3.org/2000/svg",height:"40px",viewBox:"0 -960 960 960",width:"40px",fill:"#ff0000",children:p.jsx("path",{d:"m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})})})})]},b))})]})}):p.jsxs("div",{className:"empty-cart",children:[p.jsx("img",{src:Nb,alt:"Empty Cart",className:"empty-cart-image"}),p.jsx("h1",{children:"Your Cart is Empty"}),p.jsx("p",{children:"Looks like you havent added anything to your cart yet."}),p.jsx("button",{className:"shop-now-button",onClick:P,children:"Shop Now"})]})]}),p.jsx(Pa,{})]})},nE=()=>{const[n,e]=S.useState(1),[t,s]=S.useState(),{id:o}=wI(),a=In(),u=S.useContext(ba),h=S.useContext(pn);S.useEffect(()=>{try{const w=Ea(br(We,"Products"),qi(Rm(),"==",o)),R=Ra(w,P=>{var j;const L=(j=P.docs)==null?void 0:j.map(O=>({id:P.id,...O.data()}));s(L)});return()=>R()}catch(w){console.error("Error in accesing data",w)}},[]);const f=()=>{const w=n+1||1;e(w)},g=()=>{const w=n-1||1;w>0&&e(w)},v=async w=>{var R,P;if(u.cartitem.length>0)if((R=u.cartitem)==null?void 0:R.find(j=>j.productid==w.id)){const j=(P=u.cartitem)==null?void 0:P.map(O=>O.productid==w.id?{...O,quantity:O.quantity=n}:O);await Un(dt(We,"Cart",h.cuser.uid),{items:j}),a("/cart")}else await Un(dt(We,"Cart",h.cuser.uid),{items:Bd({productid:w.id,price:w.price,quantity:n,createdAt:new Date})}),a("/cart");else await ro(dt(We,"Cart",h.cuser.uid),{items:[{productid:w.id,price:w.price,quantity:n,createdAt:new Date}]}),a("/cart")},A=w=>{a("/addproducts",{state:{productfulldetail:w}})};return p.jsxs(p.Fragment,{children:[p.jsx(fr,{}),p.jsxs("div",{className:"cnt",children:[p.jsx("div",{className:"img",children:p.jsx("img",{src:Xm,alt:""})}),t==null?void 0:t.map((w,R)=>{var P,L;return p.jsxs("div",{className:"detail1",children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsxs("title",{children:[w.productname," Detail"]})})}),p.jsx("h1",{children:w.productname}),p.jsx("h5",{children:w.description}),p.jsxs("h5",{children:["Available items:",""," ",w.stock]}),p.jsxs("h5",{children:["Price:",""," ",w.price]}),p.jsxs("h5",{children:["Category:",""," ",w.category]}),p.jsxs("p",{children:[p.jsx("button",{className:"qntbutton",onClick:g,children:"-"})," ",n||1," ",p.jsx("button",{className:"qntbutton",onClick:f,children:"+"})]}),((P=h.currentuserfulldetail)==null?void 0:P.role)=="user"&&p.jsx("p",{children:p.jsx("button",{className:"qntbutton",onClick:()=>v(w),children:"Add to cart"})}),((L=h.currentuserfulldetail)==null?void 0:L.role)=="admin"&&p.jsx("p",{children:p.jsx("button",{className:"qntbutton",onClick:()=>A(w),children:"Edit"})})]},R)})]}),p.jsx(Na,{})]})},rE=()=>p.jsxs(p.Fragment,{children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsx("title",{children:"Know more about us..."})})}),p.jsxs("div",{className:"aboutall",children:[p.jsx(fr,{}),p.jsx("h2",{className:"h2",children:" About My Compony"}),p.jsx("div",{className:"information",children:p.jsxs("div",{className:"info",children:[p.jsx("h3",{children:"History"}),p.jsx("blockquote",{children:"The company was founded by Adolf Dassler after a fallout with his brother Rudolf Dassler, who later went on to create Puma.The name Adidas comes from a combination of the founders nickname Adi and the first three letters of his last name Dassler. Adidas gained popularity in 1954 when the German national football team won the FIFA World Cup wearing Adidas cleats with screw-in studs.It became a global sportswear leader by innovating designs and collaborating with athletes and celebrities."}),p.jsx("h3",{children:"Products"}),p.jsxs("blockquote",{children:["Footwear: Running shoes, casual sneakers, and performance shoes for sports like football, basketball, and tennis. Iconic lines include:",p.jsxs("ul",{children:[p.jsx("li",{children:"Adidas Originals (e.g., Stan Smith, Superstar)"}),p.jsx("li",{children:"Ultraboost"}),p.jsxs("li",{children:[" ","Yeezy (in collaboration with Kanye West, though the partnership ended in 2022)."]})]})]}),p.jsx("h3",{children:"Brand Identity"}),p.jsx("blockquote",{children:p.jsxs("ol",{children:[p.jsxs("li",{children:[p.jsx("b",{children:"Logo:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"he original Trefoil logo (introduced in 1972) is used for the Adidas Originals line.z"}),p.jsx("li",{children:"The Three Stripes logo is now the primary design across its products."})]})]}),p.jsxs("li",{children:[p.jsx("b",{children:"Slogan"}),p.jsx("ul",{children:p.jsxs("li",{children:["Famous tagline: ",p.jsx("b",{children:" Nothing Is Impossible"})]})})]})]})}),p.jsx("h3",{children:"Collaborations and Influence"}),p.jsx("blockquote",{children:p.jsxs("ol",{children:[p.jsxs("li",{children:[p.jsx("b",{children:"Celebrity Collaborations:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Kanye West (Yeezy brand, partnership ended in 2022)."}),p.jsx("li",{children:"Beyoncé (Ivy Park collaboration)"}),p.jsx("li",{children:"Pharrell Williams (Human Race collection)."})]})]}),p.jsxs("li",{children:[p.jsx("b",{children:"Sports Sponsorships:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Adidas sponsors major teams and athletes in football, basketball, running, and more."}),p.jsxs("li",{children:[" ","Notable sponsorships include"," ",p.jsx("b",{children:"Real Madrid, Manchester United, "}),"and national teams like ",p.jsx("b",{children:"Germany."})]})]})]})]})})]})}),p.jsx(Na,{})]})]});var ep={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var sE;function Ob(){return sE||(sE=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(a=o(a,s(h)))}return a}function s(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var h in a)e.call(a,h)&&a[h]&&(u=o(u,h));return u}function o(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(ep)),ep.exports}var Db=Ob();const zn=Ji(Db);function jb(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)!==-1)continue;t[s]=n[s]}return t}function qp(n,e){return qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},qp(n,e)}function Lb(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,qp(n,e)}const Vb=["xxl","xl","lg","md","sm","xs"],Mb="xs",v0=S.createContext({prefixes:{},breakpoints:Vb,minBreakpoint:Mb});function so(n,e){const{prefixes:t}=S.useContext(v0);return n||t[e]||e}function Fb(){const{dir:n}=S.useContext(v0);return n==="rtl"}function Xd(n){return n&&n.ownerDocument||document}function Ub(n){var e=Xd(n);return e&&e.defaultView||window}function Bb(n,e){return Ub(n).getComputedStyle(n,e)}var zb=/([A-Z])/g;function $b(n){return n.replace(zb,"-$1").toLowerCase()}var qb=/^ms-/;function Mc(n){return $b(n).replace(qb,"-ms-")}var Hb=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Wb(n){return!!(n&&Hb.test(n))}function Wi(n,e){var t="",s="";if(typeof e=="string")return n.style.getPropertyValue(Mc(e))||Bb(n).getPropertyValue(Mc(e));Object.keys(e).forEach(function(o){var a=e[o];!a&&a!==0?n.style.removeProperty(Mc(o)):Wb(o)?s+=o+"("+a+") ":t+=Mc(o)+": "+a+";"}),s&&(t+="transform: "+s+";"),n.style.cssText+=";"+t}const iE={disabled:!1},E0=ke.createContext(null);var Kb=function(e){return e.scrollTop},jl="unmounted",Vi="exited",Fs="entering",Mi="entered",Hp="exiting",ds=function(n){Lb(e,n);function e(s,o){var a;a=n.call(this,s,o)||this;var u=o,h=u&&!u.isMounting?s.enter:s.appear,f;return a.appearStatus=null,s.in?h?(f=Vi,a.appearStatus=Fs):f=Mi:s.unmountOnExit||s.mountOnEnter?f=jl:f=Vi,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(o,a){var u=o.in;return u&&a.status===jl?{status:Vi}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var a=null;if(o!==this.props){var u=this.state.status;this.props.in?u!==Fs&&u!==Mi&&(a=Fs):(u===Fs||u===Mi)&&(a=Hp)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,a,u,h;return a=u=h=o,o!=null&&typeof o!="number"&&(a=o.exit,u=o.enter,h=o.appear!==void 0?o.appear:u),{exit:a,enter:u,appear:h}},t.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===Fs){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:na.findDOMNode(this);u&&Kb(u)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vi&&this.setState({status:jl})},t.performEnter=function(o){var a=this,u=this.props.enter,h=this.context?this.context.isMounting:o,f=this.props.nodeRef?[h]:[na.findDOMNode(this),h],g=f[0],v=f[1],A=this.getTimeouts(),w=h?A.appear:A.enter;if(!o&&!u||iE.disabled){this.safeSetState({status:Mi},function(){a.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:Fs},function(){a.props.onEntering(g,v),a.onTransitionEnd(w,function(){a.safeSetState({status:Mi},function(){a.props.onEntered(g,v)})})})},t.performExit=function(){var o=this,a=this.props.exit,u=this.getTimeouts(),h=this.props.nodeRef?void 0:na.findDOMNode(this);if(!a||iE.disabled){this.safeSetState({status:Vi},function(){o.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Hp},function(){o.props.onExiting(h),o.onTransitionEnd(u.exit,function(){o.safeSetState({status:Vi},function(){o.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},t.setNextCallback=function(o){var a=this,u=!0;return this.nextCallback=function(h){u&&(u=!1,a.nextCallback=null,o(h))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},t.onTransitionEnd=function(o,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:na.findDOMNode(this),h=o==null&&!this.props.addEndListener;if(!u||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],g=f[0],v=f[1];this.props.addEndListener(g,v)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===jl)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var h=jb(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ke.createElement(E0.Provider,{value:null},typeof u=="function"?u(o,h):ke.cloneElement(ke.Children.only(u),h))},e}(ke.Component);ds.contextType=E0;ds.propTypes={};function Qo(){}ds.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qo,onEntering:Qo,onEntered:Qo,onExit:Qo,onExiting:Qo,onExited:Qo};ds.UNMOUNTED=jl;ds.EXITED=Vi;ds.ENTERING=Fs;ds.ENTERED=Mi;ds.EXITING=Hp;function Gb(n){return n.code==="Escape"||n.keyCode===27}function Qb(){const n=S.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Jd(n){if(!n||typeof n=="function")return null;const{major:e}=Qb();return e>=19?n.props.ref:n.ref}const Oa=!!(typeof window<"u"&&window.document&&window.document.createElement);var Wp=!1,Kp=!1;try{var tp={get passive(){return Wp=!0},get once(){return Kp=Wp=!0}};Oa&&(window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,!0))}catch{}function w0(n,e,t,s){if(s&&typeof s!="boolean"&&!Kp){var o=s.once,a=s.capture,u=t;!Kp&&o&&(u=t.__once||function h(f){this.removeEventListener(e,h,a),t.call(this,f)},t.__once=u),n.addEventListener(e,u,Wp?s:a)}n.addEventListener(e,t,s)}function Gp(n,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;n.removeEventListener(e,t,o),t.__once&&n.removeEventListener(e,t.__once,o)}function _d(n,e,t,s){return w0(n,e,t,s),function(){Gp(n,e,t,s)}}function Yb(n,e,t,s){if(s===void 0&&(s=!0),n){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),n.dispatchEvent(o)}}function Xb(n){var e=Wi(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Jb(n,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||Yb(n,"transitionend",!0)},e+t),a=_d(n,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),a()}}function T0(n,e,t,s){t==null&&(t=Xb(n)||0);var o=Jb(n,t,s),a=_d(n,"transitionend",e);return function(){o(),a()}}function oE(n,e){const t=Wi(n,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function Zb(n,e){const t=oE(n,"transitionDuration"),s=oE(n,"transitionDelay"),o=T0(n,a=>{a.target===n&&(o(),e(a))},t+s)}function e2(n){n.offsetHeight}const aE=n=>!n||typeof n=="function"?n:e=>{n.current=e};function t2(n,e){const t=aE(n),s=aE(e);return o=>{t&&t(o),s&&s(o)}}function A0(n,e){return S.useMemo(()=>t2(n,e),[n,e])}function n2(n){return n&&"setState"in n?na.findDOMNode(n):n??null}const r2=ke.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:a,addEndListener:u,children:h,childRef:f,...g},v)=>{const A=S.useRef(null),w=A0(A,f),R=se=>{w(n2(se))},P=se=>C=>{se&&A.current&&se(A.current,C)},L=S.useCallback(P(n),[n]),j=S.useCallback(P(e),[e]),O=S.useCallback(P(t),[t]),b=S.useCallback(P(s),[s]),$=S.useCallback(P(o),[o]),K=S.useCallback(P(a),[a]),J=S.useCallback(P(u),[u]);return p.jsx(ds,{ref:v,...g,onEnter:L,onEntered:O,onEntering:j,onExit:b,onExited:K,onExiting:$,addEndListener:J,nodeRef:A,children:typeof h=="function"?(se,C)=>h(se,{...C,ref:R}):ke.cloneElement(h,{ref:R})})});function s2(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n},[n]),e}function Qp(n){const e=s2(n);return S.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const i2=n=>S.forwardRef((e,t)=>p.jsx("div",{...e,ref:t,className:zn(e.className,n)}));function o2(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n},[n]),e}function Fi(n){const e=o2(n);return S.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function a2(){const n=S.useRef(!0),e=S.useRef(()=>n.current);return S.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function l2(n){const e=S.useRef(null);return S.useEffect(()=>{e.current=n}),e.current}const u2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",c2=typeof document<"u",lE=c2||u2?S.useLayoutEffect:S.useEffect,d2=["as","disabled"];function h2(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function f2(n){return!n||n.trim()==="#"}function I0({tagName:n,disabled:e,href:t,target:s,rel:o,role:a,onClick:u,tabIndex:h=0,type:f}){n||(t!=null||s!=null||o!=null?n="a":n="button");const g={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},g];const v=w=>{if((e||n==="a"&&f2(t))&&w.preventDefault(),e){w.stopPropagation();return}u==null||u(w)},A=w=>{w.key===" "&&(w.preventDefault(),v(w))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:h,href:t,target:n==="a"?s:void 0,"aria-disabled":e||void 0,rel:n==="a"?o:void 0,onClick:v,onKeyDown:A},g]}const p2=S.forwardRef((n,e)=>{let{as:t,disabled:s}=n,o=h2(n,d2);const[a,{tagName:u}]=I0(Object.assign({tagName:t,disabled:s},o));return p.jsx(u,Object.assign({},o,a,{ref:e}))});p2.displayName="Button";const m2={[Fs]:"show",[Mi]:"show"},Jm=S.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:s,...o},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},h=S.useCallback((f,g)=>{e2(f),s==null||s(f,g)},[s]);return p.jsx(r2,{ref:a,addEndListener:Zb,...u,onEnter:h,childRef:Jd(e),children:(f,g)=>S.cloneElement(e,{...g,className:zn("fade",n,e.props.className,m2[f],t[f])})})});Jm.displayName="Fade";const g2={"aria-label":Sr.string,onClick:Sr.func,variant:Sr.oneOf(["white"])},Zm=S.forwardRef(({className:n,variant:e,"aria-label":t="Close",...s},o)=>p.jsx("button",{ref:o,type:"button",className:zn("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...s}));Zm.displayName="CloseButton";Zm.propTypes=g2;const x0=S.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:a=!1,className:u,...h},f)=>{const g=so(e,"btn"),[v,{tagName:A}]=I0({tagName:n,disabled:a,...h}),w=A;return p.jsx(w,{...v,...h,ref:f,disabled:a,className:zn(u,g,o&&"active",t&&`${g}-${t}`,s&&`${g}-${s}`,h.href&&a&&"disabled")})});x0.displayName="Button";function y2(n){const e=S.useRef(n);return e.current=n,e}function _2(n){const e=y2(n);S.useEffect(()=>()=>e.current(),[])}var v2=Function.prototype.bind.call(Function.prototype.call,[].slice);function Yo(n,e){return v2(n.querySelectorAll(e))}function uE(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const E2="data-rr-ui-";function w2(n){return`${E2}${n}`}const S0=S.createContext(Oa?window:void 0);S0.Provider;function eg(){return S.useContext(S0)}const cE=n=>!n||typeof n=="function"?n:e=>{n.current=e};function T2(n,e){const t=cE(n),s=cE(e);return o=>{t&&t(o),s&&s(o)}}function tg(n,e){return S.useMemo(()=>T2(n,e),[n,e])}var Fc;function dE(n){if((!Fc&&Fc!==0||n)&&Oa){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Fc=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Fc}function A2(){return S.useState(null)}function np(n){n===void 0&&(n=Xd());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function I2(n){const e=S.useRef(n);return e.current=n,e}function x2(n){const e=I2(n);S.useEffect(()=>()=>e.current(),[])}function S2(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const hE=w2("modal-open");class ng{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return S2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(Wi(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(hE,""),Wi(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(hE),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const rp=(n,e)=>Oa?n==null?(e||Xd()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function C2(n,e){const t=eg(),[s,o]=S.useState(()=>rp(n,t==null?void 0:t.document));if(!s){const a=rp(n);a&&o(a)}return S.useEffect(()=>{},[e,s]),S.useEffect(()=>{const a=rp(n);a!==s&&o(a)},[n,s]),s}function R2({children:n,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const a=S.useRef(null),u=S.useRef(e),h=Fi(t);S.useEffect(()=>{e?u.current=!0:h(a.current)},[e,h]);const f=tg(a,Jd(n)),g=S.cloneElement(n,{ref:f});return e?g:o||!u.current&&s?null:g}const k2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function P2(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function N2(n){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:a,onExited:u,addEndListener:h,children:f}=n,g=P2(n,k2);const v=S.useRef(null),A=tg(v,Jd(f)),w=K=>J=>{K&&v.current&&K(v.current,J)},R=S.useCallback(w(e),[e]),P=S.useCallback(w(t),[t]),L=S.useCallback(w(s),[s]),j=S.useCallback(w(o),[o]),O=S.useCallback(w(a),[a]),b=S.useCallback(w(u),[u]),$=S.useCallback(w(h),[h]);return Object.assign({},g,{nodeRef:v},e&&{onEnter:R},t&&{onEntering:P},s&&{onEntered:L},o&&{onExit:j},a&&{onExiting:O},u&&{onExited:b},h&&{addEndListener:$},{children:typeof f=="function"?(K,J)=>f(K,Object.assign({},J,{ref:A})):S.cloneElement(f,{ref:A})})}const b2=["component"];function O2(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}const D2=S.forwardRef((n,e)=>{let{component:t}=n,s=O2(n,b2);const o=N2(s);return p.jsx(t,Object.assign({ref:e},o))});function j2({in:n,onTransition:e}){const t=S.useRef(null),s=S.useRef(!0),o=Fi(e);return lE(()=>{if(!t.current)return;let a=!1;return o({in:n,element:t.current,initial:s.current,isStale:()=>a}),()=>{a=!0}},[n,o]),lE(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function L2({children:n,in:e,onExited:t,onEntered:s,transition:o}){const[a,u]=S.useState(!e);e&&a&&u(!1);const h=j2({in:!!e,onTransition:g=>{const v=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(u(!0),t==null||t(g.element)))};Promise.resolve(o(g)).then(v,A=>{throw g.in||u(!0),A})}}),f=tg(h,Jd(n));return a&&!e?null:S.cloneElement(n,{ref:f})}function fE(n,e,t){return n?p.jsx(D2,Object.assign({},t,{component:n})):e?p.jsx(L2,Object.assign({},t,{transition:e})):p.jsx(R2,Object.assign({},t))}const V2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function M2(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}let sp;function F2(n){return sp||(sp=new ng({ownerDocument:n==null?void 0:n.document})),sp}function U2(n){const e=eg(),t=n||F2(e),s=S.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:S.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:S.useCallback(o=>{s.current.backdrop=o},[])})}const C0=S.forwardRef((n,e)=>{let{show:t=!1,role:s="dialog",className:o,style:a,children:u,backdrop:h=!0,keyboard:f=!0,onBackdropClick:g,onEscapeKeyDown:v,transition:A,runTransition:w,backdropTransition:R,runBackdropTransition:P,autoFocus:L=!0,enforceFocus:j=!0,restoreFocus:O=!0,restoreFocusOptions:b,renderDialog:$,renderBackdrop:K=Ke=>p.jsx("div",Object.assign({},Ke)),manager:J,container:se,onShow:C,onHide:x=()=>{},onExit:k,onExited:V,onExiting:F,onEnter:B,onEntering:D,onEntered:Ne}=n,$e=M2(n,V2);const Ye=eg(),Pe=C2(se),te=U2(J),ge=a2(),ae=l2(t),[z,Y]=S.useState(!t),ce=S.useRef(null);S.useImperativeHandle(e,()=>te,[te]),Oa&&!ae&&t&&(ce.current=np(Ye==null?void 0:Ye.document)),t&&z&&Y(!1);const we=Fi(()=>{if(te.add(),nt.current=_d(document,"keydown",Ve),qe.current=_d(document,"focus",()=>setTimeout(be),!0),C&&C(),L){var Ke,pr;const qn=np((Ke=(pr=te.dialog)==null?void 0:pr.ownerDocument)!=null?Ke:Ye==null?void 0:Ye.document);te.dialog&&qn&&!uE(te.dialog,qn)&&(ce.current=qn,te.dialog.focus())}}),Ce=Fi(()=>{if(te.remove(),nt.current==null||nt.current(),qe.current==null||qe.current(),O){var Ke;(Ke=ce.current)==null||Ke.focus==null||Ke.focus(b),ce.current=null}});S.useEffect(()=>{!t||!Pe||we()},[t,Pe,we]),S.useEffect(()=>{z&&Ce()},[z,Ce]),x2(()=>{Ce()});const be=Fi(()=>{if(!j||!ge()||!te.isTopModal())return;const Ke=np(Ye==null?void 0:Ye.document);te.dialog&&Ke&&!uE(te.dialog,Ke)&&te.dialog.focus()}),De=Fi(Ke=>{Ke.target===Ke.currentTarget&&(g==null||g(Ke),h===!0&&x())}),Ve=Fi(Ke=>{f&&Gb(Ke)&&te.isTopModal()&&(v==null||v(Ke),Ke.defaultPrevented||x())}),qe=S.useRef(),nt=S.useRef(),en=(...Ke)=>{Y(!0),V==null||V(...Ke)};if(!Pe)return null;const mn=Object.assign({role:s,ref:te.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},$e,{style:a,className:o,tabIndex:-1});let tn=$?$(mn):p.jsx("div",Object.assign({},mn,{children:S.cloneElement(u,{role:"document"})}));tn=fE(A,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:k,onExiting:F,onExited:en,onEnter:B,onEntering:D,onEntered:Ne,children:tn});let nn=null;return h&&(nn=K({ref:te.setBackdropRef,onClick:De}),nn=fE(R,P,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:nn})),p.jsx(p.Fragment,{children:na.createPortal(p.jsxs(p.Fragment,{children:[nn,tn]}),Pe)})});C0.displayName="Modal";const B2=Object.assign(C0,{Manager:ng});function z2(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function $2(n,e){n.classList?n.classList.add(e):z2(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function pE(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function q2(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=pE(n.className,e):n.setAttribute("class",pE(n.className&&n.className.baseVal||"",e))}const Xo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class H2 extends ng{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,Wi(t,{[e]:`${parseFloat(Wi(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],Wi(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if($2(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Yo(t,Xo.FIXED_CONTENT).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth)),Yo(t,Xo.STICKY_CONTENT).forEach(a=>this.adjustAndStore(o,a,-e.scrollBarWidth)),Yo(t,Xo.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(o,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();q2(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Yo(t,Xo.FIXED_CONTENT).forEach(a=>this.restore(s,a)),Yo(t,Xo.STICKY_CONTENT).forEach(a=>this.restore(o,a)),Yo(t,Xo.NAVBAR_TOGGLER).forEach(a=>this.restore(o,a))}}let ip;function W2(n){return ip||(ip=new H2(n)),ip}const R0=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...s},o)=>(e=so(e,"modal-body"),p.jsx(t,{ref:o,className:zn(n,e),...s})));R0.displayName="ModalBody";const k0=S.createContext({onHide(){}}),rg=S.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:s,size:o,fullscreen:a,children:u,scrollable:h,...f},g)=>{n=so(n,"modal");const v=`${n}-dialog`,A=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return p.jsx("div",{...f,ref:g,className:zn(v,e,o&&`${n}-${o}`,s&&`${v}-centered`,h&&`${v}-scrollable`,a&&A),children:p.jsx("div",{className:zn(`${n}-content`,t),children:u})})});rg.displayName="ModalDialog";const P0=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...s},o)=>(e=so(e,"modal-footer"),p.jsx(t,{ref:o,className:zn(n,e),...s})));P0.displayName="ModalFooter";const K2=S.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...a},u)=>{const h=S.useContext(k0),f=Qp(()=>{h==null||h.onHide(),s==null||s()});return p.jsxs("div",{ref:u,...a,children:[o,t&&p.jsx(Zm,{"aria-label":n,variant:e,onClick:f})]})}),N0=S.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:s=!1,...o},a)=>(n=so(n,"modal-header"),p.jsx(K2,{ref:a,...o,className:zn(e,n),closeLabel:t,closeButton:s})));N0.displayName="ModalHeader";const G2=i2("h4"),b0=S.forwardRef(({className:n,bsPrefix:e,as:t=G2,...s},o)=>(e=so(e,"modal-title"),p.jsx(t,{ref:o,className:zn(n,e),...s})));b0.displayName="ModalTitle";function Q2(n){return p.jsx(Jm,{...n,timeout:null})}function Y2(n){return p.jsx(Jm,{...n,timeout:null})}const O0=S.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:s,contentClassName:o,children:a,dialogAs:u=rg,"data-bs-theme":h,"aria-labelledby":f,"aria-describedby":g,"aria-label":v,show:A=!1,animation:w=!0,backdrop:R=!0,keyboard:P=!0,onEscapeKeyDown:L,onShow:j,onHide:O,container:b,autoFocus:$=!0,enforceFocus:K=!0,restoreFocus:J=!0,restoreFocusOptions:se,onEntered:C,onExit:x,onExiting:k,onEnter:V,onEntering:F,onExited:B,backdropClassName:D,manager:Ne,...$e},Ye)=>{const[Pe,te]=S.useState({}),[ge,ae]=S.useState(!1),z=S.useRef(!1),Y=S.useRef(!1),ce=S.useRef(null),[we,Ce]=A2(),be=A0(Ye,Ce),De=Qp(O),Ve=Fb();n=so(n,"modal");const qe=S.useMemo(()=>({onHide:De}),[De]);function nt(){return Ne||W2({isRTL:Ve})}function en(Ee){if(!Oa)return;const Ze=nt().getScrollbarWidth()>0,xn=Ee.scrollHeight>Xd(Ee).documentElement.clientHeight;te({paddingRight:Ze&&!xn?dE():void 0,paddingLeft:!Ze&&xn?dE():void 0})}const mn=Qp(()=>{we&&en(we.dialog)});_2(()=>{Gp(window,"resize",mn),ce.current==null||ce.current()});const tn=()=>{z.current=!0},nn=Ee=>{z.current&&we&&Ee.target===we.dialog&&(Y.current=!0),z.current=!1},Ke=()=>{ae(!0),ce.current=T0(we.dialog,()=>{ae(!1)})},pr=Ee=>{Ee.target===Ee.currentTarget&&Ke()},qn=Ee=>{if(R==="static"){pr(Ee);return}if(Y.current||Ee.target!==Ee.currentTarget){Y.current=!1;return}O==null||O()},io=Ee=>{P?L==null||L(Ee):(Ee.preventDefault(),R==="static"&&Ke())},hs=(Ee,Ze)=>{Ee&&en(Ee),V==null||V(Ee,Ze)},Hn=Ee=>{ce.current==null||ce.current(),x==null||x(Ee)},Wn=(Ee,Ze)=>{F==null||F(Ee,Ze),w0(window,"resize",mn)},ai=Ee=>{Ee&&(Ee.style.display=""),B==null||B(Ee),Gp(window,"resize",mn)},fs=S.useCallback(Ee=>p.jsx("div",{...Ee,className:zn(`${n}-backdrop`,D,!w&&"show")}),[w,D,n]),Lr={...t,...Pe};Lr.display="block";const li=Ee=>p.jsx("div",{role:"dialog",...Ee,style:Lr,className:zn(e,n,ge&&`${n}-static`,!w&&"show"),onClick:R?qn:void 0,onMouseUp:nn,"data-bs-theme":h,"aria-label":v,"aria-labelledby":f,"aria-describedby":g,children:p.jsx(u,{...$e,onMouseDown:tn,className:s,contentClassName:o,children:a})});return p.jsx(k0.Provider,{value:qe,children:p.jsx(B2,{show:A,ref:be,backdrop:R,container:b,keyboard:!0,autoFocus:$,enforceFocus:K,restoreFocus:J,restoreFocusOptions:se,onEscapeKeyDown:io,onShow:j,onHide:O,onEnter:hs,onEntering:Wn,onEntered:C,onExit:Hn,onExiting:k,onExited:ai,manager:nt(),transition:w?Q2:void 0,backdropTransition:w?Y2:void 0,renderBackdrop:fs,renderDialog:li})})});O0.displayName="Modal";const Vn=Object.assign(O0,{Body:R0,Header:N0,Title:b0,Footer:P0,Dialog:rg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),X2=()=>{var R;const[n,e]=S.useState({name:"",email:"",password:"",address:"",mobileno:""}),[t,s]=S.useState(!1),[o,a]=S.useState(""),u=In(),h=S.useContext(pn);let f=[];f=(R=h.allusers)==null?void 0:R.filter(P=>P.email!==h.cuser.email);const g=async P=>{await Fd(dt(We,"Users",P.id))},v=P=>{const{name:L,value:j}=P.target;e(O=>({...O,[L]:j})),a(O=>{let b={...O};if(L==="password"){const $=/[!@#$%&*]/.test(j),K=/[A-Z]/.test(j);j.length>=8?K?$?delete b.password:b.password="* Password must be contain a special character.":b.password="* Password must contain at least 1 capital letter":b.password="* Password should be 8 charcters or above"}else L=="mobileno"?j.length>=10?delete b.mobileno:b.mobileno="* Mobile number should be equal to 10 characters":j.trim()!==" "&&delete b[L];return b})},A=async P=>{var L;P.preventDefault();try{if(!((L=h.allusers)==null?void 0:L.every($=>$.email!==n.email))){xe.error("Email Already Exists! Please Use Different Email",{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});return}xe.success("✅ User Added Succesfully!",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});const O=await zT(ss,n.email,n.password),b={...n,role:"user",createdAt:new Date};O&&(await ro(dt(We,"Users",O.user.uid),b),await ss.signOut(),await $T(ss,h.cuser.email,h.currentuserfulldetail.password),u("/user")),e({name:"",email:"",role:"",password:"",address:"",mobileno:""}),s(!1),xe.success("User Added",{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}catch(j){console.error("Error in storing user",j)}},w=()=>{s(!0)};return p.jsxs(p.Fragment,{children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsx("title",{children:"All Users"})})}),p.jsxs("div",{className:"alluser",children:[p.jsx(fr,{}),p.jsx("div",{className:"usertable",children:p.jsxs("table",{children:[p.jsxs("thead",{children:[p.jsxs("tr",{children:[p.jsx("td",{colSpan:"4",style:{fontWeight:"bolder",fontSize:"40px"},children:"All Users"}),p.jsx("td",{colSpan:"3",children:p.jsx("button",{className:"qntbutton addnewbutton",onClick:w,children:"Add New User"})})]}),p.jsxs("tr",{children:[p.jsx("th",{children:"Sr.No"}),p.jsx("th",{children:"Name"}),p.jsx("th",{children:"Email"}),p.jsx("th",{children:"Password"}),p.jsx("th",{children:"Role"}),p.jsx("th",{children:"Mobile No"}),p.jsx("th",{children:"Action"})]})]}),p.jsx("tbody",{children:f.map((P,L)=>p.jsxs("tr",{children:[p.jsx("td",{children:L+1}),p.jsx("td",{children:P.name}),p.jsx("td",{children:P.email}),p.jsx("td",{children:P.password}),p.jsx("td",{children:P.role}),p.jsx("td",{children:P.mobileno}),p.jsx("td",{children:p.jsx("button",{className:"qntbutton2 deletebutton",onClick:()=>g(P),children:"Delete"})})]},L))})]})}),p.jsxs(Vn,{show:t,size:"lg",onHide:()=>s(!1),children:[p.jsx(Vn.Header,{closeButton:!0,children:p.jsx(Vn.Title,{children:"Add New User"})}),p.jsx(Vn.Body,{children:p.jsxs("div",{className:"regform5",children:[p.jsxs("form",{children:[p.jsx("div",{className:"card-header bg-primary text-white text-center",children:p.jsx("h3",{children:"Add New User"})}),p.jsx("br",{}),p.jsxs("div",{className:"form-group gap",children:[p.jsx("label",{htmlFor:"formGroupExampleInput",children:"UserName"}),p.jsx("input",{name:"name",type:"text",value:n.name,className:"form-control",id:"formGroupExampleInput",placeholder:"Enter Your Name",onChange:P=>v(P),required:!0})]}),p.jsxs("div",{className:"form-group gap",children:[p.jsx("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),p.jsx("input",{type:"email",name:"email",value:n.email,className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Your email",onChange:P=>v(P),required:!0}),p.jsx("small",{id:"emailHelp",className:"form-text text-muted",children:"Well never share your email with anyone else."})]}),p.jsxs("div",{className:"form-group gap",children:[p.jsx("label",{htmlFor:"exampleInputPassword1",children:"Password"}),p.jsx("input",{type:"password",name:"password",value:n.password,className:"form-control",id:"exampleInputPassword1",placeholder:"Enter Your Password",onChange:P=>v(P),required:!0}),o&&p.jsx("p",{className:"text-red-600 font-bold text-base",children:o.password})]}),p.jsxs("div",{className:"form-group gap",children:[p.jsx("label",{htmlFor:"exampleFormControlTextarea1",children:"Address"}),p.jsx("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"5",name:"address",value:n.address,onChange:P=>v(P),required:!0})]}),p.jsxs("div",{"data-mdb-input-init":!0,className:"form-outline gap",children:[p.jsx("label",{className:"form-label",htmlFor:"typePhone",children:"Phone number"}),p.jsx("input",{type:"tel",id:"typePhone",className:"form-control",name:"mobileno",value:n.mobileno,onChange:P=>v(P),required:!0}),o&&p.jsx("p",{className:"text-red-600 font-bold text-base",children:o.mobileno})]}),p.jsxs("div",{className:"gap",children:[p.jsx("button",{type:"submit",className:"btn btn-primary ",onClick:w,children:"Cancel"}),"  ",p.jsx("button",{type:"submit",className:"btn btn-primary ",onClick:A,children:"Add"})]})]}),p.jsx(Pa,{})]})})]}),p.jsx(Na,{})]})]})},mE=()=>{var se;const[n,e]=S.useState({products:[],filterproduct:[]}),[t,s]=S.useState("All Products"),[o,a]=S.useState(0),[u,h]=S.useState({}),[f,g]=S.useState(0),v=In(),A=S.useContext(pn),w=S.useContext(ba),R=S.useContext(Qd);S.useEffect(()=>{e(()=>({products:R==null?void 0:R.products,filterproduct:R==null?void 0:R.products}))},[R]);const P=()=>{s("All Products"),e(C=>({...C,products:R.products}))},L=()=>{var x;s("Men's Products");const C=(x=R.products)==null?void 0:x.filter(k=>k.category=="men");e(k=>({...k,products:C}))},j=()=>{var x;s("Women's Products");const C=(x=R.products)==null?void 0:x.filter(k=>k.category=="women");e(k=>({...k,products:C}))},O=()=>{var x;s("Sport's Products");const C=(x=R.products)==null?void 0:x.filter(k=>k.category=="sports");e(k=>({...k,products:C}))},b=async C=>{var k,V,F,B;const x=u[C.id]||1;if(((k=w.cartitem)==null?void 0:k.length)>0)if((V=w.cartitem)==null?void 0:V.find(Ne=>Ne.productid==C.id)){const Ne=(F=w.cartitem)==null?void 0:F.map($e=>$e.productid===C.id?{...$e,quantity:$e.quantity=x}:$e);await Un(dt(We,"Cart",A.cuser.uid),{items:Ne}),g($e=>$e+1),xe.success(`${C.productname}'s Added To Cart`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}else{const Ne={productid:C.id,price:C.price,quantity:x};await Un(dt(We,"Cart",(B=A.cuser)==null?void 0:B.uid),{items:Bd(Ne)}),g($e=>$e+1),xe.success(`${C.productname}'s Added To Cart`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}else{const D={productid:C.id,price:C.price,quantity:x};try{await ro(dt(We,"Cart",A.cuser.uid),{items:[D]}),g(Ne=>Ne+1),xe.success(`${C.productname}'s Added To Cart`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}catch(Ne){console.error(Ne)}}},$=()=>{v("/products")},K=["🚀 Get 10% OFF on your first order! Use code: WELCOME10","🔥 Buy 2, Get 5% OFF | Buy 3, Get 10% OFF!","⚡ Flash Sale! 20% OFF for the next 24 hours! Use code: FLASH20","🎁 Free Shipping on orders above $50!"];S.useEffect(()=>{const C=setInterval(()=>{a(x=>(x+1)%K.length)},3e3);return()=>clearInterval(C)},[]);const J=(C,x)=>{h(k=>({...k,[C]:x}))};return p.jsxs(p.Fragment,{children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsx("title",{children:"All Products"})})}),p.jsxs("div",{className:"allpr",children:[p.jsx(fr,{}),p.jsx("div",{className:"discount",children:p.jsx("h1",{className:"dis-text",children:K[o]})}),p.jsx("div",{className:"filter my-4",children:p.jsxs("div",{className:"btn-group",role:"group","aria-label":"Category Filter",children:[p.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:P,children:"All"}),p.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:L,children:"Men"}),p.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:j,children:"Women"}),p.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:O,children:"Sports"})]})}),p.jsx("h1",{className:"heading",children:t}),p.jsx("div",{className:"container",children:(se=n.products)==null?void 0:se.map((C,x)=>{var k,V,F;return p.jsxs("div",{className:"card cd1",style:{width:"18rem"},children:[p.jsx("div",{className:"img5",children:p.jsx("img",{className:"card-img-top img1",src:Xm,alt:"Card image cap"})}),p.jsxs("div",{className:"card-body cdbody",children:[p.jsxs("h5",{className:"card-title",children:[C==null?void 0:C.productname," "]}),p.jsx("p",{className:"card-text",children:C==null?void 0:C.description})]}),p.jsxs("ul",{className:"list-group list-group-flush",children:[p.jsxs("li",{className:"list-group-item",children:["Category: ",C==null?void 0:C.category]}),p.jsxs("li",{className:"list-group-item",children:["Price: ",C==null?void 0:C.price]}),p.jsxs("li",{className:"list-group-item",children:["Stock: ",C==null?void 0:C.stock]}),((k=A.currentuserfulldetail)==null?void 0:k.role)=="user"&&p.jsx("li",{className:"list-group-item quantity",children:p.jsx(Yd,{productid:C.id,onQuantityChange:J,resetTrigger:f})}),((V=A.currentuserfulldetail)==null?void 0:V.role)=="user"&&p.jsx("li",{className:"list-group-item addcart button",onClick:()=>b(C),style:{borderRadius:"0px 0px 15px 15px"},role:"button",children:"Add To Cart"}),((F=A.currentuserfulldetail)==null?void 0:F.role)=="admin"&&p.jsx("li",{className:"list-group-item addcart",onClick:$,role:"button",children:"Edit"})]})]},x)})}),p.jsx(Pa,{}),p.jsx(Na,{})]})]})},J2="/FootWorld/assets/emptyorder-CeIj91kV.png",Z2=()=>{var j;const[n,e]=S.useState([]),[t,s]=S.useState(!1),[o,a]=S.useState({productdetails:[],orderid:{}}),[u,h]=S.useState({}),f=S.useContext(ba),g=S.useContext(pn),v=In(),A=async()=>{var b;s(!0);const O=(b=g==null?void 0:g.cuser)==null?void 0:b.uid;if(O){const $=Ea(br(We,"Orders"),qi("Userid","==",O)),K=Ra($,J=>{const se=J.docs.map(C=>({id:C.id,...C.data()}));e(se),s(!1)},J=>{console.error("Error fetching orders: ",J),s(!1)});return()=>K()}else s(!1)};S.useEffect(()=>{A()},[g]);const w=async O=>{var se,C;const b=(se=O.cartitem)==null?void 0:se.map(x=>x.productid),K=(C=(await bp(Ea(br(We,"Products"),qi(Rm(),"in",b)))).docs)==null?void 0:C.map(x=>({id:x.id,...x.data()})),J=K==null?void 0:K.map(x=>{var V;const k=(V=O.cartitem)==null?void 0:V.find(F=>x.id==F.productid);return{...x,quantity:k.quantity}});a(()=>({productdetails:J,orderid:O.id})),h(x=>({[O.id]:!x[O.id]}))},R=async O=>{var $,K;const b=dt(We,"Cart",g.cuser.uid);if(f.length>0)if(($=f.cartitem)==null?void 0:$.map(se=>se.productid==O.id)){const se=(K=f.cartitem)==null?void 0:K.map(C=>C.productid==O.id?{...C,quantity:C.quantity=1}:C);await Un(b,{items:se}),xe.success(`${O.productname} added to cart`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}else await Un(b,{items:Bd({productid:O.id,price:O.price,quantity:1,buyedAt:new Date})}),xe.success(`${O.productname} added to cart`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});else await ro(b,{items:[{productid:O.id,price:O.price,quantity:1,buyedAt:new Date}]}),xe.success(`${O.productname} added to cart`,{position:"top-left",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},P=async O=>{try{await Fd(dt(We,"Orders",O.id))}catch(b){console.error("Error in deleting history",b)}},L=()=>{v("/allproducts")};return p.jsxs(p.Fragment,{children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsx("title",{children:"Order History"})})}),p.jsxs("div",{className:"orerall",children:[p.jsx(fr,{}),t?p.jsx("div",{className:"spinner",children:p.jsx(Hd,{size:50,color:"black",loading:t})}):n.length>0?p.jsxs("div",{className:"order1",children:[p.jsx("h1",{style:{textAlign:"center",width:"80%",margin:"auto"},children:"Order History"}),p.jsxs("table",{children:[p.jsxs("thead",{children:[p.jsx("tr",{children:p.jsx("th",{colSpan:"6",className:"yorder",children:"Your Orders"})}),p.jsxs("tr",{children:[p.jsx("th",{children:"TotalPrice"}),p.jsx("th",{children:"Date"}),p.jsx("th",{children:"TotalProduct"}),p.jsx("th",{children:"OrderStatus"}),p.jsx("th",{children:"ShowMore"}),p.jsx("th",{children:"Remove"})]})]}),p.jsx("tbody",{children:n==null?void 0:n.map((O,b)=>p.jsxs("tr",{children:[p.jsx("td",{children:O.totalAmount}),p.jsx("td",{children:new Date(O.createdAt.seconds*1e3).toLocaleString()}),p.jsx("td",{children:O.cartitem.length}),p.jsx("td",{children:O.orderStatus}),p.jsx("td",{children:p.jsx("span",{onClick:()=>w(O),style:{cursor:"pointer",color:"blue"},children:"More"})}),p.jsx("td",{children:p.jsx("button",{title:"Delete from history",className:"",onClick:()=>P(O),children:p.jsx("svg",{className:"deletesvg",xmlns:"http://www.w3.org/2000/svg",height:"40px",viewBox:"0 -960 960 960",width:"40px",fill:"#ff0000",children:p.jsx("path",{d:"m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})})})})]},b))})]})]}):p.jsxs("div",{className:"empty-order-history",children:[p.jsx("img",{src:J2,alt:"No Orders",className:"empty-order-image"}),p.jsx("h2",{children:"No Orders Yet!"}),p.jsx("p",{children:"You havent placed any orders. Start shopping now!"}),p.jsx("button",{className:"shop-now-button",onClick:L,children:"Shop Now"})]}),p.jsxs(Vn,{show:u[o.orderid],size:"xl",onHide:()=>h(!1),className:"madalview",children:[p.jsx(Vn.Header,{closeButton:!0,children:p.jsx(Vn.Title,{children:"ProductDetails"})}),p.jsx(Vn.Body,{children:p.jsx("div",{className:"productdetail",children:p.jsxs("table",{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Productname"}),p.jsx("th",{children:"Price"}),p.jsx("th",{children:"Description"}),p.jsx("th",{children:"Quantity"}),p.jsx("th",{children:"Category"}),p.jsx("th",{children:"Re-buy"})]})}),p.jsx("tbody",{children:(j=o.productdetails)==null?void 0:j.map((O,b)=>p.jsxs("tr",{children:[p.jsx("td",{children:O.productname}),p.jsx("td",{children:O.price}),p.jsx("td",{children:O.description}),p.jsx("td",{children:O.quantity}),p.jsx("td",{children:O.category}),p.jsxs("td",{children:[p.jsx("button",{className:"qntbutton",onClick:()=>R(O),children:"Re-Buy"})," "]})]},b))})]})})})]})]})]})},eO=()=>{var O;const[n,e]=S.useState({productname:"",description:"",price:"",category:"",stock:""}),[t,s]=S.useState(!1),[o,a]=S.useState({}),[u,h]=S.useState({}),f=S.useContext(Qd),g=jr();S.useEffect(()=>{var b,$;(b=g.state)!=null&&b.productfulldetail&&(s(!0),a(($=g.state)==null?void 0:$.productfulldetail))},[g.state]);const v=()=>s(!0),A=b=>{const{name:$,value:K}=b.target;e(J=>({...J,[$]:K})),h(J=>{let se={...J};return $==="price"?K>0?delete se.price:se.price="* Price  can not be zero":K!==" "&&delete se[$],se})},w=b=>{a(b),s(!0)};S.useEffect(()=>{o&&e({productname:o.productname||"",description:o.description||"",price:o.price||"",category:o.category||"",stock:o.stock||""})},[o]);const R=Object.keys(o).length>0,P=()=>{s(!1),e({productname:"",description:"",price:"",category:"",stock:""}),a({})},L=async b=>{b.preventDefault();const $=b.nativeEvent.submitter.value;$==="Add Product"?(await _T(br(We,"Products"),{...n,createdAt:new Date}),e({productname:"",description:"",price:"",category:"",stock:""}),s(!1)):$==="Save Edit"&&(await Un(dt(We,"Products",o.id),{...n}),s(!1),a({}))},j=async b=>await Fd(dt(We,"Products",b.id));return p.jsxs(p.Fragment,{children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsx("title",{children:"Add/Edit Product"})})}),p.jsxs("div",{className:"fullpage",children:[p.jsx(fr,{}),p.jsx("div",{className:"productdata",children:p.jsxs("table",{className:"producttable",children:[p.jsxs("thead",{children:[p.jsxs("tr",{className:"allproducttext",children:[p.jsx("td",{colSpan:"4",children:"All Products"}),p.jsx("td",{colSpan:"3",children:p.jsx(x0,{className:"addbutton",variant:"primary",onClick:v,children:"Add New Product"})})]}),p.jsxs("tr",{children:[p.jsx("th",{children:"Sr.No"}),p.jsx("th",{children:"ProductName"}),p.jsx("th",{children:"Description"}),p.jsx("th",{children:"Category"}),p.jsx("th",{children:"Price"}),p.jsx("th",{children:"Stock"}),p.jsx("th",{children:"Action"})]})]}),p.jsx("tbody",{children:(O=f.products)==null?void 0:O.map((b,$)=>p.jsxs("tr",{children:[p.jsx("td",{children:$+1}),p.jsxs("td",{children:[b.productname," "]}),p.jsxs("td",{children:[b.description," "]}),p.jsx("td",{children:b.category}),p.jsx("td",{children:b.price}),p.jsx("td",{children:b.stock}),p.jsxs("td",{style:{width:"15%"},children:[p.jsx("button",{className:"",onClick:()=>w(b),title:"Edit Your Product",children:p.jsx("svg",{className:"editsvg",xmlns:"http://www.w3.org/2000/svg",height:"38px",viewBox:"0 -960 960 960",width:"38px",fill:"#0000ff",children:p.jsx("path",{d:"M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"})})}),p.jsx("button",{className:"",onClick:()=>j(b),title:"Delete Your Product",children:p.jsx("svg",{className:"deletesvg",xmlns:"http://www.w3.org/2000/svg",height:"40px",viewBox:"0 -960 960 960",width:"40px",fill:"#ff0000",children:p.jsx("path",{d:"m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})})})]})]},$))})]})}),p.jsxs(Vn,{show:t,size:"lg",onHide:P,children:[p.jsx(Vn.Header,{closeButton:!0,children:p.jsx(Vn.Title,{children:"Add New Product"})}),p.jsx(Vn.Body,{children:p.jsxs("form",{onSubmit:L,children:[p.jsx("div",{className:"card-header bg-primary text-white text-center",children:p.jsx("h3",{children:"Add New Product"})}),p.jsx("br",{}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"Productname",children:"Product Name"}),p.jsx("input",{type:"text",id:"Product Name",className:"form-control",name:"productname",placeholder:"Enter Price of your product",onChange:b=>A(b),value:n.productname,required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"description",children:"Description"}),p.jsx("textarea",{className:"form-control",id:"description",rows:"3",name:"description",placeholder:"Enter Description",value:n.description,onChange:b=>A(b),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"Price",children:"Price"}),p.jsx("input",{type:"number",id:"price",className:"form-control",name:"price",placeholder:"Enter Price of your product",onChange:b=>A(b),value:n.price,required:!0}),u&&p.jsx("p",{className:"text-red-600 text-md ",children:u.price})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"category",children:"Category"}),p.jsxs("select",{className:"form-control",name:"category",value:n.category||" ",onChange:b=>A(b),required:!0,children:[p.jsx("option",{disabled:!0,value:" ",children:"--Select--"}),p.jsx("option",{value:"all",children:"All"}),p.jsx("option",{value:"men",children:"Men"}),p.jsx("option",{value:"women",children:"Women"}),p.jsx("option",{value:"sports",children:"Sports"}),p.jsx("option",{value:"formal",children:"Formal"})]}),u&&p.jsx("p",{className:"text-red-600 text-md ",children:u.category})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"stock",children:"Stock"}),p.jsx("input",{type:"number",id:"stock",className:"form-control",name:"stock",placeholder:"Enter Available products count",onChange:b=>A(b),value:n.stock,required:!0})]}),p.jsxs("div",{children:[p.jsx("button",{className:"cancelbutton",onClick:P,children:"Close"}),p.jsx("button",{type:"submit",className:"subbutton",value:R?"Save Edit":"Add Product",children:R?"Save Edit":"Add Product"})]})]})})]})]}),p.jsx(Na,{})]})},tO="/FootWorld/assets/image234-B8JfWNI_.webp",gE=()=>{const[n,e]=S.useState(!1),[t,s]=S.useState([]),o=jr(),a=new URLSearchParams(o.search).get("Query"),u=async()=>{try{e(!0);const h=Ea(br(We,"Products"),qi("productname","<=",a+""),qi("productname",">=",a)),f=Ea(br(We,"Products"),qi("category","==",a)),g=await bp(h),v=await bp(f),A=[...g.docs?g.docs.map(w=>({id:w.id,...w.data()})):[],...v.docs?v.docs.map(w=>({id:w.id,...w.data()})):[]];s(A)}catch(h){console.error("Errro in searh",h)}finally{e(!1)}};return S.useEffect(()=>{u()},[a]),p.jsxs(p.Fragment,{children:[p.jsx($n,{children:p.jsx(hr,{children:p.jsx("title",{children:"Search result"})})}),p.jsx(fr,{}),n?p.jsx("div",{children:p.jsx("h1",{children:"Loading Your Search"})}):t.length>0?p.jsx("div",{className:"search-results",children:t.map((h,f)=>p.jsx("div",{className:"product-grid",children:p.jsxs("div",{className:"product-card",children:[p.jsx("div",{className:"product-image-placeholder",children:p.jsx("img",{src:tO,alt:""})}),p.jsxs("div",{className:"product-details",children:[p.jsx("h3",{className:"product-name",children:h.productname}),p.jsxs("p",{className:"product-category",children:[p.jsx("strong",{children:"Category:"})," ",h.category]}),p.jsxs("p",{className:"product-description",children:[p.jsx("strong",{children:"Description:"})," ",h.description,"."]}),p.jsxs("p",{className:"product-price",children:[p.jsx("strong",{children:"Price:"})," ₹",h.price]}),p.jsxs("p",{className:"product-stock",children:[p.jsx("strong",{children:"Stock:"})," ",h.stock]})]})]})},f))}):p.jsx("div",{children:p.jsx("h1",{children:"Searched Item Not Found"})})]})},nO="/FootWorld/assets/check-veoLlfB7.png",rO=()=>{const n=In(),e=jr();S.useEffect(()=>{var o;(o=e.state)!=null&&o.orderid||n("/home")},[e.state,n]);const t=()=>{n("/home")},s=()=>{n("/orderhistory")};return p.jsxs(p.Fragment,{children:[p.jsx(fr,{}),p.jsxs("div",{className:"order-success",children:[p.jsx("img",{src:nO,alt:"Order Success",className:"order-success-icon"}),p.jsx("h1",{children:"Order Placed Successfully!"}),p.jsx("p",{children:"Thank you for shopping with us."}),p.jsxs("div",{className:"order-buttons",children:[p.jsx("button",{className:"order-btn",onClick:t,children:"Go Back to Home"}),p.jsx("button",{className:"order-btn view-orders",onClick:s,children:"View Orders"})]})]})]})},op=()=>{const n=In(),e=S.useContext(pn),t=()=>{if(e.cuser)n("/home");else return};return p.jsx(p.Fragment,{children:p.jsx("div",{className:"notfound-container",children:p.jsxs("div",{className:"notfound-content",children:[p.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/136/136530.png",alt:"404 Icon",className:"notfound-icon"}),p.jsx("h1",{className:"notfound-title",children:"404 - Page Not Found"}),p.jsx("p",{className:"notfound-text",children:"Oops! The page youre looking for doesnt exist."}),p.jsx("p",{href:"/login",className:"notfound-link",onClick:t,role:"button",children:"Go back to homepage"})]})})})},sO="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAMAAzAMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABQYCAwQBB//EADcQAAICAQEGAQkIAQUAAAAAAAABAgMRBAUSITFBUXEGEyIyUmGBkbEUI0JicqHB0TMVJDREU//EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD6gAAAAAAAAAAAAAAxnONa3pyjFc+LwIWK2CnXJOL5MDIHDtPaMdC4xjFTnLjjOMI5qtvUt4tpnD3p5AlwaqNRTqI71M1LuuxtAAAAAAAAAAAAAAAAAAAAAAAAAEbtPacdInVTiVz78omnaW11VKVWlw5rhKb5LwIKcnJuUm5Sby89QM77rb5uVtjk33JR7bjXp66tPS8xilmXJEOAMrbJ3TdlsnKbfFtmIAGdNtlFinVJxkuqLJsvaUdZHdmlG6K4rpLwKwerK9KOU0+DAuvuwCu6DbNlUtzVZsr9rqv7LBCcbIqUJJprKaAyAAAAAAAAAAAAAAAAAAAjttax6bT7tbxZPKz2RIlX23d53aNizlVpQX8/uBwgHZs3Z9mtsyswrXrT/hAcaWWkllvojdDSamfq0WP4Fr0uj0+lhu01RT9p8W/ib/gBUVs3WP8A68zL/S9b/wCEi2ACs0bE1VkvvMVx75yzPbOlr0dGnqqXtNyfOTLGQ/lLDOnqn7MmvmBX+HHgS+wNZKFn2WfGEuMfcyIMq7HVOM484vKAugMYS34RkuqyZAAAAAAAAAAAAAAAAAOxTdW97V3S72S+pcuqKdrFu6y+L6WSX7gY0VSvuhVD1pPBcNNTDT0QqrWIxX79yA8na1PXSnj1IZXiyyAAAAAAA5dp0fadDbWvWxmPijqAFH8fl2PGSm3NC9Pe7q191Y8v8rItgXDZ8t7Q6eT61x+hvNGhjuaOiPauP0N4AAAAAAAAAAAAAAAAArG3KtzaVjxwmlJfR/Qs6IXylq/wXdOMWA8mY8NRNd4r6k4Q3kzw01/619CZAAAAAAAAA0a6EZ6O5SWVuMp8I78ow6yaRcdZ/wAS79DKvsqrzuvoXZ5fwAtcI7sVHssHoYAAAAAAAAAAAAAAAAAI49tVee2dZwTcPSR2IWRVkHXLlJNcgIvybjjR2PvZ/CJY59FpYaPTxpre8s5b7s6AAAAAAAAANWrX+0u/RIhfJujessvlyit1E81lNNJprDTNOj01ekpVdbeG2+PvA3S5o8DAAAAAAAAAAAAAAAAAA9XI8AGQHJJ9GAAAAAAAAAB7hYeea6HnLiYttsAAAAAAAAAAAAAAAAAAAAAA9TzwfJHpiZfUAAAAAAADxA8Z4GAAAAAAAAAAAAAAAAAAAAAD+QHThxMZNtZrxvQ58f2Inam1fNuVGlac8YnPovcjf5PNy0Um223Y8t9QO+u2FnBP0uzNhouo3vTr4T6mham2DxLjjowO4HH9sfsL5nktXN8Ird94HXKahFuTwjklqFO2H4YJ8cmmUpSeZNtmq/8Aw2fpYEtFqXGOGnyaeQVbZ20bNH6LzOl+tHqvAs1VsLq42VPejLlgDMBgAAAAAAAAAAAAAAA0X6zTadZutjF9s5fyIy/bsVn7PU32c/6AmsZInbO0fMp0US+9frNfhRF27U1lvO3dX5OBxt5bbbbfVgPHiWPydedDJrpYyuHTodbbo7N6tpp+tF8mBbzCyuNixJfE59DtCjWJbklGeOMJczq58+QHJPSS51yTXZ8GapU2x51yJEARvmrH+CXyMdRTNaa2UlupQeXLgd+q1FOlr37pqK7dX4Irm1Npz1ma4xcKVxx1YEeuGDt2brpaO1J5dMn6ce3vOIAXSEozrjOElKLXBrqZFPo1eopW7TbKK7Lid9G3L48LoRmu64MCwg4dNtbSX4i5OuXaax+52qSksx4rugPQAAAAAHlk4wi5TajFLLbK7tHbE78w0+YV+11YEtq9p6bSNxcnOfsx4kLq9r6q9tRl5qD/AAw5v4nA8Z4IAHxfV+LyAAAAADIAHqbUlJPDXJ5JnZe15Jxp1Um4t4jN9PEhQBeH3yiP2ptGOjj5utb10lwTfJd2atl6+P8Apsp2v0qFuv8AMun9fAr91srrZ2TeZSeWAuusvsdlsnKb55MAAAAAAAAb9Nq79K15m2UV1TeUzQAJ/SbdrniOqhuP2o8U/wCiVhOFkFKuSlF9U8lL8TfpNZdpLE6pYXWL5MC3g5dBr6tbXmvKnH1oPmjqAru3NbK296eEvuq3iXvZFnsm5TlKTy28t92eAAAAAAAAAAAAAAGyFrhTbUuU8GsAAAAAAAAAAAAAAA2ae+emtjbW8ST+a7Ft010NTRC2vlJcfcynE/sC3GjnFyWI2NLj0wgP/9k=",yE=()=>{var u,h,f,g,v,A,w,R;const n=S.useContext(pn),e=In(),t=()=>{e("/cart")},s=()=>{e("/orderhistory")},o=()=>{e("/user")},a=()=>{e("/addproducts")};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"h-screen bg-gray-300  ",children:[p.jsx(fr,{}),p.jsx("div",{className:"bg-white w-1/2 m-auto h-auto mt-5 rounded-2xl shadow-md shadow-black",children:p.jsxs("div",{className:" flex justify-center gap-40 pt-5 ",children:[p.jsx("div",{className:"h-2/5  flex justify-center",children:p.jsx("img",{src:sO,alt:"",className:"h-[100%] w-[100%] rounded-full"})}),p.jsxs("div",{className:"flex  flex-col justify-cente",children:[p.jsx("p",{className:"text-4xl",children:p.jsx("b",{children:(u=n.currentuserfulldetail)==null?void 0:u.name})}),p.jsx("p",{className:"text-xl",children:p.jsx("b",{children:(h=n.currentuserfulldetail)==null?void 0:h.email})}),p.jsx("p",{children:p.jsx("b",{children:(f=n.currentuserfulldetail)==null?void 0:f.mobileno})}),p.jsxs("p",{children:[p.jsx("b",{children:"Address:"}),p.jsx("br",{})," ",(g=n.currentuserfulldetail)==null?void 0:g.address]}),((v=n.currentuserfulldetail)==null?void 0:v.role)==="user"&&p.jsxs("p",{className:"cursor-pointer bg-blue-800 text-amber-50 p-1 rounded-md  text-center flex gap-2",onClick:t,children:[p.jsx("span",{className:"",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:p.jsx("path",{d:"M280-80q-33 0-56.5-23.5T200-160q0-33 23.5-56.5T280-240q33 0 56.5 23.5T360-160q0 33-23.5 56.5T280-80Zm400 0q-33 0-56.5-23.5T600-160q0-33 23.5-56.5T680-240q33 0 56.5 23.5T760-160q0 33-23.5 56.5T680-80ZM246-720l96 200h280l110-200H246Zm-38-80h590q23 0 35 20.5t1 41.5L692-482q-11 20-29.5 31T622-440H324l-44 80h480v80H280q-45 0-68-39.5t-2-78.5l54-98-144-304H40v-80h130l38 80Zm134 280h280-280Z"})})}),p.jsx("span",{className:"",children:"Cart"})]}),((A=n.currentuserfulldetail)==null?void 0:A.role)==="user"&&p.jsx("p",{className:"cursor-pointer bg-green-500 text-center text-white rounded-md p-1",onClick:s,children:"My Orders"}),((w=n.currentuserfulldetail)==null?void 0:w.role)==="admin"&&p.jsx("p",{className:"cursor-pointer bg-blue-600 text-center text-amber-50 rounded-md p-1 ",onClick:o,children:"Manage Users"}),((R=n.currentuserfulldetail)==null?void 0:R.role)==="admin"&&p.jsx("p",{className:"cursor-pointer bg-blue-600 text-amber-50 text-center rounded-md p-1",onClick:a,children:"Manage Product"}),p.jsx("p",{className:"bg-red-600 text-white text-center rounded-md p-1 cursor-pointer",children:"Change password"})]})]})})]})})};function iO(){var e;const n=S.useContext(pn);return p.jsxs(LI,{children:[p.jsx(Je,{path:"/nopagefound",element:p.jsx(op,{})}),n!=null&&n.cuser?p.jsx(p.Fragment,{children:((e=n==null?void 0:n.currentuserfulldetail)==null?void 0:e.role)=="admin"?p.jsxs(p.Fragment,{children:[p.jsx(Je,{path:"/home",element:p.jsx(Vc,{})}),p.jsx(Je,{path:"/user",element:p.jsx(X2,{})}),p.jsx(Je,{path:"/addproducts",element:p.jsx(eO,{})}),p.jsx(Je,{path:"/about",element:p.jsx(rE,{})}),p.jsx(Je,{path:"/allproducts",element:p.jsx(mE,{})}),p.jsx(Je,{path:"/productdetail/:id",element:p.jsx(nE,{})}),p.jsx(Je,{path:"/search",element:p.jsx(gE,{})}),p.jsx(Je,{path:"/profile",element:p.jsx(yE,{})}),p.jsx(Je,{path:"/",element:p.jsx(Vc,{})}),p.jsx(Je,{path:"*",element:p.jsx(op,{})})]}):p.jsxs(p.Fragment,{children:[p.jsx(Je,{path:"/search",element:p.jsx(gE,{})}),p.jsx(Je,{path:"/home",element:p.jsx(Vc,{})}),p.jsx(Je,{path:"/about",element:p.jsx(rE,{})}),p.jsx(Je,{path:"/cart",element:p.jsx(bb,{})}),p.jsx(Je,{path:"/ordersuccess",element:p.jsx(rO,{})}),p.jsx(Je,{path:"/productdetail/:id",element:p.jsx(nE,{})}),p.jsx(Je,{path:"/allproducts",element:p.jsx(mE,{})}),p.jsx(Je,{path:"/orderhistory",element:p.jsx(Z2,{})}),p.jsx(Je,{path:"/profile",element:p.jsx(yE,{})}),p.jsx(Je,{path:"/",element:p.jsx(Vc,{})}),p.jsx(Je,{path:"*",element:p.jsx(op,{})})]})}):p.jsxs(p.Fragment,{children:[p.jsx(Je,{path:"/",element:p.jsx(Zf,{})}),p.jsx(Je,{path:"*",element:p.jsx(Zf,{})}),p.jsx(Je,{path:"/register",element:p.jsx(kb,{})}),p.jsx(Je,{path:"/login",element:p.jsx(Zf,{})})]})]})}HA.createRoot(document.getElementById("root")).render(p.jsx(S.StrictMode,{children:p.jsx(u0,{children:p.jsx(y0,{children:p.jsx(_0,{children:p.jsx(ox,{basename:"/FootWorld",children:p.jsx(iO,{})})})})})}));
